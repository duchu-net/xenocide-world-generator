!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("three-math")):"function"==typeof define&&define.amd?define("library",["three-math"],e):"object"==typeof exports?exports.library=e(require("three-math")):t.library=e(t["three-math"])}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=145)}([function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(112),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(46)("wks"),i=n(32),a=n(4).Symbol,s="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=s&&a[t]||(s?a:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=n(128)},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(4),i=n(2),a=n(19),s=n(14),o=function(t,e,n){var u,c,l,f=t&o.F,h=t&o.G,p=t&o.S,d=t&o.P,v=t&o.B,y=t&o.W,m=h?i:i[e]||(i[e]={}),_=m.prototype,b=h?r:p?r[e]:(r[e]||{}).prototype;for(u in h&&(n=e),n)(c=!f&&b&&void 0!==b[u])&&u in m||(l=c?b[u]:n[u],m[u]=h&&"function"!=typeof b[u]?n[u]:v&&c?a(l,r):y&&b[u]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):d&&"function"==typeof l?a(Function.call,l):l,d&&((m.virtual||(m.virtual={}))[u]=l,t&o.R&&_&&!_[u]&&s(_,u,l)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,t.exports=o},function(t,e,n){var r=n(6),i=n(76),a=n(50),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(e,n){e.exports=t},function(t,e,n){t.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(5)),i=v(n(16)),a=v(n(30)),s=v(n(1)),o=v(n(0)),u=n(9),c=n(27),l=v(n(20)),f=(v(n(83)),v(n(82))),h=v(n(15)),p=n(36),d=v(n(25));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,t),this.type=null,this.code=null,this.name=null,this.habitable=null,this.habitable_zone_inner=null,this.habitable_zone_outer=null,this.frost_line=null,this.description=null,this.celestial_objects=[],Object.assign(this,e);var n=e.seed,r=e.position,i=e.name,a=e.stars,o=e.planets;this.setSeed(n),this.setName(i),this.setPosition(r),this.stars=a||[],this.planets=o||[]}return(0,o.default)(t,[{key:"setSeed",value:function(t){null==this.seed&&(this.seed=t||Date.now()),this.random=new h.default(this.seed),this.generateSeeds()}},{key:"generateSeeds",value:function(){if(this.seeds&&this.seeds.planets)return this.seeds;this.seeds={stars:this.random.next(),planets:this.random.next()}}},{key:"setPosition",value:function(t){this.position=t||(0,a.default)({},new u.Vector3)}},{key:"setName",value:function(t){this.name=t||d.default.Generate(this.random),this.code=this.name.toUpperCase()}},{key:"build",value:function(){var t=(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"generateStars",value:r.default.mark(function e(){var n,i,a,s,o,u,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=new h.default(this.seeds.stars),i=!0,a=!1,s=void 0,e.prev=5,o=t.GenerateStars(n,this)[Symbol.iterator]();case 7:if(i=(u=o.next()).done){e.next=16;break}return c=u.value,this.stars.push(c),this.celestial_objects.push(c),e.next=13,c;case 13:i=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),a=!0,s=e.t0;case 22:e.prev=22,e.prev=23,!i&&o.return&&o.return();case 25:if(e.prev=25,!a){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:this.stars.sort(function(t,e){return t.mass<e.mass}),this.fillStarInfo(),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.warn(e.t1);case 37:case"end":return e.stop()}},e,this,[[0,34],[5,18,22,30],[23,,25,29]])})},{key:"getStars",value:function(){return this.celestial_objects.filter(function(t){return"STAR"==t.type})}},{key:"getPlanets",value:function(){return this.celestial_objects.filter(function(t){return"PLANET"==t.type})}},{key:"fillPlanetInfo",value:function(){var t=this.getPlanets();this.planetGenerationData={planets_count:t.length},Object.assign(this,this.planetGenerationData)}},{key:"fillStarInfo",value:function(){var t=this.getStars(),e=null;switch(t.length){case 1:e="SINGLE_STAR";break;case 2:e="BINARY_STAR";break;default:e="MULTIPLE_STAR"}var n=t[0];this.starGenerationData={type:e,stars_count:t.length,inner_limit:n.inner_limit,outer_limit:n.outer_limit,frost_line:n.frost_line,habitable_zone:n.habitable_zone,habitable_zone_inner:n.habitable_zone_inner,habitable_zone_outer:n.habitable_zone_outer,star_color:"#ed830b"},Object.assign(this,this.starGenerationData)}},{key:"flushStarGenerationData",value:function(){return this.starGenerationData}},{key:"flushPlanetGenerationData",value:function(){return this.planetGenerationData}},{key:"generateProtoPlanets",value:r.default.mark(function t(){var e,n,i,a,s,o,u,l,f,d,v,y,m,_=this;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=new h.default(this.seeds.planets),n=e.weighted(c.PLANETS_COUNT_IN_SINGLE_STAR_SYSTEM),i=[],a=[],s=["inner","habitable","outer"],o=4,u=3,l=0;l<n;l++)f=[],0!=o&&f.push("inner"),0!=u&&f.push("habitable"),f.push("outer"),"inner"==(d=this.habitable&&0==l?"habitable":e.choice(f))&&o--,"habitable"==d&&u--,a.push(d);a.sort(function(t,e){return s.indexOf(t)-s.indexOf(e)}),v=a.indexOf("habitable"),y=r.default.mark(function t(n){var s,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(s=e.next();i.find(function(t){return t==s});)s=e.next();return i.push(s),o=_.name+" "+(0,p.toRoman)(n+1),t.next=6,{seed:s,zone:a[n],subtype:_.habitable&&n===v?"earth":null,designation:o};case 6:case"end":return t.stop()}},t,_)}),m=0;case 12:if(!(m<n)){t.next=17;break}return t.delegateYield(y(m),"t0",14);case 14:m++,t.next=12;break;case 17:case"end":return t.stop()}},t,this)})},{key:"generatePlanets",value:r.default.mark(function t(){var e,n,i,s,o,u,c;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e=!0,n=!1,i=void 0,t.prev=4,s=this.generateProtoPlanets()[Symbol.iterator]();case 6:if(e=(o=s.next()).done){t.next=16;break}return u=o.value,c=new f.default((0,a.default)({},u,{system:this})),this.planets.push(c),this.celestial_objects.push(c),t.next=13,c;case 13:e=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),n=!0,i=t.t0;case 22:t.prev=22,t.prev=23,!e&&s.return&&s.return();case 25:if(t.prev=25,!n){t.next=28;break}throw i;case 28:return t.finish(25);case 29:return t.finish(22);case 30:this.fillPlanetInfo(),t.next=36;break;case 33:t.prev=33,t.t1=t.catch(0),console.warn(t.t1);case 36:case"end":return t.stop()}},t,this,[[0,33],[4,18,22,30],[23,,25,29]])})},{key:"Position",value:function(t){return this.position=t,this}},{key:"Subsystem",value:function(t){return this._subsystem=t,this}},{key:"Offset",value:function(t){return this.position.add(t),this}},{key:"Swirl",value:function(t,e){var n=this.position.length(),r=Math.pow(n,.1)*e;return this.position.applyAxisAngle(t,r),this}}],[{key:"GenerateStars",value:r.default.mark(function t(e,n){var i,a,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!((i=e.weighted(c.STAR_COUNT_DISTIBUTION_IN_SYSTEMS))<=0)){t.next=4;break}return t.abrupt("return");case 4:a=0;case 5:if(!(a<i)){t.next=13;break}return s={system:n},i>1&&(s.system_sequence=a),t.next=10,l.default.Generate(e,s);case 10:a++,t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("ERR>",t.t0);case 18:case"end":return t.stop()}},t,this,[[0,15]])})}]),t}();e.default=y},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(8),i=n(22);t.exports=n(10)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(26)),i=o(n(1)),a=o(n(0)),s=(n(85),o(n(84)));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){switch((0,i.default)(this,t),void 0===e?"undefined":(0,r.default)(e)){case"object":this.random=e;break;case"number":case"string":this.random=new s.default(e);break;default:this.random=new s.default}return this}return(0,a.default)(t,[{key:"random",get:function(){return this._random},set:function(t){this._random=t}}]),(0,a.default)(t,[{key:"choice",value:function(t){if(!Array.isArray(t))throw new TypeError("list must by an array");return t[this.next(t.length-1)]}},{key:"weighted",value:function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t)))throw new TypeError("list must be array or object");Array.isArray(t)||(t=Object.entries(t).map(function(t){return[t[1],t[0]]}));var e=t.reduce(function(t,e){return t+e[0]},0),n=this.random.real(0,e);console.log(e,n);for(var i=0;i<t.length;i++)if((n-=t[i][0])<0)return t[i][1]}},{key:"Next",value:function(t){return this.next(t)}},{key:"next",value:function(t){return null!=t?this.random.integer(0,t):this.random.next()}},{key:"unit",value:function(){return this.random.unit()}},{key:"integer",value:function(t,e){return this.random.integer(t,e)}},{key:"real",value:function(t,e){return this.random.real(t,e)}},{key:"seed",value:function(){return this.next()}},{key:"NormallyDistributedSingle",value:function(t,e){var n=this.random.unit(),r=this.random.unit(),i=Math.sqrt(-2*Math.log(n)),a=2*Math.PI*r;return i*Math.sin(a)*t+e}},{key:"NormallyDistributedSingle4",value:function(t,e,n,r){var i=(r-e)/t,a=(n-e)/t,s=i-a,o=a*a;a<0&&0<i?o=0:i<0&&(o=i*i);var u=0,c=void 0,l=void 0;do{l=s*this.unit()+a,u=Math.exp((o-l*l)/2),c=this.unit()}while(c>u);return l*t+e}}]),t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(126),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new a.default(function(t,n){return function r(i,s){try{var o=e[i](s),u=o.value}catch(t){return void n(t)}if(!o.done)return a.default.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}},function(t,e,n){var r=n(73),i=n(52);t.exports=function(t){return r(i(t))}},function(t,e){t.exports={}},function(t,e,n){var r=n(34);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(30)),i=y(n(5)),a=y(n(16)),s=y(n(39)),o=y(n(1)),u=y(n(0)),c=y(n(63)),l=y(n(60)),f=y(n(15)),h=y(n(59)),p=y(n(58)),d=n(36),v=n(27);function y(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e);var n=(0,c.default)(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"STAR"));return n.type="STAR",n.habitable=!1,n.body_type="STAR",n.model={},n.luminosity=null,n.radius=null,n.temperature=null,n.temperature_k=null,n.volume=null,n.density=null,n.inner_limit=null,n.outer_limit=null,n.recalculate(),n}return(0,l.default)(e,t),(0,u.default)(e,[{key:"setDesignation",value:function(t){if(!t){var e=this.system,n=void 0===e?{}:e,r=this.system_sequence;t=n&&null!=r?(n.designation||n.name)+" "+d.GREEK_LETTERS[r]:n.designation||n.name}this.designation=t,this.makeCode()}},{key:"recalculate",value:function(){this.mass&&(this.radius=e.calcRadius(this.mass),this.volume=e.calcVolume(this.radius),this.density=e.calcDensity(this.mass,this.radius),this.luminosity=e.calcLuminosity(this.mass),this.inner_limit=e.calcInnerLimit(this.mass),this.outer_limit=e.calcOuterLimit(this.mass),this.frost_line=e.calcFrostLine(this.luminosity),this.temperature=e.calcTemperature(this.luminosity,this.radius),this.surface_area=e.calcSurfaceArea(this.radius),this.circumference=e.calcCircumference(this.radius),this.main_sequence_lifetime=e.calcMainSequenceLifetime(this.mass,this.luminosity),this.habitable_zone=e.calcHabitableZone(this.luminosity),this.habitable_zone_inner=e.calcHabitableZoneStart(this.luminosity),this.habitable_zone_outer=e.calcHabitableZoneEnd(this.luminosity))}},{key:"generateMass",value:function(t){var e=t.choice(v.SPECTRAL_CLASSIFICATION);return t.real(e.min_sol_mass,e.max_sol_mass)}},{key:"MassOrder",value:function(t){return this.mass_order=t,this}},{key:"Generate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.random,e=[["mass",this.generateMass]],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=(0,s.default)(a.value,2),c=u[0],l=u[1];null==this[c]&&(this[c]=l(t))}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return this.recalculate(),this}},{key:"GenerateAsync",value:function(){var t=(0,a.default)(i.default.mark(function t(){var n,r,a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.model,r=this.getSeed(),a=new f.default(r),t.abrupt("return",new Promise(function(t,i){new h.default(function(t){console.log(t.getCurrentActionName(),t.getProgress())}).executeSubaction(function(t){e.generateMass(a).then(function(e){console.log("##",e),t.provideResult(e)})},1,"Generating Star Mass").getResult(function(t){console.log("result",t),n.mass=t,n.seed=r}).finalize(function(e){console.warn("FINISH!!! :D"),t(n)},0).execute()}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}],[{key:"generateMass",value:function(){var t=(0,a.default)(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",1);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"solTemperatureToKelvin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseInt(t*v.SUN_TEMPERATURE)}},{key:"solLifetimeToYears",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseInt(t*v.SUN_AGE)}},{key:"calcLuminosity",value:function(t){switch(!0){case t<.43:return.23*Math.pow(t,2.3);case t<2&&t>=.43:return Math.pow(t,4);case t<20&&t>=2:return 1.5*Math.pow(t,3.5);case t>=20:return 3200*t}}},{key:"calcRadius",value:function(t){var e=t>1?.5:.8;return Math.pow(t,e)}},{key:"calcTemperature",value:function(t,e){return Math.pow(t/Math.pow(e,2),.25)}},{key:"calcVolume",value:function(t){return 4/3*Math.PI*Math.pow(t,3)}},{key:"calcDensity",value:function(t,e){return t/(4/3*Math.PI*Math.pow(e,3))}},{key:"calcFrostLine",value:function(t){return 4.85*Math.sqrt(t)}},{key:"calcMainSequenceLifetime",value:function(t,e){return t/e}},{key:"calcCircumference",value:function(t){return 2*Math.PI*t}},{key:"calcSurfaceArea",value:function(t){return 4*Math.PI*Math.pow(t,2)}},{key:"calcInnerLimit",value:function(t){return.1*t}},{key:"calcOuterLimit",value:function(t){return 40*t}},{key:"calcHabitableZone",value:function(t){return Math.sqrt(t)}},{key:"calcHabitableZoneStart",value:function(t){return Math.sqrt(t/1.1)}},{key:"calcHabitableZoneEnd",value:function(t){return Math.sqrt(t/.53)}},{key:"Generate",value:function(t,e){var n=t.choice(v.SPECTRAL_CLASSIFICATION),i=t.real(n.min_sol_mass,n.max_sol_mass);return new this((0,r.default)({mass:i},e))}}]),e}(p.default);e.default=m},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(140)(!0);n(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(1)),i=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,i.default)(t,null,[{key:"PlainMarkov",value:function(e){return t.NamedStar(e)}},{key:"NamedStar",value:function(e){return e.choice(t.names)}},{key:"Generate",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.weighted(t.namingStrategies)(e)}},{key:"namingStrategies",get:function(){return[[1,t.PlainMarkov],[.1,t.NamedStar]]}}]),t}();s.names=["Trevor","Yeltsin","Barnard","Genovese","Martin","Simon","Rob","Ed","Walter","Mohammed","Emil","Shannon","Nicole","Yury","Coleman","Deanne","Rosenda","Geoffrey","Taryn","Noreen","Rita","Jeanetta","Stanton","Alesha","Mark","Georgiann","Modesta","Lee","Cyndi","Raylene","Ellamae","Sharmaine","Candra","Karine","Trena","Tarah","Dorie","Kyoko","Wei","Cristopher","Yoshie","Meany","Zola","Corene","Suzie","Sherwood","Monnie","Savannah","Amalia","Lon","Luetta","Concetta","Dani","Sharen","Mora","Wilton","Hunter","Nobuko","Maryellen","Johnetta","Eleanora","Arline","Rae","Caprice"],e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(103)),i=s(n(101)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===a(r.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PLANETARY_SYSTEMS_TYPES={SINGLE_STAR:"SINGLE_STAR",BINARY_P_TYPE_STAR:"BINARY_P_TYPE_STAR",MULTIPLE_S_TYPE_STAR:"MULTIPLE_S_TYPE_STAR"};var r=e.PLANETS_COUNT_IN_SINGLE_STAR_SYSTEM={0:.1,1:.1,2:.2,3:.2,4:.3,5:.3,6:.4,7:.4,8:.5,9:.5,10:.3,11:.3,12:.1,13:.1,14:.1,15:.01,16:.01,17:.001};e.PLANETS_COUNT_IN_BINARY_STAR_P_TYPE_SYSTEM=r,e.PLANETS_COUNT_IN_BINARY_STAR_S_TYPE_SYSTEM={0:1,1:.5,2:.1,3:.01,4:.001,5:1e-4},e.MIN_STARS_MASS_DIFFERENCE_IN_SYSTEM=.1,e.STAR_COUNT_DISTIBUTION_IN_BINARY_SUBSYSTEMS={1:.2,2:1},e.STAR_COUNT_DISTIBUTION_IN_SYSTEMS={1:1,2:.2},e.SUN_AGE=4603e6,e.SUN_TEMPERATURE=5778,e.SPECTRAL_CLASSIFICATION=[{class:"O",min_sol_mass:16,max_sol_mass:50,organisms_evolution:!1},{class:"B",min_sol_mass:2.1,max_sol_mass:16,organisms_evolution:!1},{class:"A",min_sol_mass:1.4,max_sol_mass:2.1,organisms_evolution:!1},{class:"F",min_sol_mass:1.04,max_sol_mass:1.4,organisms_evolution:!0},{class:"G",min_sol_mass:.8,max_sol_mass:1.04,organisms_evolution:!0},{class:"K",min_sol_mass:.45,max_sol_mass:.8,organisms_evolution:!0},{class:"M",min_sol_mass:.08,max_sol_mass:.45,organisms_evolution:!1}]},function(t,e,n){n(124);for(var r=n(4),i=n(14),a=n(18),s=n(3)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<o.length;u++){var c=o[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),a[c]=a.Array}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(132),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){var r=n(8).f,i=n(13),a=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(74),i=n(45);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.greekLetterNameToLetter=function(t){return i[r.indexOf(t)]},e.toRoman=function t(e){if(e<1)return"";if(e>=1e3)return"M"+t(e-1e3);if(e>=900)return"CM"+t(e-900);if(e>=500)return"D"+t(e-500);if(e>=400)return"CD"+t(e-400);if(e>=100)return"C"+t(e-100);if(e>=90)return"XC"+t(e-90);if(e>=50)return"L"+t(e-50);if(e>=40)return"XL"+t(e-40);if(e>=10)return"X"+t(e-10);if(e>=9)return"IX"+t(e-9);if(e>=5)return"V"+t(e-5);if(e>=4)return"IV"+t(e-4);if(e>=1)return"I"+t(e-1);throw new RangeError};e.ISO_LATIN=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var r=e.GREEK_LETTERS_NAMES=["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega"],i=e.GREEK_LETTERS=["α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω"]},function(t,e,n){var r=n(4),i=n(2),a=n(35),s=n(38),o=n(8).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},function(t,e,n){e.f=n(3)},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(109)),i=a(n(106));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,a=!1,s=void 0;try{for(var o,u=(0,i.default)(t);!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";var r=n(34);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(21),i=n(3)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(42),i=n(3)("iterator"),a=n(18);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e,n){var r=n(52);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(4),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(46)("keys"),i=n(32);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(53),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(6),i=n(138),a=n(45),s=n(47)("IE_PROTO"),o=function(){},u=function(){var t,e=n(51)("iframe"),r=a.length;for(e.style.display="none",n(72).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(o.prototype=r(t),n=new o,o.prototype=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(11),i=n(4).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(5)),i=o(n(1)),a=o(n(0)),s=n(9);o(n(12));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,r,a,s,o){(0,i.default)(this,t),this._basis=e,this._countMean=n||25e-7,this._countDeviation=r||1e-6,this._deviationX=a||25e-7,this._deviationY=s||25e-7,this._deviationZ=o||25e-7}return(0,a.default)(t,[{key:"Generate",value:r.default.mark(function t(e){var n,i,a,o,u,c,l,f,h,p,d,v,y,m,_;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._basis,this._size,i=this._countDeviation,a=this._countMean,o=this._deviationX,u=this._deviationY,c=this._deviationZ,t.prev=1,!((l=Math.max(0,e.NormallyDistributedSingle(i,a)))<=0)){t.next=5;break}return t.abrupt("return");case 5:f=0;case 6:if(!(f<l)){t.next=37;break}h=new s.Vector3(e.NormallyDistributedSingle(o,0),e.NormallyDistributedSingle(u,0),e.NormallyDistributedSingle(c,0)),p=!0,d=!1,v=void 0,t.prev=11,y=n.Generate(e)[Symbol.iterator]();case 13:if(p=(m=y.next()).done){t.next=20;break}return _=m.value,t.next=17,_.Offset(h);case 17:p=!0,t.next=13;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(11),d=!0,v=t.t0;case 26:t.prev=26,t.prev=27,!p&&y.return&&y.return();case 29:if(t.prev=29,!d){t.next=32;break}throw v;case 32:return t.finish(29);case 33:return t.finish(26);case 34:f++,t.next=6;break;case 37:t.next=42;break;case 39:t.prev=39,t.t1=t.catch(1),console.log("!",t.t1);case 42:case"end":return t.stop()}},t,this,[[1,39],[11,22,26,34],[27,,29,33]])})}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(1)),a=c(n(0)),s=n(9),o=(c(n(12)),c(n(56))),u=c(n(54));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,i.default)(this,t),this.Size=750,this.Spacing=5,this.MinimumArms=3,this.MaximumArms=7,this.ClusterCountDeviation=.35,this.ClusterCenterDeviation=.2,this.MinArmClusterScale=.02,this.ArmClusterScaleDeviation=.02,this.MaxArmClusterScale=.1,this.Swirl=4*Math.PI,this.CenterClusterScale=.19,this.CenterClusterDensityMean=5e-5,this.CenterClusterDensityDeviation=5e-6,this.CenterClusterSizeDeviation=.00125,this.CenterClusterCountMean=20,this.CenterClusterCountDeviation=3,this.CenterClusterPositionDeviation=.075,this.CentralVoidSizeMean=25,this.CentralVoidSizeDeviation=7}return(0,a.default)(t,[{key:"GenerateShape",value:r.default.mark(function t(e){var n,i,a,s,o,u,c,l,f,h,p,d,v,y,m,_,b,g,k,S,x,w;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.CentralVoidSizeDeviation,i=this.CentralVoidSizeMean,t.prev=1,(a=e.NormallyDistributedSingle(n,i))<0&&(a=0),s=a*a,o=!0,u=!1,c=void 0,t.prev=8,l=this.GenerateArms(e)[Symbol.iterator]();case 10:if(o=(f=l.next()).done){t.next=18;break}if(!((h=f.value).position.lengthSq()>s)){t.next=15;break}return t.next=15,h;case 15:o=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),u=!0,c=t.t0;case 24:t.prev=24,t.prev=25,!o&&l.return&&l.return();case 27:if(t.prev=27,!u){t.next=30;break}throw c;case 30:return t.finish(27);case 31:return t.finish(24);case 32:p=!0,d=!1,v=void 0,t.prev=35,y=this.GenerateCenter(e)[Symbol.iterator]();case 37:if(p=(m=y.next()).done){t.next=45;break}if(!((_=m.value).position.lengthSq()>s)){t.next=42;break}return t.next=42,_;case 42:p=!0,t.next=37;break;case 45:t.next=51;break;case 47:t.prev=47,t.t1=t.catch(35),d=!0,v=t.t1;case 51:t.prev=51,t.prev=52,!p&&y.return&&y.return();case 54:if(t.prev=54,!d){t.next=57;break}throw v;case 57:return t.finish(54);case 58:return t.finish(51);case 59:b=!0,g=!1,k=void 0,t.prev=62,S=this.GenerateBackgroundStars(e)[Symbol.iterator]();case 64:if(b=(x=S.next()).done){t.next=72;break}if(!((w=x.value).position.lengthSq()>s)){t.next=69;break}return t.next=69,w;case 69:b=!0,t.next=64;break;case 72:t.next=78;break;case 74:t.prev=74,t.t2=t.catch(62),g=!0,k=t.t2;case 78:t.prev=78,t.prev=79,!b&&S.return&&S.return();case 81:if(t.prev=81,!g){t.next=84;break}throw k;case 84:return t.finish(81);case 85:return t.finish(78);case 86:t.next=91;break;case 88:t.prev=88,t.t3=t.catch(1),console.log("ERR>",t.t3);case 91:case"end":return t.stop()}},t,this,[[1,88],[8,20,24,32],[25,,27,31],[35,47,51,59],[52,,54,58],[62,74,78,86],[79,,81,85]])})},{key:"GenerateBackgroundStars",value:function(t){var e=this.Size;return new o.default(e,1e-6,1e-7,.35,.125,.35).Generate(t)}},{key:"GenerateArms",value:r.default.mark(function t(e){var n,i,a,u,c,l,f,h,p,d,v,y,m,_,b,g,k,S,x,w,M,T,P,O,E,A,j,N,I,C,L;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Size,i=this.Swirl,a=this.Spacing,u=this.MinimumArms,c=this.MaximumArms,l=this.ClusterCountDeviation,f=this.ClusterCenterDeviation,h=this.ArmClusterScaleDeviation,p=this.MinArmClusterScale,d=this.MaxArmClusterScale,t.prev=1,v=e.integer(u,c),console.log("arms",v),y=2*Math.PI/v,m=n/a/v,_=0;case 7:if(!(_<v)){t.next=53;break}b=e.NormallyDistributedSingle(m*l,m).toFixed(),g=0;case 10:if(!(g<b)){t.next=50;break}k=e.NormallyDistributedSingle(.5*y*f,0)+y*_,S=Math.abs(e.NormallyDistributedSingle(.4*n,0)),(x=new s.Vector3(0,0,S)).applyAxisAngle(new s.Vector3(0,1,0),k),w=h*n,M=p*n,T=d*n,P=e.NormallyDistributedSingle4(w,.5*M+.5*T,M,T),O=25e-5,E=new o.default(P,O,null,1,1,1).Generate(e),A=!0,j=!1,N=void 0,t.prev=24,I=E[Symbol.iterator]();case 26:if(A=(C=I.next()).done){t.next=33;break}return L=C.value,t.next=30,L.Offset(x).Swirl(new s.Vector3(0,1,0),i);case 30:A=!0,t.next=26;break;case 33:t.next=39;break;case 35:t.prev=35,t.t0=t.catch(24),j=!0,N=t.t0;case 39:t.prev=39,t.prev=40,!A&&I.return&&I.return();case 42:if(t.prev=42,!j){t.next=45;break}throw N;case 45:return t.finish(42);case 46:return t.finish(39);case 47:g++,t.next=10;break;case 50:_++,t.next=7;break;case 53:t.next=58;break;case 55:t.prev=55,t.t1=t.catch(1),console.log("ERR>",t.t1);case 58:case"end":return t.stop()}},t,this,[[1,55],[24,35,39,47],[40,,42,46]])})},{key:"GenerateCenter",value:r.default.mark(function t(e){var n,i,a,c,l,f,h,p,d,v,y,m,_,b,g,k;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Size,i=this.Swirl,a=this.CenterClusterDensityDeviation,c=this.CenterClusterDensityMean,l=this.CenterClusterCountMean,f=this.CenterClusterScale,h=this.CenterClusterCountDeviation,p=this.CenterClusterPositionDeviation,t.prev=1,d=new o.default(n*f,c,a,f,f,f),v=new u.default(d,l,h,n*p,n*p,n*p),y=!0,m=!1,_=void 0,t.prev=7,b=v.Generate(e)[Symbol.iterator]();case 9:if(y=(g=b.next()).done){t.next=16;break}return k=g.value,t.next=13,k.Swirl(new s.Vector3(0,1,0),5*i);case 13:y=!0,t.next=9;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),m=!0,_=t.t0;case 22:t.prev=22,t.prev=23,!y&&b.return&&b.return();case 25:if(t.prev=25,!m){t.next=28;break}throw _;case 28:return t.finish(25);case 29:return t.finish(22);case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(1),console.log("!",t.t1);case 35:case"end":return t.stop()}},t,this,[[1,32],[7,18,22,30],[23,,25,29]])})}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(5)),i=u(n(1)),a=u(n(0)),s=n(9),o=u(n(12));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n,r,a,s,o){(0,i.default)(this,t),this._size=e||10,this._densityMean=n||25e-7,this._densityDeviation=r||1e-6,this._deviationX=a||25e-7,this._deviationY=s||25e-7,this._deviationZ=o||25e-7}return(0,a.default)(t,[{key:"Generate",value:r.default.mark(function t(e){var n,i,a,u,c,l,f,h,p,d,v,y,m;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._size,i=this._densityDeviation,a=this._densityMean,u=this._deviationX,c=this._deviationY,l=this._deviationZ,f=Math.max(0,e.NormallyDistributedSingle(i,a)),!((h=Math.max(0,parseInt(n*n*n*f)))<=0)){t.next=5;break}return t.abrupt("return");case 5:p=e.Next(h),d=0;case 7:if(!(d<p)){t.next=17;break}return v=new s.Vector3(e.NormallyDistributedSingle(u*n,0),e.NormallyDistributedSingle(c*n,0),e.NormallyDistributedSingle(l*n,0)),y=v.length()/n,m=2e3*y+15e3*(1-y),e.NormallyDistributedSingle4(4e3,m,1e3,4e4),t.next=14,new o.default(null,{position:v});case 14:d++,t.next=7;break;case 17:case"end":return t.stop()}},t,this)})}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(5)),i=o(n(1)),a=o(n(0)),s=(o(n(12)),o(n(25)),n(9));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n){(0,i.default)(this,t),this._size=null,this._spacing=null,this._size=e||5,this._spacing=n||1}return(0,a.default)(t,[{key:"Generate",value:r.default.mark(function t(e){var n,i,a,o,u,c;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this._size,i=this._spacing,a=(n/i).toFixed(),o=0;case 3:if(!(o<a)){t.next=19;break}u=0;case 5:if(!(u<a)){t.next=16;break}c=0;case 7:if(!(c<a)){t.next=13;break}return t.next=10,{position:new s.Vector3(o*i,u*i,c*i).add(new s.Vector3(-n/2,-n/2,-n/2)),temperature:null};case 10:c++,t.next=7;break;case 13:u++,t.next=5;break;case 16:o++,t.next=3;break;case 19:case"end":return t.stop()}},t,this)})},{key:"GenerateShape",value:r.default.mark(function t(e){var n,i,a,o,u,c;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this._size,i=this._spacing,a=(n/i).toFixed(),o=0;case 3:if(!(o<a)){t.next=19;break}u=0;case 5:if(!(u<a)){t.next=16;break}c=0;case 7:if(!(c<a)){t.next=13;break}return t.next=10,{position:new s.Vector3(o*i,u*i,c*i).add(new s.Vector3(-n/2,-n/2,-n/2)),temperature:null,galaxy_size:n};case 10:c++,t.next=7;break;case 13:u++,t.next=5;break;case 16:o++,t.next=3;break;case 19:case"end":return t.stop()}},t,this)})}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(1)),i=s(n(0)),a=s(n(15));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];(0,r.default)(this,t),this.id=null,this.name=null,this.type=null,this.parent=null,this.parent_id=null,this.code=null,this.designation=null,this.orbit_period=null,this.rotation_period=null,this.habitable=null,this.age=null,this.appearance="DEFAULT",this.size=null,Object.assign(this,e),this.setSeed(e.seed),this.setId(e.id),this.setType(e.type||n),this.setParent(e.parent),this.setSystem(e.system),this.setDesignation(e.designation)}return(0,i.default)(t,[{key:"setSeed",value:function(t){this.seed=t||Date.now(),this.random=new a.default(this.seed)}},{key:"setType",value:function(t){this.type=t}},{key:"setId",value:function(e){this.id=null!=e?e:t.getCurrentId()}},{key:"setSystem",value:function(t){this.system=t,this.makeCode()}},{key:"setName",value:function(t){this.name=t,this.makeCode()}},{key:"setDesignation",value:function(t){this.designation=t,this.makeCode()}},{key:"setParent",value:function(t){t&&(this.parent=t,this.parent_id=t.id||null)}},{key:"makeCode",value:function(){var t=this.system?this.system.name:"",e=this.type,n=(this.designation||"").split(" ").join(""),r=(this.name||"").split(" ").join("");this.code=(t+"."+e+"."+n+r).toUpperCase()}}],[{key:"getCurrentId",value:function(){return t.id++}}]),t}();o.id=0,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(26)),i=s(n(1)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e,n,r){(0,i.default)(this,t),this.callStack=null,this.subactions=[],this.finalizers=[],this.unbrokenInterval="number"==typeof n&&n>=0?n:16,this.sleepInterval="number"==typeof r&&r>=0?r:0,this.loopAction=!1,this.started=!1,this.canceled=!1,this.completed=!1,this.intervalIteration=0,this.stepIteration=0,this.intervalStepIteration=null,this.intervalStartTime=null,this.intervalEndTime=null,this.progressUpdater="function"==typeof e?e:null}return(0,a.default)(t,[{key:"execute",value:function(){return this.canceled||this.completed||null!==this.callStack||!1!==this.started||(this.started=!0,this.subactions.length>0?(this.beginSubactions(0,1),null!==this.progressUpdater&&this.progressUpdater(this),setTimeout(this.step.bind(this),this.sleepInterval)):this.completed=!0),this}},{key:"step",value:function(){for(this.intervalStartTime=Date.now(),this.intervalEndTime=this.intervalStartTime+this.unbrokenInterval,this.intervalStepIteration=0;Date.now()<this.intervalEndTime&&!this.canceled&&!this.completed;){var t=this.callStack.actions[this.callStack.index];if(this.callStack.loop=!1,t.action(this),this.intervalStepIteration+=1,this.stepIteration+=1,this.subactions.length>0)this.beginSubactions(this.getProgress(),this.callStack.loop?0:(1-this.callStack.loopProgress)*t.proportion/this.callStack.proportionSum*this.callStack.parentProgressRange);else{for(;null!==this.callStack&&!1===this.callStack.loop&&this.callStack.index===this.callStack.actions.length-1;){for(var e=0;e<this.callStack.finalizers.length;++e)this.callStack.finalizers[e](this);this.callStack=this.callStack.parent}null!==this.callStack?!1===this.callStack.loop&&(this.callStack.loopProgress=0,this.callStack.index+=1):this.completed=!0}}if(this.intervalStartTime=null,this.intervalEndTime=null,this.intervalStepIteration=null,null!==this.progressUpdater&&this.progressUpdater(this),this.intervalIteration+=1,this.canceled)for(;null!==this.callStack;){for(e=0;e<this.callStack.finalizers.length;++e)this.callStack.finalizers[e](this);this.callStack=this.callStack.parent}else this.completed||setTimeout(this.step.bind(this),this.sleepInterval)}},{key:"beginSubactions",value:function(t,e){this.callStack={actions:this.subactions,finalizers:this.finalizers,proportionSum:function(t,e,n){for(var r=0;r<t.length;++r)e=n(e,t[r]);return e}(this.subactions,0,function(t,e){return t+e.proportion}),index:0,loop:!1,loopProgress:0,parent:this.callStack,parentProgress:t,parentProgressRange:e},this.subactions=[],this.finalizers=[]}},{key:"cancel",value:function(){this.canceled=!0}},{key:"provideResult",value:function(t){this.callStack.resultProvider=t}},{key:"loop",value:function(t){this.callStack.loop=!0,"number"==typeof t&&t>=0&&t<1&&(this.callStack.loopProgress=t)}},{key:"executeSubaction",value:function(t,e,n){return e="number"==typeof e&&e>=0?e:1,this.subactions.push({action:t,proportion:e,name:n}),this}},{key:"getResult",value:function(t){return this.subactions.push({action:function(e){var n=e.callStack.resultProvider,i=void 0===n?"undefined":(0,r.default)(n);"function"===i?t(n()):"undefined"!==i?t(n):t()},proportion:0}),this}},{key:"finalize",value:function(t){return this.finalizers.push(t),this}},{key:"getTimeRemainingInInterval",value:function(){return null!==this.intervalEndTime?Math.max(0,this.intervalEndTime-Date.now()):0}},{key:"getProgress",value:function(){if(null!==this.callStack){if(0===this.callStack.proportionSum)return this.callStack.parentProgress;for(var t=0,e=0;e<this.callStack.index;++e)t+=this.callStack.actions[e].proportion;return t+=this.callStack.loopProgress*this.callStack.actions[this.callStack.index].proportion,this.callStack.parentProgress+t/this.callStack.proportionSum*this.callStack.parentProgressRange}return this.completed?1:0}},{key:"getCurrentActionName",value:function(){for(var t=this.callStack;null!==t;){var e=t.actions[t.index];if("string"==typeof e.name)return e.name;t=t.parent}return""}}]),t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(92)),i=s(n(88)),a=s(n(26));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,a.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){var r=n(29),i=n(22),a=n(17),s=n(50),o=n(13),u=n(76),c=Object.getOwnPropertyDescriptor;e.f=n(10)?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(o(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(74),i=n(45).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(26),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,a.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){var r=n(6),i=n(11),a=n(40);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r,i,a,s=n(19),o=n(118),u=n(72),c=n(51),l=n(4),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,y=0,m={},_=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){_.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){o("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete m[t]},"process"==n(21)(f)?r=function(t){f.nextTick(s(_,t,1))}:v&&v.now?r=function(t){v.now(s(_,t,1))}:d?(a=(i=new d).port2,i.port1.onmessage=b,r=s(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){var r=n(6),i=n(34),a=n(3)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[a])?e:i(n)}},function(t,e){},function(t,e,n){var r=n(3)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:n=!0}},a[r]=function(){return s},t(a)}catch(t){}return n}},function(t,e,n){var r=n(18),i=n(3)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e,n){var r=n(4).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(13),i=n(17),a=n(137)(!1),s=n(47)("IE_PROTO");t.exports=function(t,e){var n,o=i(t),u=0,c=[];for(n in o)n!=s&&r(o,n)&&c.push(n);for(;e.length>u;)r(o,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){t.exports=n(14)},function(t,e,n){t.exports=!n(10)&&!n(23)(function(){return 7!=Object.defineProperty(n(51)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(35),i=n(7),a=n(75),s=n(14),o=n(13),u=n(18),c=n(139),l=n(31),f=n(135),h=n(3)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,v,y,m,_){c(n,e,v);var b,g,k,S=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",w="values"==y,M=!1,T=t.prototype,P=T[h]||T["@@iterator"]||y&&T[y],O=!p&&P||S(y),E=y?w?S("entries"):O:void 0,A="Array"==e&&T.entries||P;if(A&&(k=f(A.call(new t)))!==Object.prototype&&k.next&&(l(k,x,!0),r||o(k,h)||s(k,h,d)),w&&P&&"values"!==P.name&&(M=!0,O=function(){return P.call(this)}),r&&!_||!p&&!M&&T[h]||s(T,h,O),u[e]=O,u[x]=d,y)if(b={values:w?O:S("values"),keys:m?O:S("keys"),entries:E},_)for(g in b)g in T||a(T,g,b[g]);else i(i.P+i.F*(p||M),e,b);return b}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(142),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(39)),i=o(n(1)),a=o(n(0)),s=o(n(20));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){(0,i.default)(this,t),this._average_separation=null,this._frost_line=null,this._inner_limit=null,this._outer_limit=null,this._barycentre=null,this._planets=[],this._mass=null,this._children=[],this._subtype=null,this._luminosity=null,this._planetable=null}return(0,a.default)(t,[{key:"average_separation",set:function(t){this._average_separation=t},get:function(){return this._average_separation}},{key:"frost_line",set:function(t){this._frost_line=t},get:function(){return this._frost_line}},{key:"inner_limit",set:function(t){this._inner_limit=t},get:function(){return this._inner_limit}},{key:"outer_limit",set:function(t){this._outer_limit=t},get:function(){return this._outer_limit}},{key:"barycentre",set:function(t){this._barycentre=t},get:function(){return this._barycentre}},{key:"planets",set:function(t){this._planets=t},get:function(){return this._planets}},{key:"mass",set:function(t){this._mass=t},get:function(){return this._mass}},{key:"children",set:function(t){this._children=t},get:function(){return this._children}},{key:"subtype",set:function(t){this._subtype=t},get:function(){return this._subtype}},{key:"luminosity",set:function(t){this._luminosity=t},get:function(){return this._luminosity}},{key:"planetable",set:function(t){this._planetable=t},get:function(){return this._planetable}}]),(0,a.default)(t,[{key:"generateName",value:function(t){return"abc123"}},{key:"generateAverageSeparation",value:function(t){}},{key:"recalculate",value:function(){this.subtype=t.calcSubtype(this.children),this.planetable=t.calcPlanetable(this.subtype,this.children);var e=(0,r.default)(this.children,2),n=e[0],i=e[1];this.mass=i?t.calcMass(n.mass,i.mass):n.mass,this.inner_limit=i?t.calcInnerLimit(this.mass):n.inner_limit,this.outer_limit=i?t.calcOuterLimit(this.mass):n.outer_limit,this.luminosity=i?t.calcLuminosity(n.luminosity,i.luminosity):n.luminosity,this.frost_line=i?t.calcFrostLine(this.luminosity):n.frost_line}},{key:"Name",value:function(t){return this.name=t,this}},{key:"Children",value:function(t){return this.children=t,this.recalculate(),this}},{key:"CalculateOverall",value:function(){return this.mass=this.children.reduce(function(t,e){return t+e.mass},0),this}},{key:"Generate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.random,e=[["name",this.generateName],["average_separation",this.generateAverageSeparation]],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=(0,r.default)(s.value,2),c=u[0],l=u[1];null==this[c]&&(this[c]=l(t))}}catch(t){i=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return this}}],[{key:"calcPlanetable",value:function(t,e){switch(!0){case"SINGLE_STAR"===t:case"BINARY_STAR"===t:case"SUBSYSTEM"===t&&e.every(function(t){return"SINGLE_STAR"===t.subtype||"BINARY_STAR"===t.subtype}):return!0;default:return!1}}},{key:"calcSubtype",value:function(t){switch(!0){case 1===t.length&&"SINGLE_STAR"!==t[0].subtype:return"SINGLE_STAR";case 2===t.length&&t.every(function(t){return"STAR"===t.body_type}):return"BINARY_STAR";default:return"SUBSYSTEM"}}},{key:"calcMass",value:function(t,e){return t+e}},{key:"calcPrimaryBarycentre",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t*(n/(e+n))}},{key:"calcSecondaryBarycentre",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3)}},{key:"calcFrostLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 4.85*Math.sqrt(t+e)}},{key:"calcInnerLimit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s.default.calcInnerLimit(t+e)}},{key:"calcOuterLimit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s.default.calcOuterLimit(t+e)}},{key:"calcLuminosity",value:function(t){return t+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"buildTree",value:function(e,n,r){if(!Array.isArray(e))throw new TypeError("array must be an Array type");if(null==n&&(n=0),null==r&&(r=e.length),r-n>1){var i=n+r>>1,a=t.buildTree(e,n,i),s=t.buildTree(e,i,r),o=null,u=null;return"STAR"===a.body_type&&"STAR"!==s.body_type&&(o=(new t).Children([a])),"STAR"!==a.body_type&&"STAR"===s.body_type&&(u=(new t).Children([s])),(new t).Children([o||a,u||s])}return e[n]}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(39)),i=y(n(78)),a=y(n(5)),s=y(n(16)),o=y(n(1)),u=y(n(0)),c=y(n(15)),l=n(9),f=n(36),h=y(n(25)),p=(y(n(12)),y(n(79))),d=n(27),v=y(n(20));function y(t){return t&&t.__esModule?t:{default:t}}var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1];(0,o.default)(this,t),this._luminosity=null,this.seed=e.seed,this.name=e.name,this.position=e.position}return(0,u.default)(t,[{key:"luminosity",get:function(){return this._luminosity},set:function(t){this._luminosity=t}},{key:"star_mass",get:function(){return this._star_mass},set:function(t){this._star_mass=t}},{key:"subsystem",get:function(){return this._subsystem},set:function(t){this._subsystem=t}},{key:"random",get:function(){return null==this._random&&(this._random=new c.default(this.seed)),this._random}}]),(0,u.default)(t,[{key:"build",value:function(){var t=(0,s.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.generateName();case 2:return t.next=4,this.generatePosition();case 4:return t.next=6,this.generateStars();case 6:return t.abrupt("return",this);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"generateName",value:function(){var e=(0,s.default)(a.default.mark(function e(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generateName(this.random);case 2:return n=e.sent,this.name&&!r||(this.name=n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generatePosition",value:function(){var e=(0,s.default)(a.default.mark(function e(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generatePosition(this.random);case 2:return n=e.sent,this.position&&!r||(this.position=n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateStars",value:function(){var e=(0,s.default)(a.default.mark(function e(){var n,r,i,s,o,u,c,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=!0,i=!1,s=void 0,e.prev=4,o=t.generateStars(this.random)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0)c=u.value,n.push(c);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),i=!0,s=e.t0;case 12:e.prev=12,e.prev=13,!r&&o.return&&o.return();case 15:if(e.prev=15,!i){e.next=18;break}throw s;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return n=n.sort(function(t,e){return t.mass<e.mass}),this.stars&&!l||(this.stars=n),e.abrupt("return",this.stars);case 23:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"generateSubsystem",value:function(t,e){return p.default.buildTree(e).Generate(t)}},{key:"recalculate",value:function(){for(var t=0;t<this.stars.length;t++){var e=[];this.stars.length>1&&e.push(f.GREEK_LETTERS[t]),e.push(this.name),this.stars[t].Name(e.join(" "))}this.subsystem&&(this.star_mass=this.subsystem.mass,this.luminosity=this.subsystem.luminosity)}},{key:"Name",value:function(t){return this.name=t,this}},{key:"Position",value:function(t){return this.position=t,this}},{key:"Generate",value:function(){var t=(0,s.default)(a.default.mark(function t(){var e,n,s,o,u,c,l,f,h,p=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.random;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[["name",this.generateName],["position",this.generatePosition],["stars",function(t){return[].concat((0,i.default)(p.generateStars(t))).sort(function(t,e){return t.mass<e.mass}).map(function(t,e){return t.MassOrder(e)})}],["subsystem",function(t){return p.generateSubsystem(t,p.stars)}]],n=!0,s=!1,o=void 0,t.prev=4,u=e[Symbol.iterator]();!(n=(c=u.next()).done);n=!0)l=(0,r.default)(c.value,2),f=l[0],h=l[1],null==this[f]&&(this[f]=h(d));t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),s=!0,o=t.t0;case 12:t.prev=12,t.prev=13,!n&&u.return&&u.return();case 15:if(t.prev=15,!s){t.next=18;break}throw o;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return this.recalculate(),t.abrupt("return",this);case 22:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(){return t.apply(this,arguments)}}()}],[{key:"generateName",value:function(){var t=(0,s.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.default.Generate(e));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"generatePosition",value:function(){var t=(0,s.default)(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.Vector3);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"generateStars",value:a.default.mark(function t(e){var n,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!((n=e.weighted(d.STAR_COUNT_DISTIBUTION_IN_SYSTEMS))<=0)){t.next=4;break}return t.abrupt("return");case 4:r=0;case 5:if(!(r<n)){t.next=11;break}return t.next=8,(new v.default).Generate(e);case 8:r++,t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])})}]),t}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(30)),i=s(n(1)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,t),this.props=(0,r.default)({},this.constructor.defaultProps,e),this.model={seed:null}}return(0,a.default)(t,[{key:"getSeed",value:function(){var t=this.props.seed||this.model.seed;return"number"==typeof t?t:"string"==typeof t?this.hashString(t):Date.now()}},{key:"hashString",value:function(t){var e=0,n=t.length;if(0===n)return e;for(var r=0;r<n;++r){e=(e<<5)-e+t.charCodeAt(1),e|=0}return e}}]),t}();o.defaultProps={seed:null},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(5)),i=c(n(16)),a=c(n(1)),s=c(n(0)),o=c(n(63)),u=c(n(60));c(n(15)),c(n(59)),c(n(81));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e);var n=(0,o.default)(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"PLANET"));n.semi_major_axis=0,n.eccentricity=0,n.inclination=0,n.longitude_of_the_ascending_node=0,n.argument_of_periapsis=0,n.true_anomaly=0,n.orbital_period=0,n.orbital_velocity=0;t.seed,t.name;return n}return(0,u.default)(e,t),(0,s.default)(e,[{key:"build",value:function(){var t=(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.createSubtype(),this.createHabitable()}catch(t){console.warn(t)}return t.abrupt("return",this);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"createHabitable",value:function(){if(null!=this.habitable)return this.habitable;var t=this.subtype;if(null==t)throw{subtype:"create planet subtype first"};return this.habitable="earth"==t,this.habitable}},{key:"createSubtype",value:function(){if(null!=this.subtype)return this.subtype;var t=this.random,n=this.zone;return this.subtype=null!=n?e.createSubtypeBasedOnZone(t,n):e.createSubtypeRandom(t),this.subtype}},{key:"generateMass",value:function(){var t=(0,i.default)(r.default.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=1,this.mass&&!n||(this.mass=e),t.abrupt("return",e);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}],[{key:"createSubtypeBasedOnZone",value:function(t,e){var n=null;switch(e){case"inner":n={lava:1,barren:.5};break;case"habitable":n={earth:1,lava:.2,barren:.4};break;case"outer":n={ice:1,gas:1,barren:1}}return t.weighted(n)}},{key:"createSubtypeRandom",value:function(t){return"barren"}}]),e}(c(n(58)).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(5)),i=o(n(16)),a=o(n(1)),s=o(n(0));n(9),n(27),o(n(20));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,a.default)(this,t),this.children=[]}return(0,s.default)(t,[{key:"Children",value:function(t){return this.children=t,this}},{key:"CalculateOverall",value:function(){return this.mass=this.children.reduce(function(t,e){return t+e.mass},0),this}},{key:"children",get:function(){return this._children},set:function(t){this._children=t}}],[{key:"buildTree",value:function(e,n,r){if(r-n>1){var i=n+r>>1,a=t.buildTree(e,n,i),s=t.buildTree(e,i,r);return(new t).Children([a,s]).CalculateOverall()}return e[n]}},{key:"Generate",value:function(){var e=(0,i.default)(r.default.mark(function e(n,i){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.buildTree(n,0,n.length),e.abrupt("return",a);case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(1)),i=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,i,a){(0,r.default)(this,t),this.x=e?e>>>0:123456789,this.y=n?n>>>0:362436069,this.z=i?i>>>0:521288629,this.w=a?a>>>0:88675123}return(0,i.default)(t,[{key:"next",value:function(){var t=this.x^this.x<<11&2147483647;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>19^t^t>>8,this.w}},{key:"unit",value:function(){return this.next()/2147483648}},{key:"unitInclusive",value:function(){return this.next()/2147483647}},{key:"integer",value:function(t,e){return this.integerExclusive(t,e+1)}},{key:"integerExclusive",value:function(t,e){return t=Math.floor(t),e=Math.floor(e),Math.floor(this.unit()*(e-t))+t}},{key:"real",value:function(t,e){return this.unit()*(e-t)+t}},{key:"realInclusive",value:function(t,e){return this.unitInclusive()*(e-t)+t}},{key:"reseed",value:function(t,e,n,r){this.x=t?t>>>0:123456789,this.y=e?e>>>0:362436069,this.z=n?n>>>0:521288629,this.w=r?r>>>0:88675123}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomInt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return Math.floor(Math.random()*e)+t}},function(t,e,n){var r=n(7);r(r.S,"Object",{create:n(49)})},function(t,e,n){n(86);var r=n(2).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){var r=n(11),i=n(6),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(19)(Function.call,n(61).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){var r=n(7);r(r.S,"Object",{setPrototypeOf:n(89).set})},function(t,e,n){n(90),t.exports=n(2).Object.setPrototypeOf},function(t,e,n){t.exports={default:n(91),__esModule:!0}},function(t,e,n){n(37)("observable")},function(t,e,n){n(37)("asyncIterator")},function(t,e,n){var r=n(17),i=n(62).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(21);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(33),i=n(41),a=n(29);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,o=n(t),u=a.f,c=0;o.length>c;)u.call(t,s=o[c++])&&e.push(s);return e}},function(t,e,n){var r=n(32)("meta"),i=n(11),a=n(13),s=n(8).f,o=0,u=Object.isExtensible||function(){return!0},c=!n(23)(function(){return u(Object.preventExtensions({}))}),l=function(t){s(t,r,{value:{i:"O"+ ++o,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!a(t,r)&&l(t),t}}},function(t,e,n){"use strict";var r=n(4),i=n(13),a=n(10),s=n(7),o=n(75),u=n(98).KEY,c=n(23),l=n(46),f=n(31),h=n(32),p=n(3),d=n(38),v=n(37),y=n(97),m=n(96),_=n(6),b=n(11),g=n(17),k=n(50),S=n(22),x=n(49),w=n(95),M=n(61),T=n(8),P=n(33),O=M.f,E=T.f,A=w.f,j=r.Symbol,N=r.JSON,I=N&&N.stringify,C=p("_hidden"),L=p("toPrimitive"),R={}.propertyIsEnumerable,G=l("symbol-registry"),D=l("symbols"),z=l("op-symbols"),F=Object.prototype,Y="function"==typeof j,U=r.QObject,B=!U||!U.prototype||!U.prototype.findChild,V=a&&c(function(){return 7!=x(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(F,e);r&&delete F[e],E(t,e,n),r&&t!==F&&E(F,e,r)}:E,q=function(t){var e=D[t]=x(j.prototype);return e._k=t,e},H=Y&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},K=function(t,e,n){return t===F&&K(z,e,n),_(t),e=k(e,!0),_(n),i(D,e)?(n.enumerable?(i(t,C)&&t[C][e]&&(t[C][e]=!1),n=x(n,{enumerable:S(0,!1)})):(i(t,C)||E(t,C,S(1,{})),t[C][e]=!0),V(t,e,n)):E(t,e,n)},Z=function(t,e){_(t);for(var n,r=y(e=g(e)),i=0,a=r.length;a>i;)K(t,n=r[i++],e[n]);return t},W=function(t){var e=R.call(this,t=k(t,!0));return!(this===F&&i(D,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(D,t)||i(this,C)&&this[C][t])||e)},X=function(t,e){if(t=g(t),e=k(e,!0),t!==F||!i(D,e)||i(z,e)){var n=O(t,e);return!n||!i(D,e)||i(t,C)&&t[C][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=A(g(t)),r=[],a=0;n.length>a;)i(D,e=n[a++])||e==C||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===F,r=A(n?z:g(t)),a=[],s=0;r.length>s;)!i(D,e=r[s++])||n&&!i(F,e)||a.push(D[e]);return a};Y||(o((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(z,n),i(this,C)&&i(this[C],t)&&(this[C][t]=!1),V(this,t,S(1,n))};return a&&B&&V(F,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",function(){return this._k}),M.f=X,T.f=K,n(62).f=w.f=J,n(29).f=W,n(41).f=Q,a&&!n(35)&&o(F,"propertyIsEnumerable",W,!0),d.f=function(t){return q(p(t))}),s(s.G+s.W+s.F*!Y,{Symbol:j});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)p($[tt++]);for(var et=P(p.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!Y,"Symbol",{for:function(t){return i(G,t+="")?G[t]:G[t]=j(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),s(s.S+s.F*!Y,"Object",{create:function(t,e){return void 0===e?x(t):Z(x(t),e)},defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),N&&s(s.S+s.F*(!Y||c(function(){var t=j();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!H(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,I.apply(N,r)}}),j.prototype[L]||n(14)(j.prototype,L,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){n(99),n(68),n(94),n(93),t.exports=n(2).Symbol},function(t,e,n){t.exports={default:n(100),__esModule:!0}},function(t,e,n){n(24),n(28),t.exports=n(38).f("iterator")},function(t,e,n){t.exports={default:n(102),__esModule:!0}},function(t,e,n){var r=n(6),i=n(43);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){n(28),n(24),t.exports=n(104)},function(t,e,n){t.exports={default:n(105),__esModule:!0}},function(t,e,n){var r=n(42),i=n(3)("iterator"),a=n(18);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},function(t,e,n){n(28),n(24),t.exports=n(107)},function(t,e,n){t.exports={default:n(108),__esModule:!0}},function(t,e,n){var r=n(7);r(r.S+r.F*!n(10),"Object",{defineProperty:n(8).f})},function(t,e,n){n(110);var r=n(2).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){"use strict";var r=n(7),i=n(40),a=n(65);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var r=n(7),i=n(2),a=n(4),s=n(67),o=n(64);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return o(e,t()).then(function(){return n})}:t,n?function(n){return o(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(4),i=n(2),a=n(8),s=n(10),o=n(3)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[o]&&a.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(14);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){var r=n(4),i=n(66).set,a=r.MutationObserver||r.WebKitMutationObserver,s=r.process,o=r.Promise,u="process"==n(21)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!a||r.navigator&&r.navigator.standalone)if(o&&o.resolve){var l=o.resolve();n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,h=document.createTextNode("");new a(c).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(19),i=n(71),a=n(70),s=n(6),o=n(48),u=n(43),c={},l={};(e=t.exports=function(t,e,n,f,h){var p,d,v,y,m=h?function(){return t}:u(t),_=r(n,f,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(p=o(t.length);p>b;b++)if((y=e?_(s(d=t[b])[0],d[1]):_(t[b]))===c||y===l)return y}else for(v=m.call(t);!(d=v.next()).done;)if((y=i(v,_,d.value,e))===c||y===l)return y}).BREAK=c,e.RETURN=l},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r,i,a,s,o=n(35),u=n(4),c=n(19),l=n(42),f=n(7),h=n(11),p=n(34),d=n(120),v=n(119),y=n(67),m=n(66).set,_=n(117)(),b=n(40),g=n(65),k=n(64),S=u.TypeError,x=u.process,w=u.Promise,M="process"==l(x),T=function(){},P=i=b.f,O=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(3)("species")]=function(t){t(T,T)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),E=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var r=t._v,i=1==t._s,a=0,s=function(e){var n,a,s=i?e.ok:e.fail,o=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&I(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===e.promise?u(S("Promise-chain cycle")):(a=E(n))?a.call(n,o,u):o(n)):u(r)}catch(t){u(t)}};n.length>a;)s(n[a++]);t._c=[],t._n=!1,e&&!t._h&&j(t)})}},j=function(t){m.call(u,function(){var e,n,r,i=t._v,a=N(t);if(a&&(e=g(function(){M?x.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=M||N(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){m.call(u,function(){var e;M?x.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},C=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=E(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,c(L,r,1),c(C,r,1))}catch(t){C.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){C.call({_w:n,_d:!1},t)}}};O||(w=function(t){d(this,w,"Promise","_h"),p(t),r.call(this);try{t(c(L,this,1),c(C,this,1))}catch(t){C.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(116)(w.prototype,{then:function(t,e){var n=P(y(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=c(L,t,1),this.reject=c(C,t,1)},b.f=P=function(t){return t===w||t===s?new a(t):i(t)}),f(f.G+f.W+f.F*!O,{Promise:w}),n(31)(w,"Promise"),n(115)("Promise"),s=n(2).Promise,f(f.S+f.F*!O,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(o||!O),"Promise",{resolve:function(t){return k(o&&this===s?w:this,t)}}),f(f.S+f.F*!(O&&n(69)(function(t){w.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,a=g(function(){var n=[],a=0,s=1;v(t,!1,function(t){var o=a++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[o]=t,--s||r(n))},i)}),--s||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=g(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(123),i=n(122),a=n(18),s=n(17);t.exports=n(77)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){n(68),n(24),n(28),n(121),n(114),n(113),t.exports=n(2).Promise},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=g;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={},y={};y[s]=function(){return this};var m=Object.getPrototypeOf,_=m&&m(m(j([])));_&&_!==r&&i.call(_,s)&&(y=_);var b=w.prototype=S.prototype=Object.create(y);x.prototype=b.constructor=w,w.constructor=x,w[u]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},M(T.prototype),T.prototype[o]=function(){return this},l.AsyncIterator=T,l.async=function(t,e,n,r){var i=new T(g(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},M(b),b[u]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=j,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return o.type="throw",o.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function g(t,e,n,r){var i=e&&e.prototype instanceof S?e:S,a=Object.create(i.prototype),s=new A(r||[]);return a._invoke=function(t,e,n){var r=f;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=P(s,n);if(o){if(o===v)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=k(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,s),a}function k(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function S(){}function x(){}function w(){}function M(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){var e;this._invoke=function(n,r){function a(){return new Promise(function(e,a){!function e(n,r,a,s){var o=k(t[n],t,r);if("throw"!==o.type){var u=o.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,a,s)},function(t){e("throw",t,a,s)}):Promise.resolve(c).then(function(t){u.value=t,a(u)},s)}s(o.arg)}(n,r,e,a)})}return e=e?e.then(a,a):a()}}function P(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=k(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(127),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e,n){"use strict";var r=n(33),i=n(41),a=n(29),s=n(44),o=n(73),u=Object.assign;t.exports=!u||n(23)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=i.f,f=a.f;u>c;)for(var h,p=o(arguments[c++]),d=l?r(p).concat(l(p)):r(p),v=d.length,y=0;v>y;)f.call(p,h=d[y++])&&(n[h]=p[h]);return n}:u},function(t,e,n){var r=n(7);r(r.S+r.F,"Object",{assign:n(129)})},function(t,e,n){n(130),t.exports=n(2).Object.assign},function(t,e,n){t.exports={default:n(131),__esModule:!0}},function(t,e,n){"use strict";var r=n(8),i=n(22);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";var r=n(19),i=n(7),a=n(44),s=n(71),o=n(70),u=n(48),c=n(133),l=n(43);i(i.S+i.F*!n(69)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=a(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,m=0,_=l(h);if(y&&(v=r(v,d>2?arguments[2]:void 0,2)),void 0==_||p==Array&&o(_))for(n=new p(e=u(h.length));e>m;m++)c(n,m,y?v(h[m],m):h[m]);else for(f=_.call(h),n=new p;!(i=f.next()).done;m++)c(n,m,y?s(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){var r=n(13),i=n(44),a=n(47)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(53),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):a(t,e)}},function(t,e,n){var r=n(17),i=n(48),a=n(136);t.exports=function(t){return function(e,n,s){var o,u=r(e),c=i(u.length),l=a(s,c);if(t&&n!=n){for(;c>l;)if((o=u[l++])!=o)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(8),i=n(6),a=n(33);t.exports=n(10)?Object.defineProperties:function(t,e){i(t);for(var n,s=a(e),o=s.length,u=0;o>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){"use strict";var r=n(49),i=n(22),a=n(31),s={};n(14)(s,n(3)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){var r=n(53),i=n(52);t.exports=function(t){return function(e,n){var a,s,o=String(i(e)),u=r(n),c=o.length;return u<0||u>=c?t?"":void 0:(a=o.charCodeAt(u))<55296||a>56319||u+1===c||(s=o.charCodeAt(u+1))<56320||s>57343?t?o.charAt(u):a:t?o.slice(u,u+2):s-56320+(a-55296<<10)+65536}}},function(t,e,n){n(24),n(134),t.exports=n(2).Array.from},function(t,e,n){t.exports={default:n(141),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(78)),i=_(n(30)),a=_(n(5)),s=_(n(16)),o=_(n(1)),u=_(n(0)),c=n(9),l=_(n(12)),f=_(n(15)),h=_(n(25)),p=_(n(57)),d=_(n(56)),v=_(n(55)),y=_(n(54)),m=_(n(80));function _(t){return t&&t.__esModule?t:{default:t}}var b=["spiral","grid","sphere","cluster"],g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t),this.objects=[],this.buildData={shape:null,random:null},this.star_systems=[],this.props=Object.assign({},t.defaultProps,e),this.seed=this.props.seed||Date.now(),this.name=this.props.name,this.classification=this.props.classification,this.position=this.props.position,this.fillBuildData()}return(0,u.default)(t,[{key:"statistics",get:function(){return null==this._statistics&&this.fillStatistics(),this._statistics}}]),(0,u.default)(t,[{key:"build",value:function(){var t=(0,s.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.generateName();case 2:return t.next=4,this.generateClassification();case 4:return t.abrupt("return",this);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"generateName",value:function(){var t=(0,s.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e="abc",this.name||(this.name=e);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"generateClassification",value:function(){var t=(0,s.default)(a.default.mark(function t(){var e,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.buildData.random,n=e.choice(b),this.classification||(this.classification=n);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fillBuildData",value:function(){this.buildData.random=new f.default(this.seed)}},{key:"getShape",value:function(){var t=null;switch(this.classification){case"spiral":t=new v.default;break;case"sphere":t=new d.default;break;case"cluster":t=new y.default;break;case"grid":default:t=new p.default(15,10)}return t}},{key:"generateShape",value:function(){var t=(0,s.default)(a.default.mark(function t(){var e,n,r,s,o,u,c,l,f=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.buildData.random,n=null,t.t0=this.classification,t.next="spiral"===t.t0?5:"sphere"===t.t0?7:"cluster"===t.t0?9:(t.t0,11);break;case 5:return n=new v.default,t.abrupt("break",12);case 7:return n=new d.default,t.abrupt("break",12);case 9:return n=new y.default,t.abrupt("break",12);case 11:n=new p.default(15,10);case 12:for(r=!0,s=!1,o=void 0,t.prev=15,u=function(){for(var t=l.value,n=e.next();f.objects.find(function(t){return t.seed==n});)n=e.next();f.objects.push((0,i.default)({},t,{type:"system",seed:n}))},c=n.Generate(e)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u();t.next=24;break;case 20:t.prev=20,t.t1=t.catch(15),s=!0,o=t.t1;case 24:t.prev=24,t.prev=25,!r&&c.return&&c.return();case 27:if(t.prev=27,!s){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(24);case 32:case"end":return t.stop()}},t,this,[[15,20,24,32],[25,,27,31]])}));return function(){return t.apply(this,arguments)}}()},{key:"generateSystems",value:a.default.mark(function t(){var e,n,r,s,o,u,c,f,h=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.buildData.random,n=this.getShape(),r=!0,s=!1,o=void 0,t.prev=5,u=a.default.mark(function t(){var n,r,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=f.value,r=e.next();h.objects.find(function(t){return t.seed==r});)r=e.next();return s=new l.default({seed:r,position:(0,i.default)({},n.position),temperature:n.temperature}),h.star_systems.push(s),t.next=7,s;case 7:case"end":return t.stop()}},t,h)}),c=n.Generate(e)[Symbol.iterator]();case 8:if(r=(f=c.next()).done){t.next=13;break}return t.delegateYield(u(),"t0",10);case 10:r=!0,t.next=8;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(5),s=!0,o=t.t1;case 19:t.prev=19,t.prev=20,!r&&c.return&&c.return();case 22:if(t.prev=22,!s){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}},t,this,[[5,15,19,27],[20,,22,26]])})},{key:"fillStatistics",value:function(){this._statistics={star_systems:this.star_systems.length}}},{key:"getStarSystems",value:function(){return this.star_systems}},{key:"GenerateUniqNames",value:function(t){return this.star_systems.forEach(function(e){return e.Name(h.default.Generate(t))}),this}},{key:"GenerateStars",value:function(t){var e=[].concat((0,r.default)(t.Generate(this._random)));return this.star_systems=e.map(function(t){return new l.default("123",t)}),this}},{key:"GenerateSystems",value:function(){var t=(0,s.default)(a.default.mark(function t(e,n){var r,i,s,o,u,c,l;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=!0,s=!1,o=void 0,t.prev=4,u=n[Symbol.iterator]();case 6:if(i=(c=u.next()).done){t.next=16;break}return l=c.value,t.t0=r,t.next=11,(new m.default).Position(l.position).Generate(e);case 11:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 13:i=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t2=t.catch(4),s=!0,o=t.t2;case 22:t.prev=22,t.prev=23,!i&&u.return&&u.return();case 25:if(t.prev=25,!s){t.next=28;break}throw o;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return this.star_systems=r,t.abrupt("return",this);case 32:case"end":return t.stop()}},t,this,[[4,18,22,30],[23,,25,29]])}));return function(e,n){return t.apply(this,arguments)}}()}],[{key:"Generate",value:function(){var e=(0,s.default)(a.default.mark(function e(n,r){var i,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==n&&(n=new p.default(15,10)),null==r&&(r=new f.default),i=Array.from(n.GenerateShape(r)),s=new t({seed:"123"}),e.next=7,s.GenerateSystems(r,i);case 7:return e.next=9,s.GenerateUniqNames(r);case 9:return e.abrupt("return",s);case 12:e.prev=12,e.t0=e.catch(0),console.error("ERR>",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t,n){return e.apply(this,arguments)}}()}]),t}();g.defaultProps={seed:null,name:"no_name",classification:"grid",position:new c.Vector3},e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Random=e.Star=e.Spiral=e.Grid=e.System=e.Galaxy=void 0;var r=c(n(143)),i=c(n(12)),a=c(n(57)),s=c(n(55)),o=c(n(20)),u=c(n(15));function c(t){return t&&t.__esModule?t:{default:t}}e.Galaxy=r.default,e.System=i.default,e.Grid=a.default,e.Spiral=s.default,e.Star=o.default,e.Random=u.default},function(t,e,n){t.exports=n(144)}])});
//# sourceMappingURL=library.js.map