!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("three-math"),require("three")):"function"==typeof define&&define.amd?define("library",["three-math","three"],t):"object"==typeof exports?exports.library=t(require("three-math"),require("three")):e.library=t(e["three-math"],e.three)}("undefined"!=typeof self?self:this,function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=176)}([function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(147),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports=r(163)},function(e,t,r){var n=r(54)("wks"),a=r(33),i=r(5).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(19)),a=s(r(1)),i=s(r(0)),o=(r(116),s(r(70)));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){if((0,a.default)(this,e),null==t)return this.random=new o.default,this;switch(void 0===t?"undefined":(0,n.default)(t)){case"object":this.random=t;break;case"number":case"string":this.random=new o.default(t);break;default:this.random=new o.default}}return(0,i.default)(e,[{key:"random",get:function(){return this._random},set:function(e){this._random=e}}]),(0,i.default)(e,[{key:"choice",value:function(e){if(!Array.isArray(e))throw new TypeError("list must by an array");return e[this.next(e.length-1)]}},{key:"weighted",value:function(e){if("object"!==(void 0===e?"undefined":(0,n.default)(e)))throw new TypeError("list must be array or object");Array.isArray(e)||(e=Object.entries(e).map(function(e){return[e[1],e[0]]}));for(var t=e.reduce(function(e,t){return e+t[0]},0),r=this.random.real(0,t),a=0;a<e.length;a++)if((r-=e[a][0])<0)return e[a][1]}},{key:"Next",value:function(e){return this.next(e)}},{key:"next",value:function(e){return null!=e?this.random.integer(0,e):this.random.next()}},{key:"unit",value:function(){return this.random.unit()}},{key:"integer",value:function(e,t){return this.random.integer(e,t)}},{key:"real",value:function(e,t){return this.random.real(e,t)}},{key:"seed",value:function(){return this.next()}},{key:"NormallyDistributedSingle",value:function(e,t){var r=this.random.unit(),n=this.random.unit(),a=Math.sqrt(-2*Math.log(r)),i=2*Math.PI*n;return a*Math.sin(i)*e+t}},{key:"NormallyDistributedSingle4",value:function(e,t,r,n){var a=(n-t)/e,i=(r-t)/e,o=a-i,s=i*i;i<0&&0<a?s=0:a<0&&(s=a*a);var u=0,l=void 0,c=void 0;do{c=o*this.unit()+i,u=Math.exp((s-c*c)/2),l=this.unit()}while(l>u);return c*e+t}}],[{key:"randomSeed",value:function(){return Math.floor((new Date).getTime()/Math.floor(100*Math.random()+1))}}]),e}();t.default=u},function(t,r){t.exports=e},function(e,t,r){var n=r(15);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(5),a=r(2),i=r(22),o=r(17),s=function(e,t,r){var u,l,c,f=e&s.F,h=e&s.G,d=e&s.S,p=e&s.P,v=e&s.B,y=e&s.W,b=h?a:a[t]||(a[t]={}),m=b.prototype,g=h?n:d?n[t]:(n[t]||{}).prototype;for(u in h&&(r=t),r)(l=!f&&g&&void 0!==g[u])&&u in b||(c=l?g[u]:r[u],b[u]=h&&"function"!=typeof g[u]?r[u]:v&&l?i(c,n):y&&g[u]==c?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?i(Function.call,c):c,p&&((b.virtual||(b.virtual={}))[u]=c,e&s.R&&m&&!m[u]&&o(m,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(173),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,i.default)(e)}},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(161),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,r){return function n(a,o){try{var s=t[a](o),u=s.value}catch(e){return void r(e)}if(!s.done)return i.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}},function(e,t,r){var n=r(8),a=r(85),i=r(58),o=Object.defineProperty;t.f=r(14)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(144),i=(n=a)&&n.__esModule?n:{default:n};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports=!r(27)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(12),a=r(26);e.exports=r(14)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(19)),a=o(r(1)),i=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n){(0,a.default)(this,e),this.callStack=null,this.subactions=[],this.finalizers=[],this.unbrokenInterval="number"==typeof r&&r>=0?r:16,this.sleepInterval="number"==typeof n&&n>=0?n:0,this.loopAction=!1,this.started=!1,this.canceled=!1,this.completed=!1,this.intervalIteration=0,this.stepIteration=0,this.intervalStepIteration=null,this.intervalStartTime=null,this.intervalEndTime=null,this.progressUpdater="function"==typeof t?t:null}return(0,i.default)(e,[{key:"execute",value:function(){return this.canceled||this.completed||null!==this.callStack||!1!==this.started||(this.started=!0,this.subactions.length>0?(this.beginSubactions(0,1),null!==this.progressUpdater&&this.progressUpdater(this),setTimeout(this.step.bind(this),this.sleepInterval)):this.completed=!0),this}},{key:"step",value:function(){for(this.intervalStartTime=Date.now(),this.intervalEndTime=this.intervalStartTime+this.unbrokenInterval,this.intervalStepIteration=0;Date.now()<this.intervalEndTime&&!this.canceled&&!this.completed;){var e=this.callStack.actions[this.callStack.index];if(this.callStack.loop=!1,e.action(this),this.intervalStepIteration+=1,this.stepIteration+=1,this.subactions.length>0)this.beginSubactions(this.getProgress(),this.callStack.loop?0:(1-this.callStack.loopProgress)*e.proportion/this.callStack.proportionSum*this.callStack.parentProgressRange);else{for(;null!==this.callStack&&!1===this.callStack.loop&&this.callStack.index===this.callStack.actions.length-1;){for(var t=0;t<this.callStack.finalizers.length;++t)this.callStack.finalizers[t](this);this.callStack=this.callStack.parent}null!==this.callStack?!1===this.callStack.loop&&(this.callStack.loopProgress=0,this.callStack.index+=1):this.completed=!0}}if(this.intervalStartTime=null,this.intervalEndTime=null,this.intervalStepIteration=null,null!==this.progressUpdater&&this.progressUpdater(this),this.intervalIteration+=1,this.canceled)for(;null!==this.callStack;){for(t=0;t<this.callStack.finalizers.length;++t)this.callStack.finalizers[t](this);this.callStack=this.callStack.parent}else this.completed||setTimeout(this.step.bind(this),this.sleepInterval)}},{key:"beginSubactions",value:function(e,t){this.callStack={actions:this.subactions,finalizers:this.finalizers,proportionSum:function(e,t,r){for(var n=0;n<e.length;++n)t=r(t,e[n]);return t}(this.subactions,0,function(e,t){return e+t.proportion}),index:0,loop:!1,loopProgress:0,parent:this.callStack,parentProgress:e,parentProgressRange:t},this.subactions=[],this.finalizers=[]}},{key:"cancel",value:function(){this.canceled=!0}},{key:"provideResult",value:function(e){this.callStack.resultProvider=e}},{key:"loop",value:function(e){this.callStack.loop=!0,"number"==typeof e&&e>=0&&e<1&&(this.callStack.loopProgress=e)}},{key:"executeSubaction",value:function(e,t,r){return t="number"==typeof t&&t>=0?t:1,this.subactions.push({action:e,proportion:t,name:r}),this}},{key:"getResult",value:function(e){return this.subactions.push({action:function(t){var r=t.callStack.resultProvider,a=void 0===r?"undefined":(0,n.default)(r);"function"===a?e(r()):"undefined"!==a?e(r):e()},proportion:0}),this}},{key:"finalize",value:function(e){return this.finalizers.push(e),this}},{key:"getTimeRemainingInInterval",value:function(){return null!==this.intervalEndTime?Math.max(0,this.intervalEndTime-Date.now()):0}},{key:"getProgress",value:function(){if(null!==this.callStack){if(0===this.callStack.proportionSum)return this.callStack.parentProgress;for(var e=0,t=0;t<this.callStack.index;++t)e+=this.callStack.actions[t].proportion;return e+=this.callStack.loopProgress*this.callStack.actions[this.callStack.index].proportion,this.callStack.parentProgress+e/this.callStack.proportionSum*this.callStack.parentProgressRange}return this.completed?1:0}},{key:"getCurrentActionName",value:function(){for(var e=this.callStack;null!==e;){var t=e.actions[e.index];if("string"==typeof t.name)return t.name;e=e.parent}return""}}]),e}();t.default=s},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(134)),a=o(r(132)),i="function"==typeof a.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,r){var n=r(82),a=r(60);e.exports=function(e){return n(a(e))}},function(e,t){e.exports={}},function(e,t,r){var n=r(35);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(140)),a=i(r(137));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,u=(0,a.default)(e);!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(r(13)),a=b(r(3)),i=b(r(11)),o=b(r(23)),s=b(r(1)),u=b(r(0)),l=b(r(46)),c=b(r(43)),f=b(r(6)),h=b(r(18)),d=b(r(69)),p=r(42),v=r(29),y=r(115);function b(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,t);var r=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,e.star||{}),"STAR"));return Object.defineProperty(r,"type",{enumerable:!0,writable:!0,value:"STAR"}),Object.defineProperty(r,"habitable",{enumerable:!0,writable:!0,value:!1}),Object.defineProperty(r,"body_type",{enumerable:!0,writable:!0,value:"STAR"}),Object.defineProperty(r,"model",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(r,"physics",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(r,"luminosity",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"radius",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"temperature",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"color",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"temperature_k",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"volume",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"density",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"inner_limit",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"outer_limit",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"subtype",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"evolution",{enumerable:!0,writable:!0,value:null}),r.recalculate(),r}return(0,c.default)(t,e),(0,u.default)(t,[{key:"setDesignation",value:function(e){if(!e){var t=this.system,r=void 0===t?{}:t,n=this.system_sequence;e=r&&null!=n?(r.designation||r.name)+" "+p.GREEK_LETTERS[n]:r.designation||r.name}this.designation=e,this.makeCode()}},{key:"recalculate",value:function(){var e=this;if(this.mass){var r=v.SPECTRAL_CLASSIFICATION.find(function(t){return e.mass>t.min_sol_mass&&e.mass<t.max_sol_mass});this.subtype=r.class,this.evolution=r.organisms_evolution,this.radius=t.calcRadius(this.mass),this.volume=t.calcVolume(this.radius),this.density=t.calcDensity(this.mass,this.radius),this.luminosity=t.calcLuminosity(this.mass),this.inner_limit=t.calcInnerLimit(this.mass),this.outer_limit=t.calcOuterLimit(this.mass),this.frost_line=t.calcFrostLine(this.luminosity),this.temperature=t.calcTemperature(this.luminosity,this.radius),this.color=t.calcColor(this.temperature),this.surface_area=t.calcSurfaceArea(this.radius),this.circumference=t.calcCircumference(this.radius),this.main_sequence_lifetime=t.calcMainSequenceLifetime(this.mass,this.luminosity),this.habitable_zone=t.calcHabitableZone(this.luminosity),this.habitable_zone_inner=t.calcHabitableZoneStart(this.luminosity),this.habitable_zone_outer=t.calcHabitableZoneEnd(this.luminosity)}}},{key:"generateMass",value:function(e){var t=e.choice(v.SPECTRAL_CLASSIFICATION);return e.real(t.min_sol_mass,t.max_sol_mass)}},{key:"MassOrder",value:function(e){return this.mass_order=e,this}},{key:"Generate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.random,t=[["mass",this.generateMass]],r=!0,n=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value,l=(0,o.default)(u,2),c=l[0],f=l[1];null==this[c]&&(this[c]=f(e))}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return this.recalculate(),this}},{key:"GenerateAsync",value:function(){var e=(0,i.default)(a.default.mark(function e(){var r,n,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.model,n=this.getSeed(),i=new f.default(n),e.abrupt("return",new Promise(function(e,a){new h.default(function(e){console.log(e.getCurrentActionName(),e.getProgress())}).executeSubaction(function(e){t.generateMass(i).then(function(t){console.log("##",t),e.provideResult(t)})},1,"Generating Star Mass").getResult(function(e){r.mass=e,r.seed=n}).finalize(function(t){console.warn("FINISH!!! :D"),e(r)},0).execute()}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"generateMass",value:function(){var e=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",1);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"solTemperatureToKelvin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseInt(e*v.SUN_TEMPERATURE)}},{key:"solLifetimeToYears",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseInt(e*v.SUN_AGE)}},{key:"calcLuminosity",value:function(e){switch(!0){case e<.43:return.23*Math.pow(e,2.3);case e<2&&e>=.43:return Math.pow(e,4);case e<20&&e>=2:return 1.5*Math.pow(e,3.5);case e>=20:return 3200*e}}},{key:"calcRadius",value:function(e){var t=e>1?.5:.8;return Math.pow(e,t)}},{key:"calcTemperature",value:function(e,t){return Math.pow(e/Math.pow(t,2),.25)}},{key:"calcColor",value:function(e){var t=this.solTemperatureToKelvin(e);return(0,y.getStarColor)(t)}},{key:"calcVolume",value:function(e){return 4/3*Math.PI*Math.pow(e,3)}},{key:"calcDensity",value:function(e,t){return e/(4/3*Math.PI*Math.pow(t,3))}},{key:"calcFrostLine",value:function(e){return 4.85*Math.sqrt(e)}},{key:"calcMainSequenceLifetime",value:function(e,t){return e/t}},{key:"calcCircumference",value:function(e){return 2*Math.PI*e}},{key:"calcSurfaceArea",value:function(e){return 4*Math.PI*Math.pow(e,2)}},{key:"calcInnerLimit",value:function(e){var t=.1*e;return t<.15&&(t=.15),t}},{key:"calcOuterLimit",value:function(e){return 40*e}},{key:"calcHabitableZone",value:function(e){return Math.sqrt(e)}},{key:"calcHabitableZoneStart",value:function(e){return Math.sqrt(e/1.1)}},{key:"calcHabitableZoneEnd",value:function(e){return Math.sqrt(e/.53)}},{key:"Generate",value:function(e,t){var r=e.choice(v.SPECTRAL_CLASSIFICATION),a=e.real(r.min_sol_mass,r.max_sol_mass);return new this((0,n.default)({mass:a},t))}}]),t}(d.default);t.default=m},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(171)(!0);r(86)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLANETARY_SYSTEMS_TYPES={SINGLE_STAR:"SINGLE_STAR",BINARY_P_TYPE_STAR:"BINARY_P_TYPE_STAR",MULTIPLE_S_TYPE_STAR:"MULTIPLE_S_TYPE_STAR"};var n=t.PLANETS_COUNT_IN_SINGLE_STAR_SYSTEM={0:.1,1:.1,2:.2,3:.2,4:.3,5:.3,6:.4,7:.4,8:.5,9:.5,10:.3,11:.3,12:.1,13:.1,14:.1,15:.01,16:.01,17:.001};t.PLANETS_COUNT_IN_BINARY_STAR_P_TYPE_SYSTEM=n,t.PLANETS_COUNT_IN_BINARY_STAR_S_TYPE_SYSTEM={0:1,1:.5,2:.1,3:.01,4:.001,5:1e-4},t.MIN_STARS_MASS_DIFFERENCE_IN_SYSTEM=.1,t.STAR_COUNT_DISTIBUTION_IN_BINARY_SUBSYSTEMS={1:.2,2:1},t.STAR_COUNT_DISTIBUTION_IN_SYSTEMS={1:1,2:.2},t.SUN_AGE=4603e6,t.SUN_TEMPERATURE=5778,t.SPECTRAL_CLASSIFICATION=[{class:"O",min_sol_mass:16,max_sol_mass:50,organisms_evolution:!1},{class:"B",min_sol_mass:2.1,max_sol_mass:16,organisms_evolution:!1},{class:"A",min_sol_mass:1.4,max_sol_mass:2.1,organisms_evolution:!1},{class:"F",min_sol_mass:1.04,max_sol_mass:1.4,organisms_evolution:!0},{class:"G",min_sol_mass:.8,max_sol_mass:1.04,organisms_evolution:!0},{class:"K",min_sol_mass:.45,max_sol_mass:.8,organisms_evolution:!0},{class:"M",min_sol_mass:.08,max_sol_mass:.45,organisms_evolution:!1}]},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){r(159);for(var n=r(5),a=r(17),i=r(21),o=r(4)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=n[l],f=c&&c.prototype;f&&!f[o]&&a(f,o,l),i[l]=i.Array}},function(e,t,r){var n=r(12).f,a=r(16),i=r(4)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(83),a=r(53);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=!0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(3)),a=s(r(1)),i=s(r(0)),o=r(7);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r,n,i,o,s){(0,a.default)(this,e),this._basis=t,this._countMean=r||25e-7,this._countDeviation=n||1e-6,this._deviationX=i||25e-7,this._deviationY=o||25e-7,this._deviationZ=s||25e-7}return(0,i.default)(e,[{key:"Generate",value:n.default.mark(function e(t){var r,a,i,s,u,l,c,f,h,d,p,v,y,b,m;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._basis,a=this._countDeviation,i=this._countMean,s=this._deviationX,u=this._deviationY,l=this._deviationZ,e.prev=1,!((c=Math.max(0,t.NormallyDistributedSingle(a,i)))<=0)){e.next=5;break}return e.abrupt("return");case 5:f=0;case 6:if(!(f<c)){e.next=37;break}h=new o.Vector3(t.NormallyDistributedSingle(s,0),t.NormallyDistributedSingle(u,0),t.NormallyDistributedSingle(l,0)),d=!0,p=!1,v=void 0,e.prev=11,y=r.Generate(t)[Symbol.iterator]();case 13:if(d=(b=y.next()).done){e.next=20;break}return m=b.value,e.next=17,m.Offset(h);case 17:d=!0,e.next=13;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(11),p=!0,v=e.t0;case 26:e.prev=26,e.prev=27,!d&&y.return&&y.return();case 29:if(e.prev=29,!p){e.next=32;break}throw v;case 32:return e.finish(29);case 33:return e.finish(26);case 34:f++,e.next=6;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(1),console.error("!",e.t1);case 42:case"end":return e.stop()}},e,this,[[1,39],[11,22,26,34],[27,,29,33]])})}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(3)),a=l(r(1)),i=l(r(0)),o=r(7),s=l(r(39)),u=l(r(37));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,a.default)(this,e),this.Size=750,this.Spacing=5,this.MinimumArms=3,this.MaximumArms=7,this.ClusterCountDeviation=.35,this.ClusterCenterDeviation=.2,this.MinArmClusterScale=.02,this.ArmClusterScaleDeviation=.02,this.MaxArmClusterScale=.1,this.Swirl=4*Math.PI,this.CenterClusterScale=.19,this.CenterClusterDensityMean=5e-5,this.CenterClusterDensityDeviation=5e-6,this.CenterClusterSizeDeviation=.00125,this.CenterClusterCountMean=20,this.CenterClusterCountDeviation=3,this.CenterClusterPositionDeviation=.075,this.CentralVoidSizeMean=25,this.CentralVoidSizeDeviation=7}return(0,i.default)(e,[{key:"Generate",value:n.default.mark(function e(t){var r,a,i,o,s,u,l,c,f,h,d,p,v,y,b,m,g,_,w,S,k,x;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.CentralVoidSizeDeviation,a=this.CentralVoidSizeMean,e.prev=1,(i=t.NormallyDistributedSingle(r,a))<0&&(i=0),o=i*i,s=!0,u=!1,l=void 0,e.prev=8,c=this.GenerateArms(t)[Symbol.iterator]();case 10:if(s=(f=c.next()).done){e.next=18;break}if(!((h=f.value).position.lengthSq()>o)){e.next=15;break}return e.next=15,h;case 15:s=!0,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),u=!0,l=e.t0;case 24:e.prev=24,e.prev=25,!s&&c.return&&c.return();case 27:if(e.prev=27,!u){e.next=30;break}throw l;case 30:return e.finish(27);case 31:return e.finish(24);case 32:d=!0,p=!1,v=void 0,e.prev=35,y=this.GenerateCenter(t)[Symbol.iterator]();case 37:if(d=(b=y.next()).done){e.next=45;break}if(!((m=b.value).position.lengthSq()>o)){e.next=42;break}return e.next=42,m;case 42:d=!0,e.next=37;break;case 45:e.next=51;break;case 47:e.prev=47,e.t1=e.catch(35),p=!0,v=e.t1;case 51:e.prev=51,e.prev=52,!d&&y.return&&y.return();case 54:if(e.prev=54,!p){e.next=57;break}throw v;case 57:return e.finish(54);case 58:return e.finish(51);case 59:g=!0,_=!1,w=void 0,e.prev=62,S=this.GenerateBackgroundStars(t)[Symbol.iterator]();case 64:if(g=(k=S.next()).done){e.next=72;break}if(!((x=k.value).position.lengthSq()>o)){e.next=69;break}return e.next=69,x;case 69:g=!0,e.next=64;break;case 72:e.next=78;break;case 74:e.prev=74,e.t2=e.catch(62),_=!0,w=e.t2;case 78:e.prev=78,e.prev=79,!g&&S.return&&S.return();case 81:if(e.prev=81,!_){e.next=84;break}throw w;case 84:return e.finish(81);case 85:return e.finish(78);case 86:e.next=91;break;case 88:e.prev=88,e.t3=e.catch(1),console.error("ERR>",e.t3);case 91:case"end":return e.stop()}},e,this,[[1,88],[8,20,24,32],[25,,27,31],[35,47,51,59],[52,,54,58],[62,74,78,86],[79,,81,85]])})},{key:"GenerateBackgroundStars",value:function(e){var t=this.Size;return new s.default(t,1e-6,1e-7,.35,.125,.35).Generate(e)}},{key:"GenerateArms",value:n.default.mark(function e(t){var r,a,i,u,l,c,f,h,d,p,v,y,b,m,g,_,w,S,k,x,M,A,P,T,O,E,R,C,j,N,I;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.Size,a=this.Swirl,i=this.Spacing,u=this.MinimumArms,l=this.MaximumArms,c=this.ClusterCountDeviation,f=this.ClusterCenterDeviation,h=this.ArmClusterScaleDeviation,d=this.MinArmClusterScale,p=this.MaxArmClusterScale,e.prev=1,v=t.integer(u,l),y=2*Math.PI/v,b=r/i/v,m=0;case 6:if(!(m<v)){e.next=52;break}g=t.NormallyDistributedSingle(b*c,b).toFixed(),_=0;case 9:if(!(_<g)){e.next=49;break}w=t.NormallyDistributedSingle(.5*y*f,0)+y*m,S=Math.abs(t.NormallyDistributedSingle(.4*r,0)),(k=new o.Vector3(0,0,S)).applyAxisAngle(new o.Vector3(0,1,0),w),x=h*r,M=d*r,A=p*r,P=t.NormallyDistributedSingle4(x,.5*M+.5*A,M,A),T=25e-5,O=new s.default(P,T,null,1,1,1).Generate(t),E=!0,R=!1,C=void 0,e.prev=23,j=O[Symbol.iterator]();case 25:if(E=(N=j.next()).done){e.next=32;break}return I=N.value,e.next=29,I.Offset(k).Swirl(new o.Vector3(0,1,0),a);case 29:E=!0,e.next=25;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(23),R=!0,C=e.t0;case 38:e.prev=38,e.prev=39,!E&&j.return&&j.return();case 41:if(e.prev=41,!R){e.next=44;break}throw C;case 44:return e.finish(41);case 45:return e.finish(38);case 46:_++,e.next=9;break;case 49:m++,e.next=6;break;case 52:e.next=57;break;case 54:e.prev=54,e.t1=e.catch(1),console.error("ERR>",e.t1);case 57:case"end":return e.stop()}},e,this,[[1,54],[23,34,38,46],[39,,41,45]])})},{key:"GenerateCenter",value:n.default.mark(function e(t){var r,a,i,l,c,f,h,d,p,v,y,b,m,g,_,w;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.Size,a=this.Swirl,i=this.CenterClusterDensityDeviation,l=this.CenterClusterDensityMean,c=this.CenterClusterCountMean,f=this.CenterClusterScale,h=this.CenterClusterCountDeviation,d=this.CenterClusterPositionDeviation,e.prev=1,p=new s.default(r*f,l,i,f,f,f),v=new u.default(p,c,h,r*d,r*d,r*d),y=!0,b=!1,m=void 0,e.prev=7,g=v.Generate(t)[Symbol.iterator]();case 9:if(y=(_=g.next()).done){e.next=16;break}return w=_.value,e.next=13,w.Swirl(new o.Vector3(0,1,0),5*a);case 13:y=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),b=!0,m=e.t0;case 22:e.prev=22,e.prev=23,!y&&g.return&&g.return();case 25:if(e.prev=25,!b){e.next=28;break}throw m;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(1),console.error("!",e.t1);case 35:case"end":return e.stop()}},e,this,[[1,32],[7,18,22,30],[23,,25,29]])})}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(3)),a=u(r(1)),i=u(r(0)),o=r(7),s=u(r(64));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r,n,i,o,s){(0,a.default)(this,e),this._size=t||750,this._densityMean=r||1e-6,this._densityDeviation=n||1e-7,this._deviationX=i||.35,this._deviationY=o||.125,this._deviationZ=s||.35}return(0,i.default)(e,[{key:"Generate",value:n.default.mark(function e(t){var r,a,i,u,l,c,f,h,d,p,v,y,b,m;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._size,a=this._densityDeviation,i=this._densityMean,u=this._deviationX,l=this._deviationY,c=this._deviationZ,f=Math.max(0,t.NormallyDistributedSingle(a,i)),!((h=Math.max(0,parseInt(r*r*r*f)))<=0)){e.next=5;break}return e.abrupt("return");case 5:d=t.Next(h),p=0;case 7:if(!(p<d)){e.next=17;break}return v=new o.Vector3(t.NormallyDistributedSingle(u*r,0),t.NormallyDistributedSingle(l*r,0),t.NormallyDistributedSingle(c*r,0)),y=v.length()/r,b=2e3*y+15e3*(1-y),m=t.NormallyDistributedSingle4(4e3,b,1e3,4e4),e.next=14,new s.default({position:v,temperature:m});case 14:p++,e.next=7;break;case 17:case"end":return e.stop()}},e,this)})}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(3)),a=u(r(1)),i=u(r(0)),o=r(7),s=u(r(64));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){(0,a.default)(this,e),this._size=t||5,this._spacing=r||1}return(0,i.default)(e,[{key:"Generate",value:n.default.mark(function e(t){var r,a,i,u,l,c;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this._size,a=this._spacing,i=(r/a).toFixed(),u=0;case 3:if(!(u<i)){e.next=19;break}l=0;case 5:if(!(l<i)){e.next=16;break}c=0;case 7:if(!(c<i)){e.next=13;break}return e.next=10,new s.default({position:new o.Vector3(u*a,l*a,c*a),temperature:null,galaxy_size:r}).Offset(new o.Vector3(-r/2,-r/2,-r/2));case 10:c++,e.next=7;break;case 13:l++,e.next=5;break;case 16:u++,e.next=3;break;case 19:case"end":return e.stop()}},e,this)})}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(10)),a=l(r(1)),i=l(r(0)),o=l(r(66)),s=l(r(89)),u=l(r(65));l(r(88));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"GenerateSystemName",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.weighted(e.systemNamingStrategies)(t)}},{key:"PlainMarkovT",value:function(e,t){return function(r){if(null==e){var n=new o.default(2);n.TeachArray(t),e=n.toModel()}return e.Generate(r)}}},{key:"Named",value:function(e){return function(t){return t.choice(e).toLowerCase()}}},{key:"GenerateGalaxyName",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.weighted(e.galaxyNamingStrategies)(t)}},{key:"Generate",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.weighted(e.namingStrategies)(t)}},{key:"systemNamingStrategies",get:function(){return[[1,e.PlainMarkovT(this._system_markov,[].concat((0,n.default)(u.default),(0,n.default)(e.names)))],[.1,e.Named([].concat((0,n.default)(s.default),[e.names]))]]}},{key:"galaxyNamingStrategies",get:function(){return[[1,e.PlainMarkovT(this._galaxy_markov,[].concat((0,n.default)(u.default),(0,n.default)(e.names)))],[.1,e.Named(s.default)]]}},{key:"namingStrategies",get:function(){return[[1,e.PlainMarkovT(this._markov,e.names)],[.1,e.Named(e.names)]]}}]),e}();Object.defineProperty(c,"names",{enumerable:!0,writable:!0,value:["Trevor","Yeltsin","Barnard","Genovese","Martin","Simon","Rob","Ed","Walter","Mohammed","Emil","Shannon","Nicole","Yury","Coleman","Deanne","Rosenda","Geoffrey","Taryn","Noreen","Rita","Jeanetta","Stanton","Alesha","Mark","Georgiann","Modesta","Lee","Cyndi","Raylene","Ellamae","Sharmaine","Candra","Karine","Trena","Tarah","Dorie","Kyoko","Wei","Cristopher","Yoshie","Meany","Zola","Corene","Suzie","Sherwood","Monnie","Savannah","Amalia","Lon","Luetta","Concetta","Dani","Sharen","Mora","Wilton","Hunter","Nobuko","Maryellen","Johnetta","Eleanora","Arline","Rae","Caprice"]}),Object.defineProperty(c,"specialLocations",{enumerable:!0,writable:!0,value:["Epsilon Eridani","San Martin","Seaford Nine","Proctor Three","Smoking Frog","First of the Sun","Xendi Sabu","Bela Tegeuse"]}),Object.defineProperty(c,"greekLetters",{enumerable:!0,writable:!0,value:["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omnicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"]}),Object.defineProperty(c,"decorators",{enumerable:!0,writable:!0,value:["Major","Majoris","Minor","Minoris","Prime","Secundis","System"]}),Object.defineProperty(c,"_system_markov",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(c,"_galaxy_markov",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(c,"_markov",{enumerable:!0,writable:!0,value:null}),t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.greekLetterNameToLetter=function(e){return a[n.indexOf(e)]},t.toRoman=function e(t){if(t<1)return"";if(t>=1e3)return"M"+e(t-1e3);if(t>=900)return"CM"+e(t-900);if(t>=500)return"D"+e(t-500);if(t>=400)return"CD"+e(t-400);if(t>=100)return"C"+e(t-100);if(t>=90)return"XC"+e(t-90);if(t>=50)return"L"+e(t-50);if(t>=40)return"XL"+e(t-40);if(t>=10)return"X"+e(t-10);if(t>=9)return"IX"+e(t-9);if(t>=5)return"V"+e(t-5);if(t>=4)return"IV"+e(t-4);if(t>=1)return"I"+e(t-1);throw new RangeError};t.ISO_LATIN=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var n=t.GREEK_LETTERS_NAMES=["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega"],a=t.GREEK_LETTERS=["α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω"]},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(123)),a=o(r(119)),i=o(r(19));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){var n=r(5),a=r(2),i=r(36),o=r(45),s=r(12).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){t.f=r(4)},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(19),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(r(3)),a=v(r(13)),i=v(r(1)),o=v(r(0)),s=r(7),u=r(29),l=v(r(24)),c=(v(r(114)),v(r(68))),f=v(r(6)),h=r(42),d=v(r(67)),p=v(r(90));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),Object.defineProperty(this,"type",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"code",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"name",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"habitable",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"habitable_zone_inner",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"habitable_zone_outer",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"frost_line",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"description",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"celestial_objects",{enumerable:!0,writable:!0,value:[]}),Object.assign(this,t);var r=t.seed,n=t.position,a=t.name,o=t.stars,s=t.planets;this.setSeed(r),this.setName(a),this.setPosition(n),this.stars=o||[],this.planets=s||[]}return(0,o.default)(e,[{key:"setSeed",value:function(e){null==this.seed&&(this.seed=e||Date.now()),this.random=new f.default(this.seed),this.generateSeeds()}},{key:"generateSeeds",value:function(){if(this.seeds&&this.seeds.planets)return this.seeds;this.seeds={stars:this.random.next(),planets:this.random.next()}}},{key:"setPosition",value:function(e){this.position=e||(0,a.default)({},new s.Vector3)}},{key:"setName",value:function(e){this.name=e||d.default.Generate(this.random),this.code=this.escapeRegExp(this.name).toUpperCase().replace(/ /g,"")}},{key:"escapeRegExp",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"")}},{key:"generateStars",value:n.default.mark(function t(){var r,a,i,o,s,u,l;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r=new f.default(this.seeds.stars),a=!0,i=!1,o=void 0,t.prev=5,s=e.GenerateStars(r,this)[Symbol.iterator]();case 7:if(a=(u=s.next()).done){t.next=16;break}return l=u.value,this.stars.push(l),this.celestial_objects.push(l),t.next=13,l;case 13:a=!0,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),i=!0,o=t.t0;case 22:t.prev=22,t.prev=23,!a&&s.return&&s.return();case 25:if(t.prev=25,!i){t.next=28;break}throw o;case 28:return t.finish(25);case 29:return t.finish(22);case 30:this.stars.sort(function(e,t){return e.mass<t.mass}),this.fillStarInfo(),t.next=37;break;case 34:t.prev=34,t.t1=t.catch(0),console.warn(t.t1);case 37:case"end":return t.stop()}},t,this,[[0,34],[5,18,22,30],[23,,25,29]])})},{key:"getStars",value:function(){return this.celestial_objects.filter(function(e){return"STAR"==e.type})}},{key:"getPlanets",value:function(){return this.celestial_objects.filter(function(e){return"PLANET"==e.type})}},{key:"fillPlanetInfo",value:function(){var e=this.getPlanets();this.planetGenerationData={planets_count:e.length},Object.assign(this,this.planetGenerationData)}},{key:"fillStarInfo",value:function(){var e=this.getStars(),t=null;switch(e.length){case 1:t="SINGLE_STAR";break;case 2:t="BINARY_STAR";break;default:t="MULTIPLE_STAR"}var r=e[0];this.starGenerationData={type:t,stars_count:e.length,inner_limit:r.inner_limit,outer_limit:r.outer_limit,frost_line:r.frost_line,habitable_zone:r.habitable_zone,habitable_zone_inner:r.habitable_zone_inner,habitable_zone_outer:r.habitable_zone_outer,star_color:r.color},Object.assign(this,this.starGenerationData)}},{key:"flushStarGenerationData",value:function(){return this.starGenerationData}},{key:"flushPlanetGenerationData",value:function(){return this.planetGenerationData}},{key:"generateProtoPlanets",value:n.default.mark(function e(){var t,r,i,o,s,l,c,d,v,y,b,m,g,_,w,S,k,x,M=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new f.default(this.seeds.planets),r=t.weighted(u.PLANETS_COUNT_IN_SINGLE_STAR_SYSTEM),i=[],o=[],s=["inner","habitable","outer"],l=4,c=3,d=0;d<r;d++)v=[],0!=l&&v.push("inner"),0!=c&&v.push("habitable"),v.push("outer"),"inner"==(y=this.habitable&&0==d?"habitable":t.choice(v))&&l--,"habitable"==y&&c--,o.push(y);o.sort(function(e,t){return s.indexOf(e)-s.indexOf(t)}),o.indexOf("habitable"),b=new p.default(this),m=n.default.mark(function e(r){var o,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.next();i.find(function(e){return e==o});)o=t.next();return i.push(o),s=M.name+" "+(0,h.toRoman)(r.from_star),e.next=6,(0,a.default)({},r,{seed:o,orbit:r,designation:s});case 6:case"end":return e.stop()}},e,M)}),g=!0,_=!1,w=void 0,e.prev=15,S=b.generateOrbits()[Symbol.iterator]();case 17:if(g=(k=S.next()).done){e.next=23;break}return x=k.value,e.delegateYield(m(x),"t0",20);case 20:g=!0,e.next=17;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(15),_=!0,w=e.t1;case 29:e.prev=29,e.prev=30,!g&&S.return&&S.return();case 32:if(e.prev=32,!_){e.next=35;break}throw w;case 35:return e.finish(32);case 36:return e.finish(29);case 37:case"end":return e.stop()}},e,this,[[15,25,29,37],[30,,32,36]])})},{key:"generatePlanets",value:n.default.mark(function e(){var t,r,i,o,s,u,l;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=!0,r=!1,i=void 0,e.prev=4,o=this.generateProtoPlanets()[Symbol.iterator]();case 6:if(t=(s=o.next()).done){e.next=16;break}return u=s.value,l=new c.default((0,a.default)({},u,{system:this})),this.planets.push(l),this.celestial_objects.push(l),e.next=13,l;case 13:t=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),r=!0,i=e.t0;case 22:e.prev=22,e.prev=23,!t&&o.return&&o.return();case 25:if(e.prev=25,!r){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:this.fillPlanetInfo(),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(0),console.warn(e.t1);case 36:case"end":return e.stop()}},e,this,[[0,33],[4,18,22,30],[23,,25,29]])})},{key:"Position",value:function(e){return this.position=e,this}},{key:"Subsystem",value:function(e){return this._subsystem=e,this}}],[{key:"GenerateStars",value:n.default.mark(function e(t,r){var a,i,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((a=t.weighted(u.STAR_COUNT_DISTIBUTION_IN_SYSTEMS))<=0)){e.next=4;break}return e.abrupt("return");case 4:i=0;case 5:if(!(i<a)){e.next=13;break}return o={system:r},a>1&&(o.system_sequence=i),e.next=10,l.default.Generate(t,o);case 10:i++,e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("ERR>",e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])})}]),e}();t.default=y},function(e,t,r){"use strict";var n=r(35);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t,r){var n=r(25),a=r(4)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(50),a=r(4)("iterator"),i=r(21);e.exports=r(2).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(60);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(5),a=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,r){var n=r(54)("keys"),a=r(33);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){var n=r(61),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(8),a=r(169),i=r(53),o=r(55)("IE_PROTO"),s=function(){},u=function(){var e,t=r(59)("iframe"),n=i.length;for(t.style.display="none",r(81).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[i[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=u(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(15);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(15),a=r(5).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(11)),a=m(r(3)),i=m(r(13)),o=m(r(10)),s=m(r(1)),u=m(r(0)),l=r(7),c=m(r(48)),f=m(r(6)),h=m(r(41)),d=m(r(67)),p=m(r(40)),v=m(r(39)),y=m(r(38)),b=(m(r(37)),m(r(63)));function m(e){return e&&e.__esModule?e:{default:e}}var g=["spiral","grid","sphere"],_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),Object.defineProperty(this,"objects",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"buildData",{enumerable:!0,writable:!0,value:{shape:null,gridOptions:[20,7],random:null}}),Object.defineProperty(this,"star_systems",{enumerable:!0,writable:!0,value:[]}),Object.assign(this,t);var r=t.seed,n=t.position,a=t.name,i=t.classification;this.setSeed(r),this.setName(a),this.setClassification(i),this.setPosition(n)}return(0,u.default)(e,[{key:"statistics",get:function(){return null==this._statistics&&this.fillStatistics(),this._statistics}}]),(0,u.default)(e,[{key:"setSeed",value:function(e){null==this.seed&&(this.seed=e||Date.now()),this.buildData.random=new f.default(this.seed)}},{key:"setName",value:function(e){this.name=e||h.default.GenerateGalaxyName(this.buildData.random),null==this.code&&(this.code="GALAXY."+this.name.toUpperCase().replace(new RegExp(" ","g"),""))}},{key:"setClassification",value:function(e){var t=this.buildData.random.choice(g);this.classification=e||t}},{key:"setPosition",value:function(e){this.position=e||new l.Vector3}},{key:"getShape",value:function(){var e=null;switch(this.classification){case"spiral":e=new y.default;break;case"sphere":e=new v.default;break;case"grid":default:e=new(Function.prototype.bind.apply(p.default,[null].concat((0,o.default)(this.buildData.gridOptions||[]))))}return e}},{key:"generateSystems",value:a.default.mark(function e(){var t,r,n,o,s,u,l,f,h,p=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.buildData.random,r=this.getShape(),n=a.default.mark(function e(r){var n,o,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.next();p.star_systems.find(function(e){return e.seed==n});)n=t.next();for(o=d.default.Generate(t);p.star_systems.find(function(e){return e.name.toLowerCase()==o.toLowerCase()});)o=d.default.Generate(t);return s=new c.default({name:o,seed:n,position:(0,i.default)({},r.position),temperature:r.temperature}),p.star_systems.push(s),e.next=8,s;case 8:case"end":return e.stop()}},e,p)}),o=!0,s=!1,u=void 0,e.prev=6,l=r.Generate(t)[Symbol.iterator]();case 8:if(o=(f=l.next()).done){e.next=14;break}return h=f.value,e.delegateYield(n(h),"t0",11);case 11:o=!0,e.next=8;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(6),s=!0,u=e.t1;case 20:e.prev=20,e.prev=21,!o&&l.return&&l.return();case 23:if(e.prev=23,!s){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:this.fillStatistics();case 29:case"end":return e.stop()}},e,this,[[6,16,20,28],[21,,23,27]])})},{key:"fillStatistics",value:function(){this._statistics={star_systems:this.star_systems.length}}},{key:"getSystems",value:function(){return this.star_systems}},{key:"GenerateUniqNames",value:function(e){return this.star_systems.forEach(function(t){return t.Name(h.default.Generate(e))}),this}},{key:"GenerateStars",value:function(e){var t=[].concat((0,o.default)(e.Generate(this._random)));return this.star_systems=t.map(function(e){return new c.default("123",e)}),this}},{key:"GenerateSystems",value:function(){var e=(0,n.default)(a.default.mark(function e(t,r){var n,i,o,s,u,l,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=!0,o=!1,s=void 0,e.prev=4,u=r[Symbol.iterator]();case 6:if(i=(l=u.next()).done){e.next=16;break}return c=l.value,e.t0=n,e.next=11,(new b.default).Position(c.position).Generate(t);case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:i=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t2=e.catch(4),o=!0,s=e.t2;case 22:e.prev=22,e.prev=23,!i&&u.return&&u.return();case 25:if(e.prev=25,!o){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return this.star_systems=n,e.abrupt("return",this);case 32:case"end":return e.stop()}},e,this,[[4,18,22,30],[23,,25,29]])}));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"Generate",value:function(){var t=(0,n.default)(a.default.mark(function t(r,n){var i,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,null==r&&(r=new p.default(15,10)),null==n&&(n=new f.default),i=Array.from(r.GenerateShape(n)),o=new e({seed:"123"}),t.next=7,o.GenerateSystems(n,i);case 7:return t.next=9,o.GenerateUniqNames(n);case 9:return t.abrupt("return",o);case 12:t.prev=12,t.t0=t.catch(0),console.error("ERR>",t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e,r){return t.apply(this,arguments)}}()}]),e}();t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(23)),a=y(r(10)),i=y(r(3)),o=y(r(11)),s=y(r(1)),u=y(r(0)),l=y(r(6)),c=r(7),f=r(42),h=y(r(41)),d=y(r(87)),p=r(29),v=y(r(24));function y(e){return e&&e.__esModule?e:{default:e}}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1];(0,s.default)(this,e),Object.defineProperty(this,"_luminosity",{enumerable:!0,writable:!0,value:null}),this.seed=t.seed,this.name=t.name,this.position=t.position}return(0,u.default)(e,[{key:"luminosity",get:function(){return this._luminosity},set:function(e){this._luminosity=e}},{key:"star_mass",get:function(){return this._star_mass},set:function(e){this._star_mass=e}},{key:"subsystem",get:function(){return this._subsystem},set:function(e){this._subsystem=e}},{key:"random",get:function(){return null==this._random&&(this._random=new l.default(this.seed)),this._random}}]),(0,u.default)(e,[{key:"build",value:function(){var e=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generateName();case 2:return e.next=4,this.generatePosition();case 4:return e.next=6,this.generateStars();case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateName",value:function(){var t=(0,o.default)(i.default.mark(function t(){var r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generateName(this.random);case 2:return r=t.sent,this.name&&!n||(this.name=r),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"generatePosition",value:function(){var t=(0,o.default)(i.default.mark(function t(){var r,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generatePosition(this.random);case 2:return r=t.sent,this.position&&!n||(this.position=r),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"generateStars",value:function(){var t=(0,o.default)(i.default.mark(function t(){var r,n,a,o,s,u,l,c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],n=!0,a=!1,o=void 0,t.prev=4,s=e.generateStars(this.random)[Symbol.iterator]();!(n=(u=s.next()).done);n=!0)l=u.value,r.push(l);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),a=!0,o=t.t0;case 12:t.prev=12,t.prev=13,!n&&s.return&&s.return();case 15:if(t.prev=15,!a){t.next=18;break}throw o;case 18:return t.finish(15);case 19:return t.finish(12);case 20:return r=r.sort(function(e,t){return e.mass<t.mass}),this.stars&&!c||(this.stars=r),t.abrupt("return",this.stars);case 23:case"end":return t.stop()}},t,this,[[4,8,12,20],[13,,15,19]])}));return function(){return t.apply(this,arguments)}}()},{key:"generateSubsystem",value:function(e,t){return d.default.buildTree(t).Generate(e)}},{key:"recalculate",value:function(){for(var e=0;e<this.stars.length;e++){var t=[];this.stars.length>1&&t.push(f.GREEK_LETTERS[e]),t.push(this.name),this.stars[e].Name(t.join(" "))}this.subsystem&&(this.star_mass=this.subsystem.mass,this.luminosity=this.subsystem.luminosity)}},{key:"Name",value:function(e){return this.name=e,this}},{key:"Position",value:function(e){return this.position=e,this}},{key:"Generate",value:function(){var e=(0,o.default)(i.default.mark(function e(){var t,r,o,s,u,l,c,f,h,d,p=this,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.random;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[["name",this.generateName],["position",this.generatePosition],["stars",function(e){return[].concat((0,a.default)(p.generateStars(e))).sort(function(e,t){return e.mass<t.mass}).map(function(e,t){return e.MassOrder(t)})}],["subsystem",function(e){return p.generateSubsystem(e,p.stars)}]],r=!0,o=!1,s=void 0,e.prev=4,u=t[Symbol.iterator]();!(r=(l=u.next()).done);r=!0)c=l.value,f=(0,n.default)(c,2),h=f[0],d=f[1],null==this[h]&&(this[h]=d(v));e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),o=!0,s=e.t0;case 12:e.prev=12,e.prev=13,!r&&u.return&&u.return();case 15:if(e.prev=15,!o){e.next=18;break}throw s;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return this.recalculate(),e.abrupt("return",this);case 22:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}));return function(){return e.apply(this,arguments)}}()}],[{key:"generateName",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.default.Generate(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"generatePosition",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new c.Vector3);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"generateStars",value:i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((r=t.weighted(p.STAR_COUNT_DISTIBUTION_IN_SYSTEMS))<=0)){e.next=4;break}return e.abrupt("return");case 4:n=0;case 5:if(!(n<r)){e.next=11;break}return e.next=8,(new v.default).Generate(t);case 8:n++,e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])})}]),e}();t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,e),Object.assign(this,t)}return(0,a.default)(e,[{key:"Offset",value:function(e){return this.position.add(e),this}},{key:"Swirl",value:function(e,t){var r=this.position.length(),n=Math.pow(r,.1)*t;return this.position.applyAxisAngle(e,n),this}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HONOR_HARRINGTON_STARS_NAMES=t.COSMERE_STARS_NAMES=t.FOUNDATION_STARS_NAMES=t.STAR_TREK_STARS_NAMES=t.DUNE_STARS_NAMES=t.STARGATE_STARS_NAMES=t.REAL_STARS_NAMES=void 0;var n,a=r(10),i=(n=a)&&n.__esModule?n:{default:n};var o=t.REAL_STARS_NAMES=["Acamar","Achernar","Achird","Acrab","Akrab","Elakrab","Graffias","Acrux","Acubens","Adhafera","Adhara","Ain","Aladfar","Alamak","Alathfar","Alaraph","Albaldah","Albali","Albireo","Alchiba","Alcor","Alcyone","Aldebaran","Alderamin","Aldhafera","AlDhanab","Aldhibah","Aldib","AlFawaris","Alfecca","Meridiana","Alfirk","Algedi","AlGiedi","Algenib","Algieba","Algol","Algorab","Alhajoth","Alhena","Alioth","Alkaid","AlKurud","AlKalb","AlRai","Alkalurops","AlKaphrah","Alkes","Alkurah","Almach","AlMinliar","AlAsad","AlNair","Alnasl","Alnilam","Alnitak","Alniyat","Alphard","Alphecca","Alpheratz","Alrai","Alrakis","Alrami","Alrischa","Alruccbah","Alsafi","Alsciaukat","Alshain","Alshat","Altair","Altais","Altarf","Alterf","AlThalimain","Aludra","Alula","Alwaid","Alya","Alzir","Ancha","Angetenar","Ankaa","Antares","Arcturus","Arich","Arided","Arkab","Armus","Arneb","Arrakis","Ascella","Asellus","Ashlesha","Askella","Aspidiske","Asterion","Asterope","Atik","Atlas","Atria","Auva","Avior","Azaleh","Azelfafage","Azha","Azimech","Azmidiske","Baham","Biham","Baten","Kaitos","Becrux","Beid","Bellatrix","Benetnasch","Betelgeuse","Botein","Brachium","Canopus","Capella","Caph","Chaph","Caphir","Caput","Medusae","Castor","Castula","Cebalrai","Celbalrai","Ceginus","Celaeno","Chara","Cheleb","Chertan","Chort","Cor","Caroli","Hydrae","Leonis","Scorpii","Serpentis","Coxa","Cujam","Caiam","Cursa","Cynosura","Dabih","Decrux","Deneb","Denebola","Dheneb","Diadem","Diphda","Dnoces","Dschubba","Dubhe","Duhr","Edasich","Electra","Elmuthalleth","Elnath","Eltanin","Enif","Errai","Etamin","Fomalhaut","FumalSamakah","Furud","Gacrux","Garnet","Gatria","Gemma","Gianfar","Giedi","GienahGurab","Girtab","Gomeisa","Gorgonea","Graffias","Grafias","Grassias","Grumium","Hadar","Hadir","Haedus","Haldus","Hamal","Hassaleh","Hydrus","Heka","Heze","Hoedus","Homam","Hyadum","Hydrobius","Izar","Jabbah","Jih","Kabdhilinan","Kaffaljidhma","Kajam","Kastra","Kaus","Media","Keid","Kitalpha","Kleeia","Kochab","Kornephoros","Kraz","Ksora","Kullat","Kuma","Lanx","Librae","Superba","Lesath","Lucida","Maasym","Mahasim","Maia","Marfark","Marfik","Markab","Matar","Mebsuta","Megrez","Meissa","Mekbuda","Menchib","Menkab","Menkalinan","Menkar","Menkent","Menkib","Merak","Merga","Merope","Mesarthim","Miaplacidus","Mimosa","Minchir","Minelava","Minkar","Mintaka","Mira","Mirach","Miram","Mirfak","Mirzam","Misam","Mizar","Mothallah","Muliphein","Muphrid","Murzim","Muscida","Muscida","Muscida","Nair","Naos","Nash","Nashira","Navi","Nekkar","Nembus","Neshmet","Nihal","Nunki","Nusakan","Okul","Peacock","Phact","Phad","Pherkad","Pleione","Polaris","Pollux","Porrima","Praecipua","Procyon","Propus","Proxi","Pulcherrim","Rana","Ras","Rasalas","Rastaban","Thaoum","Regor","Regulus","Rigel","Rigil","Rijl","Rotanev","Ruchba","Ruchbah","Rukbat","Sabik","Sadachbia","Sadalbari","Sadalmelik","Sadalsuud","Sadatoni","Sadira","Sadr","Sadlamulk","Saiph","Saiph","Salm","Sargas","Sarin","Sceptrum","Scheat","Scheddi","Schedar","Segin","Seginus","Sham","Shaula","Sheliak","Sheratan","Shurnarkabti","Shashutu","Sinistra","Sirius","Situla","Skat","Spica","Sterope","Sterope","Sualocin","Subra","Suhail","Suhel","Sulafat","Sol","Syrma","Tabit","Talitha","Tania","Tarazet","Tarazed","Taygeta","Tegmen","Tegmine","Terebellum","Tejat","Thabit","Theemin","Thuban","Tien","Toliman","Torcularis","Tseen","Turais","Tyl","Unukalhai","Unuk","Vega","Vindemiatrix","Wasat","Wei","Wezen","Wezn","Yed","Yildun","Zaniah","Zaurak","Zavijava","Zawiat","Zedaron","Zelphah","Zibal","Zosma","Zuben","Zubenelgenubi","Zubeneschamali"],s=t.STARGATE_STARS_NAMES=[],u=t.DUNE_STARS_NAMES=["Ophiuchi","Eridani","Alkalurops","Boötis","Canopus","Pavonis","Fomalhaut","Waiping","Gruis","Shalish","Niushe","Shaowei","Alangue","Alces","Thalim","Laoujin"],l=t.STAR_TREK_STARS_NAMES=["Cygni","Ursae","Acamar","Aldebaran","Alfin-Bernard","Alnitak","Alpha Ataru","Centauri","Omicron","Shiro","Altair","Amargosa","Amleth","Antares","Antede","Arakon","Arcturus","Argelius","Argos","Atalia","Avenal","Avery","Azati","Eridani","Tauri","Orionis","Alnitak","Rigil","Kentaurus","Toliman","Aquilae","Altair","Amleth","Scorpii","Antede","Antede","Arakon","Bootis","Arcturus","Argelius","Argos","Atalia","Avenal","Avery","Azati","B'hava'el","Barradas","Bellatrix","Benthan","Benzite","Berengaria","Bersallis","Aquilae","Aurigae","Capricus","Cassius","Coupsic","Geminorum","Lankal","Lyrae","Magellan","Mahoga","Niobe","Portolan","Reilley","Renner","Simmons","Stromgren","Thoridar","Betelgeuse","Bilana","Bilaren","Bolarus","Bopak","Boraal","Borratas","Braslota","Bre'el","Breen","Bringloid","Browder","Caldos","Calindra","Callinon","Camor","Canopus","Capella","Cardassia","Carraya","Carson","Ceti","Chess-Wilson","Chin'toka","Clarus","Coltar","Cordannas","Coridan","Corvan","Dameron","Delb","Rana","Deneb","Denkir","Detrian","Devidia","Devolin","Devron","Diomedian","Dopa","Dorala","Draygo","Dreon","Echevarria","El-Adrel","Eminiar","Endicor","Indi","Mynos","Silar","Errikang","Falla","Fima","Hydra","Trianguli","Ganino","Garth","Gaspar","Gavara","'s Star","Goralis","Goren","Grenna","Groombridge","Hanoli","Hanon","Hemakek","Hayashi","Hoek","Iczerone","Stimson","Idran","Ilecom","Indri","Ingraham","Geminorum","Irtok","Itamish","Izar","J-25","Japori","Kabrel","Kaelon","Kazis","Keloda","Kelsin","Kelvas","Kendi","Kolarus","Koralis","Kotanka","Krios","K'ushui","L-370","L-374","Lalande","Lapolis","Ligon","Loval","Luyten","Maranga","Maxia","Mericor","Mintaka","Mira","Antlia","Moab","Modea","Monac","Murasaki","Narendra","Nel","Nelvana","Nequencia","Norcadia","Norpin","Nyria","Ohniaka","Sagitta","Ceti","Orellius","Orias","Orion","Ovion","Pallas","Paradas","Pegos","Pelosa","Pendari","Pentath","Pernaia","Phylos","Portas","Prema","Procyon","Questar","Ramatis","Regulus","Rigel","Romii","Ross 154","Rubicun","Sahndara","Sappora","Sarona","Sarpeid","Secarus","Shelia","Sheliak","Draconis","Nesterowitz","Sirius","Sol","Solais","Solarion","Soukara","Stillwell","Strnad","Tambor Beta-6","Talos","Tanuga","Tartaras","Cygna","Tavlihna","Tehara","Tellun","Teplan","Terlina","Tessen","Bowles","Mees","T'lli","Topin","Trialas","Trivas","Tsugh","Kaidnn","Tycho","Tyra","Tyrus","Ufandi","Unefra","Unroth","Vacca","Vadris","Valo","Vandor","Vega","Vegan","Verath","Veridian","Veytan","Vico","Vilmoran","Vinri","Vissia","Volan","Wolf","Wyanti","Xendi","Kabu","Orionis","Orionis","Alshain","Menkalinam","Pollux","Sheliak","Orionis","Browder","Carinae","Aurigae","Alhajoth","Cygni","Gemiorum","Propus","Bootis","Canis","Leonis","Orionis","Lyrae","Alsafi","Canis","Helios","Lyrae","Alnitak","Bajoran","C-111","Carinae","Deneb","Nyrian","Lyrae","Alnitak"],c=t.FOUNDATION_STARS_NAMES=["Cygni","Alpha","Anacreon","Arcturus","Askone","Asperta","Aurora","Baronn","Bonde","Cil","Cinna","Comporellon","Daribow","Derowd","Eos","Erythro","Euterpe","Florina","Fomalhaut","Gaia","Andromeda","Getorin","Glyptal","Haven","Helicon","Hesperos","Horleggor","Ifni","Iss","Jennisek","Kalgan","Konom","Korell","Korell","Libair","Livia","Locris","Lyonesse","Lystena","Mandress","Melpomenia","Mnemon","Mores","Nephelos","Lingane","Rhodia","Tyrann","Neotrantor","Nexon","Nishaya","Ophiuchus","Orsha","Pallas","Radole","Rhampora","Rhea","Rossem","Salinn","Santanni","Sarip","Sark","Sayshell","Sirius","Siwenna","Smitheus","Smushyk","Smyrno","Solaria","Synnax","Tazenda","Terel","Terminus","Trantor","Vega","Vincetori","Voreg","Wanda","Wencory","Whassalian","Zoranel"],f=t.COSMERE_STARS_NAMES=["Ashyn","Braize","Nalthis","Roshar","Scadrial","Sel","Taldain","Yolen","Threnody"],h=t.HONOR_HARRINGTON_STARS_NAMES=["Air","Alizon","Alphane","Ameta","Andermani","Asgard","Barnett","Basilica","Bassingford","Beowulf","Casimir","Congo","Dresden","Durandel","DuQuesne","Elysia","Endicott","Enki","Erewhon","Flax","Grayson","Gregor","Grendelsbane","Gryphon","Hades","Halliman","Hamilton","Hancock","Haven","Hope","Kemal","Ki-Rin","Kornati","Kreskin","Kuan Yin","Lois","Lovat","Lynx","MacGregor","Manticore","Marsh","Masada","Matapan","Maya","Medusa","Melungeon","Meyerdahl","Mesa","Mfecane","Midgard","Midsummer","Monica","Montana","Ndebele","Nagasaki","Dijon","Hamburg","Geneva","Octagon","Parmley","Phoenix","Pontifex","Potsdam","Prague","Refuge","Rembrandt","Shuttlesport","Sidemore","Sphinx","Torch","Toulon","Zanzibar","Zulu"];t.default=[].concat((0,i.default)(new Set([].concat(o,u,f,s,l,c,h))))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(23)),a=u(r(10)),i=u(r(1)),o=u(r(0)),s=u(r(91));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,i.default)(this,e),Object.defineProperty(this,"_order",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_startingStrings",{enumerable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"_productions",{enumerable:!0,writable:!0,value:new Map}),this._order=t}return(0,o.default)(e,[{key:"TeachArray",value:function(e){var t=this;return e.forEach(function(e){return t.Teach(e)}),this}},{key:"Teach",value:function(t){if((t=t.toLowerCase()).length<=this._order)return e.AddOrUpdateMap(this._startingStrings,t,1,function(e){return e+1}),this.Increment(t,""),this;for(var r=0;r<t.length-this._order+1;r++){var n=t.substring(r,r+this._order).trim();0==r&&e.AddOrUpdateMap(this._startingStrings,n,1,function(e){return e+1});var a=r+this._order==t.length?"":t.substring(r+this._order,r+this._order+1).trim();this.Increment(n,a)}return this}},{key:"toModel",value:function(){var e=this,t=new Map(this.Normalize(this._startingStrings)),r=new Map([].concat((0,a.default)(this._productions.entries())).map(function(t){return[t[0],new Map(e.Normalize(t[1]))]}));return new s.default(this._order,t,r)}},{key:"Normalize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[].concat((0,a.default)(e.values?e.values():e)).reduce(function(e,t){return e+t},0);return[].concat((0,a.default)(e.entries())).map(function(e){var r=(0,n.default)(e,2);return[r[0],r[1]/t]})}},{key:"Increment",value:function(t,r){this._productions.has(t)||this._productions.set(t,new Map),e.AddOrUpdateMap(this._productions.get(t),r,1,function(e){return e+1})}}],[{key:"AddOrUpdateMap",value:function(e,t,r,n){e.has(t)?e.set(t,n(e.get(t))):e.set(t,r)}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(3)),a=l(r(11)),i=l(r(1)),o=l(r(0)),s=l(r(92)),u=l(r(65));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"Greek",value:function(t){return t.choice(e.greekLetters)}},{key:"Decorator",value:function(t){return t.choice(e.decorators)}},{key:"RomanNumeral",value:function(t){var r=t.NormallyDistributedSingle4(10,15,1,200),n=t.NormallyDistributedSingle4(400,100,200,3e3);return e.ToRoman(t.unit()>.8?r:n)}},{key:"Integer",value:function(e){var t=e.NormallyDistributedSingle4(100,5,1,1e3);return Math.abs(parseInt(t))}},{key:"Decimal",value:function(e){var t=e.NormallyDistributedSingle4(100,5,1,1e3);return Math.abs(t.toFixed(2))}},{key:"Letter",value:function(e){return String.fromCharCode(e.integer(65,90))}},{key:"PlainMarkov",value:function(t){return e.markovNameModel.Generate(t)}},{key:"NamedStar",value:function(e){return e.choice(u.default)}},{key:"WithDecoration",value:function(t,r){return function(n){var a=r(n);if(n.unit()>t)return a;var i=n.weighted(e._prefixStrategies)(n)+" ",o=" "+n.weighted(e._suffixStrategies)(n);switch(n.weighted([[.4,"neither"],[1,"prefix"],[1,"suffix"],[.2,"both"]])){case"prefix":return i+a;case"suffix":return a+o;case"both":return i+a+o;default:return a}}}},{key:"ToRoman",value:function(t){if(t<1)return"";if(t>=1e3)return"M"+e.ToRoman(t-1e3);if(t>=900)return"CM"+e.ToRoman(t-900);if(t>=500)return"D"+e.ToRoman(t-500);if(t>=400)return"CD"+e.ToRoman(t-400);if(t>=100)return"C"+e.ToRoman(t-100);if(t>=90)return"XC"+e.ToRoman(t-90);if(t>=50)return"L"+e.ToRoman(t-50);if(t>=40)return"XL"+e.ToRoman(t-40);if(t>=10)return"X"+e.ToRoman(t-10);if(t>=9)return"IX"+e.ToRoman(t-9);if(t>=5)return"V"+e.ToRoman(t-5);if(t>=4)return"IV"+e.ToRoman(t-4);if(t>=1)return"I"+e.ToRoman(t-1);throw new RangeError}},{key:"Generate",value:function(t){return t.weighted(e._namingStrategies)(t).trim()}},{key:"GenerateCount",value:function(){var t=(0,a.default)(n.default.mark(function t(r){var a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=[];case 1:if(!(a.length<o)){t.next=8;break}return t.next=4,e.Generate(r);case 4:i=t.sent,-1===a.indexOf(i)&&a.push(i),t.next=1;break;case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}();Object.defineProperty(c,"_prefixStrategies",{enumerable:!0,writable:!0,value:[[1,c.Decorator],[.01,c.RomanNumeral],[1,c.Letter],[1,c.Integer],[.3,c.Decimal],[0,function(e){return"Al"}],[0,function(e){return"San"}]]}),Object.defineProperty(c,"_suffixStrategies",{enumerable:!0,writable:!0,value:[[1,c.Decorator],[1,c.RomanNumeral],[1,c.Letter],[1,c.Integer],[.3,c.Decimal]]}),Object.defineProperty(c,"_namingStrategies",{enumerable:!0,writable:!0,value:[[1,c.PlainMarkov],[1,c.WithDecoration(1,c.WithDecoration(.001,c.PlainMarkov))],[.05,function(e){return c.Letter(e)+"-"+c.Integer(e)}],[.01,c.NamedStar],[.01,function(e){return e.choice(c.specialLocations)}]]}),Object.defineProperty(c,"specialLocations",{enumerable:!0,writable:!0,value:["Epsilon Eridani","San Martin","Seaford Nine","Proctor Three","Smoking Frog","First of the Sun","Xendi Sabu","Bela Tegeuse"]}),Object.defineProperty(c,"greekLetters",{enumerable:!0,writable:!0,value:["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omnicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"]}),Object.defineProperty(c,"decorators",{enumerable:!0,writable:!0,value:["Major","Majoris","Minor","Minoris","Prime","Secundis","System"]}),Object.defineProperty(c,"markovNameModel",{enumerable:!0,writable:!0,value:new s.default(3).TeachArray(u.default).toModel()}),t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(13)),a=d(r(3)),i=d(r(11)),o=d(r(1)),s=d(r(0)),u=d(r(46)),l=d(r(43)),c=d(r(6)),f=(d(r(18)),d(r(113)),d(r(69))),h=d(r(112));d(r(110));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var r=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,e.planet||{}),"PLANET"));Object.defineProperty(r,"regions",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(r,"traits",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(r,"semi_major_axis",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"eccentricity",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"inclination",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"longitude_of_the_ascending_node",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"argument_of_periapsis",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"true_anomaly",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"orbital_period",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"orbital_velocity",{enumerable:!0,writable:!0,value:0});e.seed,e.name;return r}return(0,l.default)(t,e),(0,s.default)(t,[{key:"build",value:function(){var e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.createSubtype(),this.createHabitable(),this.createInclination()}catch(e){console.warn(e)}return e.abrupt("return",this);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createInclination",value:function(){if(null!=this.inclination)return this.inclination;if(null==this.subtype)throw{subtype:"create planet subtype first"};var e=Math.random()>.5?1:-1;return this.inclination=Math.random()>.33?0:e*Math.floor(15*Math.random()),this.inclination}},{key:"createHabitable",value:function(){if(null!=this.habitable)return this.habitable;var e=this.subtype;if(null==e)throw{subtype:"create planet subtype first"};return this.habitable="earth"==e,this.habitable}},{key:"createSubtype",value:function(){if(null!=this.subtype)return this.subtype;var e=this.random;this.zone;return this.subtype=t.createSubtypeRandom(e),this.subtype}},{key:"generateMass",value:function(){var e=(0,i.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,this.mass&&!r||(this.mass=t),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generateProtoRegions",value:a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<10)){e.next=7;break}return e.next=4,{tile:n};case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"generateRegions",value:a.default.mark(function e(){var t,r,i,o,s,u,l,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=new c.default(this.seed),r=!0,i=!1,o=void 0,e.prev=5,s=this.generateProtoRegions(t,this)[Symbol.iterator]();case 7:if(r=(u=s.next()).done){e.next=16;break}return l=u.value,f=new h.default((0,n.default)({},l,{planet:this})),this.regions.push(f),e.next=13,f;case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,!r&&s.return&&s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),console.warn(e.t1);case 35:case"end":return e.stop()}},e,this,[[0,32],[5,18,22,30],[23,,25,29]])})}],[{key:"createSubtypeRandom",value:function(e){return e.weighted({lava:1,barren:1,earth:1,ice:1,gas_giant:1,ice_giant:1})}}]),t}(f.default);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(1)),a=o(r(0)),i=o(r(6));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];(0,n.default)(this,e),Object.defineProperty(this,"id",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"name",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"type",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"parent",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"parent_id",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"code",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"designation",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"orbit_period",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"rotation_period",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"habitable",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"age",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"appearance",{enumerable:!0,writable:!0,value:"DEFAULT"}),Object.defineProperty(this,"size",{enumerable:!0,writable:!0,value:null}),Object.assign(this,t,t.extends||{}),this.setSeed(t.seed),this.setId(t.id),this.setType(t.type||r),this.setParent(t.parent),this.setSystem(t.system),this.setDesignation(t.designation)}return(0,a.default)(e,[{key:"setSeed",value:function(e){this.seed=e||Date.now(),this.random=new i.default(this.seed)}},{key:"setType",value:function(e){this.type=e}},{key:"setId",value:function(t){this.id=null!=t?t:e.getCurrentId()}},{key:"setSystem",value:function(e){this.system=e,this.makeCode()}},{key:"setName",value:function(e){this.name=e,this.makeCode()}},{key:"setDesignation",value:function(e){this.designation=e,this.makeCode()}},{key:"setParent",value:function(e){e&&(this.parent=e,this.parent_id=e.id||null)}},{key:"makeCode",value:function(){var e=this.system&&this.system.name?this.escapeRegExp(this.system.name):"",t=this.type,r=this.designation?this.escapeRegExp(this.designation):"",n=this.name?this.escapeRegExp(this.name):"";this.code=(e+"."+t+"."+r+n).toUpperCase().replace(/ /g,"")}},{key:"escapeRegExp",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"")}}],[{key:"getCurrentId",value:function(){return e.id++}}]),e}();Object.defineProperty(s,"id",{enumerable:!0,writable:!0,value:0}),t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a,i){(0,n.default)(this,e),this.x=t?t>>>0:123456789,this.y=r?r>>>0:362436069,this.z=a?a>>>0:521288629,this.w=i?i>>>0:88675123}return(0,a.default)(e,[{key:"next",value:function(){var e=this.x^this.x<<11&2147483647;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>19^e^e>>8,this.w}},{key:"unit",value:function(){return this.next()/2147483648}},{key:"unitInclusive",value:function(){return this.next()/2147483647}},{key:"integer",value:function(e,t){return this.integerExclusive(e,t+1)}},{key:"integerExclusive",value:function(e,t){return e=Math.floor(e),t=Math.floor(t),Math.floor(this.unit()*(t-e))+e}},{key:"real",value:function(e,t){return this.unit()*(t-e)+e}},{key:"realInclusive",value:function(e,t){return this.unitInclusive()*(t-e)+e}},{key:"reseed",value:function(e,t,r,n){this.x=e?e>>>0:123456789,this.y=t?t>>>0:362436069,this.z=r?r>>>0:521288629,this.w=n?n>>>0:88675123}}]),e}();t.default=o},function(e,t,r){var n=r(30),a=r(26),i=r(20),o=r(58),s=r(16),u=r(85),l=Object.getOwnPropertyDescriptor;t.f=r(14)?l:function(e,t){if(e=i(e),t=o(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(83),a=r(53).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(8),a=r(15),i=r(49);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n,a,i,o=r(22),s=r(153),u=r(81),l=r(59),c=r(5),f=c.process,h=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,y=0,b={},m=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},g=function(e){m.call(e.data)};h&&d||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},d=function(e){delete b[e]},"process"==r(25)(f)?n=function(e){f.nextTick(o(m,e,1))}:v&&v.now?n=function(e){v.now(o(m,e,1))}:p?(i=(a=new p).port2,a.port1.onmessage=g,n=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",g,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(o(m,e,1),0)}),e.exports={set:h,clear:d}},function(e,t,r){var n=r(8),a=r(35),i=r(4)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||void 0==(r=n(o)[i])?t:a(r)}},function(e,t){},function(e,t,r){var n=r(4)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},function(e,t,r){var n=r(21),a=r(4)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){var n=r(8);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(5).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(16),a=r(20),i=r(168)(!1),o=r(55)("IE_PROTO");e.exports=function(e,t){var r,s=a(e),u=0,l=[];for(r in s)r!=o&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(l,r)||l.push(r));return l}},function(e,t,r){e.exports=r(17)},function(e,t,r){e.exports=!r(14)&&!r(27)(function(){return 7!=Object.defineProperty(r(59)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";var n=r(36),a=r(9),i=r(84),o=r(17),s=r(16),u=r(21),l=r(170),c=r(32),f=r(166),h=r(4)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,v,y,b,m){l(r,t,v);var g,_,w,S=function(e){if(!d&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",x="values"==y,M=!1,A=e.prototype,P=A[h]||A["@@iterator"]||y&&A[y],T=!d&&P||S(y),O=y?x?S("entries"):T:void 0,E="Array"==t&&A.entries||P;if(E&&(w=f(E.call(new e)))!==Object.prototype&&w.next&&(c(w,k,!0),n||s(w,h)||o(w,h,p)),x&&P&&"values"!==P.name&&(M=!0,T=function(){return P.call(this)}),n&&!m||!d&&!M&&A[h]||o(A,h,T),u[t]=T,u[k]=p,y)if(g={values:x?T:S("values"),keys:b?T:S("keys"),entries:O},m)for(_ in g)_ in A||i(A,_,g[_]);else a(a.P+a.F*(d||M),t,g);return g}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(23)),a=s(r(1)),i=s(r(0)),o=s(r(24));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,a.default)(this,e),Object.defineProperty(this,"_average_separation",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_frost_line",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_inner_limit",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_outer_limit",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_barycentre",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_planets",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mass",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_children",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_subtype",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_luminosity",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_planetable",{enumerable:!0,writable:!0,value:null})}return(0,i.default)(e,[{key:"average_separation",set:function(e){this._average_separation=e},get:function(){return this._average_separation}},{key:"frost_line",set:function(e){this._frost_line=e},get:function(){return this._frost_line}},{key:"inner_limit",set:function(e){this._inner_limit=e},get:function(){return this._inner_limit}},{key:"outer_limit",set:function(e){this._outer_limit=e},get:function(){return this._outer_limit}},{key:"barycentre",set:function(e){this._barycentre=e},get:function(){return this._barycentre}},{key:"planets",set:function(e){this._planets=e},get:function(){return this._planets}},{key:"mass",set:function(e){this._mass=e},get:function(){return this._mass}},{key:"children",set:function(e){this._children=e},get:function(){return this._children}},{key:"subtype",set:function(e){this._subtype=e},get:function(){return this._subtype}},{key:"luminosity",set:function(e){this._luminosity=e},get:function(){return this._luminosity}},{key:"planetable",set:function(e){this._planetable=e},get:function(){return this._planetable}}]),(0,i.default)(e,[{key:"generateName",value:function(e){return"abc123"}},{key:"generateAverageSeparation",value:function(e){}},{key:"recalculate",value:function(){this.subtype=e.calcSubtype(this.children),this.planetable=e.calcPlanetable(this.subtype,this.children);var t=(0,n.default)(this.children,2),r=t[0],a=t[1];this.mass=a?e.calcMass(r.mass,a.mass):r.mass,this.inner_limit=a?e.calcInnerLimit(this.mass):r.inner_limit,this.outer_limit=a?e.calcOuterLimit(this.mass):r.outer_limit,this.luminosity=a?e.calcLuminosity(r.luminosity,a.luminosity):r.luminosity,this.frost_line=a?e.calcFrostLine(this.luminosity):r.frost_line}},{key:"Name",value:function(e){return this.name=e,this}},{key:"Children",value:function(e){return this.children=e,this.recalculate(),this}},{key:"CalculateOverall",value:function(){return this.mass=this.children.reduce(function(e,t){return e+t.mass},0),this}},{key:"Generate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.random,t=[["name",this.generateName],["average_separation",this.generateAverageSeparation]],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,l=(0,n.default)(u,2),c=l[0],f=l[1];null==this[c]&&(this[c]=f(e))}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return this}}],[{key:"calcPlanetable",value:function(e,t){switch(!0){case"SINGLE_STAR"===e:case"BINARY_STAR"===e:case"SUBSYSTEM"===e&&t.every(function(e){return"SINGLE_STAR"===e.subtype||"BINARY_STAR"===e.subtype}):return!0;default:return!1}}},{key:"calcSubtype",value:function(e){switch(!0){case 1===e.length&&"SINGLE_STAR"!==e[0].subtype:return"SINGLE_STAR";case 2===e.length&&e.every(function(e){return"STAR"===e.body_type}):return"BINARY_STAR";default:return"SUBSYSTEM"}}},{key:"calcMass",value:function(e,t){return e+t}},{key:"calcPrimaryBarycentre",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e*(r/(t+r))}},{key:"calcSecondaryBarycentre",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3)}},{key:"calcFrostLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 4.85*Math.sqrt(e+t)}},{key:"calcInnerLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.default.calcInnerLimit(e+t)}},{key:"calcOuterLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.default.calcOuterLimit(e+t)}},{key:"calcLuminosity",value:function(e){return e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"buildTree",value:function(t,r,n){if(!Array.isArray(t))throw new TypeError("array must be an Array type");if(null==r&&(r=0),null==n&&(n=t.length),n-r>1){var a=r+n>>1,i=e.buildTree(t,r,a),o=e.buildTree(t,a,n),s=null,u=null;return"STAR"===i.body_type&&"STAR"!==o.body_type&&(s=(new e).Children([i])),"STAR"!==i.body_type&&"STAR"===o.body_type&&(u=(new e).Children([o])),(new e).Children([s||i,u||o])}return t[r]}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUNE_PLANETS_NAMES=t.STARGATE_PLANETS_NAMES=t.REAL_PLANETS_NAMES=void 0;var n,a=r(10),i=(n=a)&&n.__esModule?n:{default:n};var o=t.REAL_PLANETS_NAMES=["Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune"],s=t.STARGATE_PLANETS_NAMES=["Celestis","Ver Isca","Ver Omesh","Othala","Abydos","Aschen Prime","Avnil","Simarka","Langara","Volian","Prakiti","Rillaan","Argos","Cartago","Cimmeria","Nasya","Delmak","Tegalus","Gemmond","Amra","Lucia","Pangar","Tagrea","Hebridan","Tollana","K`tau","Vyus","Orban","Edora","Hadante","Camelot","Castiana","Sahal","Juna","Galar","Hanka","Madrona","Chulak","Dakara","Sartorus","Dar Eshkalon","Hak`tyl","Cal Mah","Kallana","Revanna","Vorash","Tok`ra homeworld","Ghanaz","Melia","Gaia","Hebridan","Reetalia","Oannes","Burrock`s World","Hala","Orilla"],u=t.DUNE_PLANETS_NAMES=["Dune","Delta Kaising","Anbus","Al Dhanab","Arrakis","Bela Tegeuse","Buzzell","Caladan","Chapterhouse","Chusuk","Corrin","Ecaz","Gamont","Gansireed","Gangishree","Giedi Prime","Ginaz","Grumman","Hagal","Harmonthep","Ipyr","Ix","Junction","Kaitain","Kolhar","Lampadas","Lankiveil","Lernaeus","Muritan","Naraj","Palma","Parmentier","Poritrin","Richese","Romo","Rossak","Salusa Secundus","Sikun","Synchrony","Tleilax","Tupile","Wallach","Zanovar"];t.default=[].concat((0,i.default)(new Set([].concat(o,u,s))))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUNE_GALAXIES_NAMES=t.STARGATE_GALAXIES_NAMES=t.REAL_GALAXIES_NAMES=void 0;var n,a=r(10),i=(n=a)&&n.__esModule?n:{default:n};var o=t.REAL_GALAXIES_NAMES=["Andromeda","Black Eye","Cartwheel","Cigar","Comet","Cosmos Redshift","Hoag's Object","Magellanic Cloud","Pinwheel","Sombrero","Sunflower","Tadpole","Whirlpool","Milky Way","Triangulum","Centaurus A","Bode","Messier","Canis Major","Centaurus A","Circinus","Markarian","IC","NGC","Cygnus A","Malin","Lacertae","Virgo Stellar Stream","Baby Boom","Boötes Dwarf","WISE","Segue","Mice","Sagittarius","Omega Centauri","Mayall"],s=t.STARGATE_GALAXIES_NAMES=[],u=t.DUNE_GALAXIES_NAMES=[];t.default=[].concat((0,i.default)(new Set([].concat(o,u,s))))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(23)),a=f(r(10)),i=f(r(3)),o=f(r(11)),s=f(r(19)),u=f(r(1)),l=f(r(0)),c=f(r(6));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,e),Object.assign(this,t),this.tags=[],this.distance=this.cutDecimals(t.distance,2)}return(0,l.default)(e,[{key:"cutDecimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=Math.pow(10,t);return Math.floor(e*r)/r}},{key:"lockTag",value:function(e){Array.isArray(e)||(e=[e]),this.lock=!0,this.tags=e}},{key:"markAsEmpty",value:function(){this.lock=!0,this.tags=[]}},{key:"generateType",value:function(e){var t=this.tags;if(0==t.length||1==t.length&&"EMPTY"==t[0])return this.subtype="EMPTY",void(this.type="EMPTY");var r=[],n=function(e){var t=p.find(function(t){return t.type==e});if(!t)return"continue";r.push([t.probability,e])},a=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)n(s.value)}catch(e){i=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw o}}this.subtype=e.weighted(r),this.type=["EMPTY","ASTEROID_BELT"].indexOf(this.subtype)>-1?this.subtype:"PLANET"}}]),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,e),Object.defineProperty(this,"prefer_habitable",{enumerable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mass",{enumerable:!0,writable:!0,value:1}),Object.defineProperty(this,"orbits",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"zones",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"beetwen_orbits_factor",{enumerable:!0,writable:!0,value:[1.4,2]}),Object.defineProperty(this,"inner_limit",{enumerable:!0,writable:!0,value:.15}),Object.defineProperty(this,"habitable_zone_inner",{enumerable:!0,writable:!0,value:.95}),Object.defineProperty(this,"habitable_zone_outer",{enumerable:!0,writable:!0,value:1.37}),Object.defineProperty(this,"frost_line",{enumerable:!0,writable:!0,value:4.85}),Object.defineProperty(this,"outer_limit",{enumerable:!0,writable:!0,value:40}),Object.assign(this,t),"object"==(0,s.default)(t.star)&&this.setStar(t.star),Array.isArray(t.orbits)&&this.setOrbits(t.orbits),this.seed||(this.seed=c.default.randomSeed()),this.random||(this.random=new c.default(this.seed))}return(0,l.default)(e,[{key:"setStar",value:function(e){Object.assign(this,{mass:e.mass,evolution:e.evolution,inner_limit:e.inner_limit,outer_limit:e.outer_limit,frost_line:e.frost_line,habitable_zone_inner:e.habitable_zone_inner,habitable_zone_outer:e.habitable_zone_outer})}},{key:"setOrbits",value:function(e){this.orbits=e.map(function(e){return new h(e)})}},{key:"build",value:function(){this.generateTopology(),this.generateProtoOrbits(),this.fillOrbitZone(),this.fillOrbitPeriod();var e={prefer_habitable:this.prefer_habitable},t=!0,r=!1,n=void 0;try{for(var a,i=this._topology.modificators[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){(0,a.value)(this.random,e)(this)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}var o=!0,s=!1,u=void 0;try{for(var l,c=this.orbits[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.generateType(this.random)}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}return this.fillInfo(),!0}},{key:"generateTopology",value:function(){var t=this,r=e.TOPOLOGIES;null==this.topology&&(this.topology=this.random.weighted(r.map(function(e){return[e.probability,e.name]}))),this._topology=r.find(function(e){return e.name==t.topology})}},{key:"generateBasics",value:function(){var e=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJson",value:function(){var e={topology:this.topology,prefer_habitable:this.prefer_habitable,evolution:this.evolution,mass:this.mass,seed:this.seed,max_orbits:this.max_orbits,orbits:[].concat((0,a.default)(this.orbits)),zones:this.zones,beetwen_orbits_factor:this.beetwen_orbits_factor,inner_limit:this.inner_limit,habitable_zone_inner:this.habitable_zone_inner,habitable_zone_outer:this.habitable_zone_outer,frost_line:this.frost_line,outer_limit:this.outer_limit};return console.log("not included",Object.keys(this).filter(function(t){return Boolean(null==e[t])})),e}},{key:"fillInfo",value:function(){var e={orbits_count:this.orbits.length,planets_count:this.orbits.filter(function(e){return["EMPTY","ASTEROID_BELT"].indexOf(e.type)<0}).length,inner_count:this.orbits.filter(function(e){return"inner"==e.zone}).length,habitable_count:this.orbits.filter(function(e){return"habitable"==e.zone}).length,outer_count:this.orbits.filter(function(e){return"outer"==e.zone}).length};Object.assign(this,e)}},{key:"fillOrbitPeriod",value:function(){var t=!0,r=!1,n=void 0;try{for(var a,i=this.orbits[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.orbital_period=e.calcOrbitalPeriod(this.mass,o.distance),o.orbital_period_in_days=e.convertOrbitalPeriodToDays(o.orbital_period)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}},{key:"fillOrbitZone",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=this.orbits[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value;switch(!0){case i.distance>this.habitable_zone_inner&&i.distance<this.habitable_zone_outer:i.zone="habitable";break;case i.distance<this.frost_line:i.zone="inner";break;case i.distance>this.frost_line:default:i.zone="outer"}}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}}},{key:"fillOrbitTags",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=this.orbits[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value,o=[],s=!0,u=!1,l=void 0;try{for(var c,f=p[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;h.when&&h.when(this,i)&&o.push(h.type)}}catch(e){u=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}i.tags=o}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}}},{key:"generateProtoOrbits",value:function(){var e=null;e=this.prefer_habitable?this.random.real(this.habitable_zone_inner,this.habitable_zone_outer):this.random.real(this.inner_limit,this.outer_limit),this.orbits.push(new h({distance:e}));for(var t=e;;){var r=t/this.random.real(this.beetwen_orbits_factor[0],this.beetwen_orbits_factor[1]);if(r<this.inner_limit)break;this.orbits.push(new h({distance:r})),t=r}for(t=e;;){var a=t*this.random.real(this.beetwen_orbits_factor[0],this.beetwen_orbits_factor[1]);if(a>this.outer_limit)break;this.orbits.push(new h({distance:a})),t=a}this.orbits=this.orbits.sort(function(e,t){return e.distance-t.distance});var i=!0,o=!1,s=void 0;try{for(var u,l=this.orbits.entries()[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,f=(0,n.default)(c,2),d=f[0];f[1].from_star=d+1}}catch(e){o=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}}},{key:"generateOrbits",value:i.default.mark(function e(){var t,r,n,a,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.orbits.length||this.build(),t=!0,r=!1,n=void 0,e.prev=4,a=this.orbits[Symbol.iterator]();case 6:if(t=(o=a.next()).done){e.next=13;break}return s=o.value,e.next=10,s;case 10:t=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,n=e.t0;case 19:e.prev=19,e.prev=20,!t&&a.return&&a.return();case 22:if(e.prev=22,!r){e.next=25;break}throw n;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])})}],[{key:"calcOrbitalPeriod",value:function(e,t){return Math.sqrt(Math.pow(t,3)/e)}},{key:"convertOrbitalPeriodToDays",value:function(e){return Math.floor(365*e)}},{key:"ClassicSystem",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).prefer_habitable;return function(e){var r=!0,n=!1,a=void 0;try{for(var i,o=e.orbits[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value,u=[],l=!0,c=!1,f=void 0;try{for(var h,d=p[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var v=h.value;v.when&&v.when(e,s)&&u.push(v.type)}}catch(e){c=!0,f=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw f}}t&&u.indexOf("earth")>-1&&(u=["earth"]),s.tags=u}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}}}},{key:"HabitableMoonSystem",value:function(e){return function(e){var t=!1,r=!1,n=!0,a=!1,i=void 0;try{for(var o,s=e.orbits[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,l=u.tags.some(function(e){return"gas_giant"==e});"habitable"!=u.zone||t?t&&!r&&u.markAsEmpty():(u.lockTag("gas_giant"),t=!0),l&&(r=!0)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}}}},{key:"HotJupiterSystem",value:function(e){return function(e){var t=!1,r=!0,a=!1,i=void 0;try{for(var o,s=e.orbits.entries()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,l=(0,n.default)(u,2),c=l[0],f=l[1],h=f.tags.some(function(e){return"gas_giant"==e});0==c?f.lockTag("gas_giant"):t||f.markAsEmpty(),h&&(t=!0)}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}}}},{key:"Generate",value:function(){var t=(0,o.default)(i.default.mark(function t(r){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new e(r),t.next=3,n.build();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}();Object.defineProperty(d,"defaultProps",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(d,"TOPOLOGIES",{enumerable:!0,writable:!0,value:[{probability:1,name:"classic",modificators:[d.ClassicSystem]},{probability:.1,name:"habitable_moon",modificators:[d.ClassicSystem,d.HabitableMoonSystem]},{probability:.01,name:"hot_jupiter",modificators:[d.ClassicSystem,d.HotJupiterSystem]},{probability:.05,name:"hot_jupiter_habitable_moon",modificators:[d.ClassicSystem,d.HotJupiterSystem,d.HabitableMoonSystem]}]});var p=[{type:"EMPTY",probability:.05,when:function(e,t){return!0}},{type:"lava",probability:.2,when:function(e,t){return t.distance<.7*e.habitable_zone_inner}},{type:"barren",probability:.1,when:function(e,t){return t.distance>.18*e.habitable_zone_inner}},{type:"desert",probability:.2,when:function(e,t){return t.distance>.7*e.habitable_zone_inner&&t.distance<e.frost_line}},{type:"ASTEROID_BELT",probability:.2,when:function(e,t){return t.distance>.1*e.frost_line}},{type:"earth",probability:1,when:function(e,t){return t.distance>e.habitable_zone_inner&&t.distance<e.habitable_zone_outer}},{type:"ocean",probability:.3,when:function(e,t){return t.distance>e.habitable_zone_inner&&t.distance<e.frost_line}},{type:"ice",probability:.3,when:function(e,t){return t.distance>e.frost_line}},{type:"gas_giant",probability:.5,when:function(e,t){return t.distance>e.frost_line&&t.distance<e.frost_line+.5*(e.outer_limit-e.frost_line)}},{type:"ice_giant",probability:.6,when:function(e,t){return t.distance>e.frost_line&&t.distance>e.frost_line+.1*(e.outer_limit-e.frost_line)}}];t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;(0,n.default)(this,e),Object.defineProperty(this,"_order",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"_startingStrings",{enumerable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"_productions",{enumerable:!0,writable:!0,value:new Map}),this._order=t,this._startingStrings=r,this._productions=a}return(0,a.default)(e,[{key:"Generate",value:function(t){var r="",n=e.WeightedRandom(t,this._startingStrings);do{if((r+=n).length<this._order)break;var a=r.substring(r.length-this._order);if(!this._productions.has(a))break;n=e.WeightedRandom(t,this._productions.get(a))}while(""!=n);return r}}],[{key:"WeightedRandom",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.unit(),n=t.set?Array.from(t.entries()):t,a=0;a<n.length;a++)if((r-=n[a][1])<=0)return n[a][0];throw new Error("InvalidOperationException")}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(66),i=(n=a)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?a-1:0,h=r?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=h,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=h,c-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),i-=l}return(d?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,u,l=8*i-a-1,c=(1<<l)-1,f=c>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,a),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[r+d]=255&s,d+=p,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[r+d]=255&o,d+=p,o/=256,l-=8);e[r+d-p]|=128*v}},function(e,t,r){"use strict";t.byteLength=function(e){return 3*e.length/4-l(e)},t.toByteArray=function(e){var t,r,n,o,s,u=e.length;o=l(e),s=new i(3*u/4-o),r=o>0?u-4:u;var c=0;for(t=0;t<r;t+=4)n=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],s[c++]=n>>16&255,s[c++]=n>>8&255,s[c++]=255&n;2===o?(n=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,s[c++]=255&n):1===o&&(n=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,s[c++]=n>>8&255,s[c++]=255&n);return s},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i="",o=[],s=0,u=r-a;s<u;s+=16383)o.push(c(e,s,s+16383>u?u:s+16383));1===a?(t=e[r-1],i+=n[t>>2],i+=n[t<<4&63],i+="=="):2===a&&(t=(e[r-2]<<8)+e[r-1],i+=n[t>>10],i+=n[t>>4&63],i+=n[t<<2&63],i+="=");return o.push(i),o.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(95),a=r(94),i=r(93);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),a=(e=s(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,a);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,a){var i,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var c=-1;for(i=r;i<s;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*o}else-1!==c&&(i-=i-c),c=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(l(e,i+h)!==l(t,h)){f=!1;break}if(f)return i}return-1}function m(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function g(e,t,r,n){return V(z(t,e.length-r),e,r,n)}function _(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function S(e,t,r,n){return V(U(t),e,r,n)}function k(e,t,r,n){return V(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,u,l=e[a],c=null,f=l>239?4:l>223?3:l>191?2:1;if(a+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(i=e[a+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(u=(15&l)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),a+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var i=a-n,o=r-t,s=Math.min(i,o),l=this.slice(n,a),c=e.slice(t,r),f=0;f<s;++f)if(l[f]!==c[f]){i=l[f],o=c[f];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=B(e[i]);return a}function E(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function I(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return i||I(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function G(e,t,r,n,i){return i||I(e,0,r,8),a.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var a=t-e;r=new u(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);C(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);C(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return G(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return G(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=u.isBuffer(e)?e:z(new u(e,n).toString()),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(96))},function(e,t,r){"use strict";(function(t){var n,a=r(19),i=(n=a)&&n.__esModule?n:{default:n};
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2015 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function o(e){return e instanceof t||e instanceof Date||e instanceof RegExp}function s(e){if(e instanceof t){var r=new t(e.length);return e.copy(r),r}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}function u(){if(arguments.length<1||"object"!==(0,i.default)(arguments[0]))return!1;if(arguments.length<2)return arguments[0];var e,t,r=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(n){"object"!==(void 0===n?"undefined":(0,i.default)(n))||null===n||Array.isArray(n)||Object.keys(n).forEach(function(a){return t=r[a],(e=n[a])===r?void 0:"object"!==(void 0===e?"undefined":(0,i.default)(e))||null===e?void(r[a]=e):Array.isArray(e)?void(r[a]=function e(t){var r=[];return t.forEach(function(t,n){"object"===(void 0===t?"undefined":(0,i.default)(t))&&null!==t?Array.isArray(t)?r[n]=e(t):o(t)?r[n]=s(t):r[n]=u({},t):r[n]=t}),r}(e)):o(e)?void(r[a]=s(e)):"object"!==(void 0===t?"undefined":(0,i.default)(t))||null===t||Array.isArray(t)?void(r[a]=u({},e)):void(r[a]=u(t,e))})}),r}e.exports=u}).call(this,r(97).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDeep=void 0;var n,a=r(98),i=(n=a)&&n.__esModule?n:{default:n};t.assignDeep=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(13)),a=l(r(1)),i=l(r(0)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(99)),s=l(r(70)),u=l(r(18));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];(0,a.default)(this,e),this.props=o.assignDeep({},this.getDefaultProps(),t),console.log(this.props),this.generatedModel=o.assignDeep({},this.getDefaultProps().model,t.model),this.multiple_factor=10,null!=r&&(this.random=r)}return(0,i.default)(e,[{key:"getDefaultProps",value:function(){return(0,n.default)({},this.constructor.defaultProps,{model:{}})}}]),(0,i.default)(e,[{key:"genSeed",value:function(){var e=this.props.model.seed;this.generatedModel.seed=e;var t=null;"number"==typeof e?t=e:"string"==typeof e?t=o.hashString(e):(t=Date.now(),this.generatedModel.seed=t),this.intSeed=t,this.random=new s.default(t)}},{key:"generate",value:function(e){var t=this,r=!1;return null==e&&(r=!0,e=new u.default),e=this.steppedGeneration(e).provideResult(function(){return t.generatedModel}),r?this.promiseFromStepped(e):e}},{key:"generateWeighedList",value:function(e){var t=this,r=[];return Object.keys(e).forEach(function(n){for(var a=e[n]*t.multiple_factor,i=0;i<a;i++)r.push(n)}),r}},{key:"getAlphabelArray",value:function(){return"abcdefghijklmnopqrstuvwxyz".split("")}},{key:"promiseFromStepped",value:function(e){return new Promise(function(t,r){e.finalize(function(e){return t(e)},0).execute()})}}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a){(0,n.default)(this,e),this.boundingSphere=t,this.partitions=r,this.tiles=a}return(0,a.default)(e,[{key:"toJSON",value:function(e){return{boundingSphere:this.boundingSphere,tiles:this.tiles.map(function(e){return e.id}),partitions:this.partitions}}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a,i,o,s,u,l){(0,n.default)(this,e),this.id=t,this.color=r,this.driftAxis=a,this.driftRate=i,this.spinRate=o,this.elevation=s,this.oceanic=u,this.root=l,this.tiles=[],this.boundaryCorners=[],this.boundaryBorders=[]}return(0,a.default)(e,[{key:"calculateMovement",value:function(e){var t=this.driftAxis.clone().cross(e).setLength(this.driftRate*e.clone().projectOnVector(this.driftAxis).distanceTo(e));return t.add(this.root.position.clone().cross(e).setLength(this.spinRate*e.clone().projectOnVector(this.root.position).distanceTo(e))),t}},{key:"toJSON",value:function(e){return{id:this.id,color:this.color,driftAxis:this.driftAxis,driftRate:this.driftRate,spinRate:this.spinRate,elevation:this.elevation,oceanic:this.oceanic,root:this.root.id,tiles:this.tiles.map(function(e){return e.id}),boundaryCorners:this.boundaryCorners.map(function(e){return e.id}),boundaryBorders:this.boundaryBorders.map(function(e){return e.id})}}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a,i){(0,n.default)(this,e),this.id=t,this.corners=new Array(r),this.borders=new Array(a),this.tiles=new Array(i)}return(0,a.default)(e,[{key:"oppositeCorner",value:function(e){return this.corners[0]===e?this.corners[1]:this.corners[0]}},{key:"oppositeTile",value:function(e){return this.tiles[0]===e?this.tiles[1]:this.tiles[0]}},{key:"length",value:function(){return this.corners[0].position.distanceTo(this.corners[1].position)}},{key:"isLandBoundary",value:function(){return this.tiles[0].elevation>0!=this.tiles[1].elevation>0}},{key:"toString",value:function(){return"Border "+this.id.toFixed(0)}},{key:"toJSON",value:function(e){return{id:this.id,corners:this.corners.map(function(e){return e.id}),borders:this.borders.map(function(e){return e.id}),tiles:this.tiles.map(function(e){return e.id})}}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a,i,o){(0,n.default)(this,e),this.id=t,this.position=r,this.corners=new Array(a),this.borders=new Array(i),this.tiles=new Array(o)}return(0,a.default)(e,[{key:"vectorTo",value:function(e){return e.position.clone().sub(this.position)}},{key:"toString",value:function(){return"Corner "+this.id.toFixed(0)+" < "+this.position.x.toFixed(0)+", "+this.position.y.toFixed(0)+", "+this.position.z.toFixed(0)+" >"}},{key:"toJSON",value:function(e){return{id:this.id,position:this.position,corners:this.corners.map(function(e){return e.id}),borders:this.borders.map(function(e){return e.id}),tiles:this.tiles.map(function(e){return e.id})}}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(1)),a=o(r(0)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,a,i,o){(0,n.default)(this,e),this.id=t,this.position=r,this.corners=new Array(a),this.borders=new Array(i),this.tiles=new Array(o)}return(0,a.default)(e,[{key:"intersectRay",value:function(e){if(!this.intersectRayWithSphere(e,this.boundingSphere))return!1;var t=(new i.Plane).setFromNormalAndCoplanarPoint(this.normal,this.averagePosition);if(t.distanceToPoint(e.origin)<=0)return!1;var r=t.normal.dot(e.direction);if(0===r)return!1;for(var n=-(e.origin.dot(t.normal)+t.constant)/r,a=e.direction.clone().multiplyScalar(n).add(e.origin),o=new i.Vector3(0,0,0),s=0;s<this.corners.length;++s){var u=(s+1)%this.corners.length;if((new i.Plane).setFromCoplanarPoints(this.corners[u].position,this.corners[s].position,o).distanceToPoint(a)<0)return!1}return!0}},{key:"intersectRayWithSphere",value:function(e,t){var r=t.center.clone().sub(e.origin),n=r.clone().projectOnVector(e.direction);return r.distanceTo(n)<=t.radius}},{key:"toString",value:function(){return"Tile "+this.id.toFixed(0)+" ("+this.tiles.length.toFixed(0)+" Neighbors) < "+this.position.x.toFixed(0)+", "+this.position.y.toFixed(0)+", "+this.position.z.toFixed(0)+" >"}},{key:"toJSON",value:function(e){return{id:this.id,position:this.position,tiles:this.tiles.map(function(e){return e.id}),corners:this.corners.map(function(e){return e.id}),borders:this.borders.map(function(e){return e.id}),normal:this.normal,averagePosition:this.averagePosition,maxDistanceToCorner:this.maxDistanceToCorner,plate:this.plate?this.plate.id:void 0,area:this.area,biome:this.biome,moisture:this.moisture,elevation:this.elevation,temperature:this.temperature}}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersectRayWithSphere=t.randomUnitVector=t.calculateTriangleArea=t.slerp=t.accumulateArray=t.adjustRange=t.hashString=t.travelTimeForAU=t.humanSort=t.hasSessionStorage=t.hasLocalStorage=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7));var a={};t.hasLocalStorage=function(){return!1},t.hasSessionStorage=function(){return!1},t.humanSort=function(e,t){for(var r=e.name.split(/(\d+)/),n=t.name.split(/(\d+)/),a=0;a<Math.max(r.length,n.length);a++)if(r[a]!=n[a]){var i=isNaN(parseInt(r[a],10))?r[a]:parseInt(r[a],10),o=isNaN(parseInt(n[a],10))?n[a]:parseInt(n[a],10);return void 0===i||void 0===o?r.length-n.length:i<o?-1:1}return 0},t.travelTimeForAU=function(e){return a.approximateTraveltimePerAU*e},t.hashString=function(e){var t=0,r=e.length;if(0===r)return t;for(var n=0;n<r;++n)t=(t<<5)-t+e.charCodeAt(1),t|=0;return t},t.adjustRange=function(e,t,r,n,a){return(e-t)/(r-t)*(a-n)+n},t.accumulateArray=function(e,t,r){for(var n=0;n<e.length;++n)t=r(t,e[n]);return t},t.slerp=function(e,t,r){var n=Math.acos(e.dot(t));return e.clone().multiplyScalar(Math.sin((1-r)*n)).add(t.clone().multiplyScalar(Math.sin(r*n))).divideScalar(Math.sin(n))},t.calculateTriangleArea=function(e,t,r){var a=(new n.Vector3).subVectors(t,e),i=(new n.Vector3).subVectors(r,e),o=(new n.Vector3).crossVectors(a,i),s=(new n.Vector3).crossVectors(o,a).normalize(),u=(new n.Plane).setFromNormalAndCoplanarPoint(s,e).distanceToPoint(r);return a.length()*u*.5},t.randomUnitVector=function(e){var t=e.real(0,2*Math.PI),r=Math.acos(e.realInclusive(-1,1)),a=Math.sin(r);return new n.Vector3(Math.cos(t)*a,Math.sin(t)*a,Math.cos(r))},t.intersectRayWithSphere=function(e,t){var r=t.center.clone().sub(e.origin),n=r.clone().projectOnVector(e.direction);return r.distanceTo(n)<=t.radius}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),a=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a,i){(0,n.default)(this,e),this.x=t?t>>>0:123456789,this.y=r?r>>>0:362436069,this.z=a?a>>>0:521288629,this.w=i?i>>>0:88675123}return(0,a.default)(e,[{key:"next",value:function(){var e=this.x^this.x<<11&2147483647;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>19^e^e>>8,this.w}},{key:"unit",value:function(){return this.next()/2147483648}},{key:"unitInclusive",value:function(){return this.next()/2147483647}},{key:"integer",value:function(e,t){return this.integerExclusive(e,t+1)}},{key:"integerExclusive",value:function(e,t){return e=Math.floor(e),t=Math.floor(t),Math.floor(this.unit()*(t-e))+e}},{key:"real",value:function(e,t){return this.unit()*(t-e)+e}},{key:"realInclusive",value:function(e,t){return this.unitInclusive()*(t-e)+e}},{key:"reseed",value:function(e,t,r,n){this.x=e?e>>>0:123456789,this.y=t?t>>>0:362436069,this.z=r?r>>>0:521288629,this.w=n?n>>>0:88675123}}]),e}();t.default=o},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(1)),a=y(r(0)),i=y(r(46)),o=y(r(43)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(108)),u=y(r(18)),l=y(r(107)),c=r(106),f=y(r(105)),h=y(r(104)),d=y(r(103)),p=y(r(102)),v=y(r(101));function y(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t);var r=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(r,"planet",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(r,"projectionRenderMode",{enumerable:!0,writable:!0,value:"globe"}),Object.defineProperty(r,"surfaceRenderMode",{enumerable:!0,writable:!0,value:"terrain"}),Object.defineProperty(r,"renderSunlight",{enumerable:!0,writable:!0,value:!0}),Object.defineProperty(r,"renderPlateBoundaries",{enumerable:!0,writable:!0,value:!1}),Object.defineProperty(r,"renderPlateMovements",{enumerable:!0,writable:!0,value:!1}),Object.defineProperty(r,"renderAirCurrents",{enumerable:!0,writable:!0,value:!1}),Object.defineProperty(r,"activeAction",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"tileSelection",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(r,"sunTimeOffset",{enumerable:!0,writable:!0,value:0}),r}return(0,o.default)(t,e),(0,a.default)(t,[{key:"generatePlanetAsynchronous",value:function(e){var t=this,r=!1;(null==e||!e instanceof u.default)&&(r=!0,e=new u.default(function(e){console.log("SteppedAction from Planet3DGenerator")}));var n=this.props.generationSettings,a=n.subdivisions,i=n.distortionLevel,o={},s=null;s=i<.25?(0,c.adjustRange)(i,0,.25,0,.04):i<.5?(0,c.adjustRange)(i,.25,.5,.04,.05):i<.75?(0,c.adjustRange)(i,.5,.75,.05,.075):(0,c.adjustRange)(i,.75,1,.075,.15);var f=n.seed,h=null;h="number"==typeof f?f:"string"==typeof f?(0,c.hashString)(f):Date.now();var d=new l.default(h),p=n.plateCount,v=n.oceanicRate,y=n.heatLevel,b=n.moistureLevel;this.activeAction=e;var m=e.executeSubaction(function(e){t.generatePlanet(a,s,p,v,y,b,d,e)},1,"Generating Planet").getResult(function(e){(o=e).seed=h,o.originalSeed=f}).executeSubaction(function(e){console.warn("FINISH!!! :D",Object.keys(o)),t.activeAction=null}).provideResult(function(){return o});if(r)return m.execute()}},{key:"generatePlanet",value:function(e,t,r,n,a,i,o,s){var u=this,l=this.planet;s.executeSubaction(function(r){u.generatePlanetMesh(e,t,o,r)},6,"Generating Mesh").getResult(function(e){l.mesh=e}).executeSubaction(function(e){u.generatePlanetTopology(l.mesh,e)},1,"Generating Topology").getResult(function(e){l.topology=e}).executeSubaction(function(e){u.generatePlanetPartition(l.topology.tiles,e)},1,"Generating Spatial Partitions").getResult(function(e){l.partition=e}).executeSubaction(function(e){u.generatePlanetTerrain(l,r,n,a,i,o,e)},8,"Generating Terrain").executeSubaction(function(e){u.generatePlanetRenderData(l.topology,o,e)},1,"Building Visuals").getResult(function(e){l.renderData=e}).executeSubaction(function(e){},1,"Compiling Statistics").getResult(function(e){}).provideResult(l)}},{key:"generatePlanetMesh",value:function(e,t,r,n){var a,i=this;n.executeSubaction(function(t){a=i.generateSubdividedIcosahedron(e)},1,"Generating Subdivided Icosahedron"),n.executeSubaction(function(e){var n=Math.ceil(a.edges.length*t),o=6;e.executeSubaction(function(e){var t=Math.floor(n/o);n-=t,e.executeSubaction(function(e){i.distortMesh(a,t,r,e)}),e.executeSubaction(function(e){i.relaxMesh(a,.5,e)}),--o>0&&e.loop(1-o/6)})},15,"Distorting Triangle Mesh"),n.executeSubaction(function(e){var t,r=e.intervalIteration,n=Math.sqrt(4*Math.PI/a.nodes.length),o=n/5e4*a.nodes.length,s=n/50*a.nodes.length,u=i.relaxMesh(a,.5,e);e.executeSubaction(function(e){t=u,u=i.relaxMesh(a,.5,e);var n=Math.abs(u-t);n>=o&&e.intervalIteration-r<300&&e.loop(Math.pow(Math.max(0,(s-n)/(s-o)),4))})},25,"Relaxing Triangle Mesh"),n.executeSubaction(function(e){for(var t=0;t<a.faces.length;++t){var r=a.faces[t],n=a.nodes[r.n[0]].p,o=a.nodes[r.n[1]].p,s=a.nodes[r.n[2]].p;r.centroid=i.calculateFaceCentroid(n,o,s).normalize()}},1,"Calculating Triangle Centroids"),n.executeSubaction(function(e){for(var t=0;t<a.nodes.length;++t)for(var r=a.nodes[t],n=r.f[0],o=1;o<r.f.length-1;++o){n=i.findNextFaceIndex(a,t,n);var s=r.f.indexOf(n);r.f[s]=r.f[o],r.f[o]=n}},1,"Reordering Triangle Nodes"),n.provideResult(function(){return a})}},{key:"generateSubdividedIcosahedron",value:function(e){for(var t=this.generateIcosahedron(),r=[],n=0;n<t.nodes.length;++n)r.push({p:t.nodes[n].p,e:[],f:[]});var a=[];for(n=0;n<t.edges.length;++n){(j=t.edges[n]).subdivided_n=[],j.subdivided_e=[];var i=t.nodes[j.n[0]],o=t.nodes[j.n[1]],s=i.p;(M=o.p).clone().sub(s);r[j.n[0]].e.push(a.length);for(var u=j.n[0],l=1;l<e;++l){var f=a.length,h=r.length;j.subdivided_e.push(f),j.subdivided_n.push(h),a.push({n:[u,h],f:[]}),u=h,r.push({p:(0,c.slerp)(s,M,l/e),e:[f,f+1],f:[]})}j.subdivided_e.push(a.length),r[j.n[1]].e.push(a.length),a.push({n:[u,j.n[1]],f:[]})}var d=[];for(n=0;n<t.faces.length;++n){var p=t.faces[n],v=t.edges[p.e[0]],y=t.edges[p.e[1]],b=t.edges[p.e[2]],m=t.nodes[p.n[0]].p,g=t.nodes[p.n[1]].p,_=(t.nodes[p.n[2]].p,g.clone().sub(m),p.n[0]===v.n[0]?function(e){return v.subdivided_n[e]}:function(t){return v.subdivided_n[e-2-t]}),w=p.n[1]===y.n[0]?function(e){return y.subdivided_n[e]}:function(t){return y.subdivided_n[e-2-t]},S=p.n[0]===b.n[0]?function(e){return b.subdivided_n[e]}:function(t){return b.subdivided_n[e-2-t]},k=[];k.push(p.n[0]);for(var x=0;x<v.subdivided_n.length;++x)k.push(_(x));k.push(p.n[1]);for(l=1;l<e;++l){k.push(S(l-1));s=r[S(l-1)].p;for(var M=r[w(l-1)].p,A=1;A<e-l;++A)k.push(r.length),r.push({p:(0,c.slerp)(s,M,A/(e-l)),e:[],f:[]});k.push(w(l-1))}k.push(p.n[2]);var P=p.n[0]===v.n[0]?function(e){return v.subdivided_e[e]}:function(t){return v.subdivided_e[e-1-t]},T=p.n[1]===y.n[0]?function(e){return y.subdivided_e[e]}:function(t){return y.subdivided_e[e-1-t]},O=p.n[0]===b.n[0]?function(e){return b.subdivided_e[e]}:function(t){return b.subdivided_e[e-1-t]},E=[];for(x=0;x<e;++x)E.push(P(x));for(h=e+1,l=1;l<e;++l){for(A=0;A<e-l;++A){E.push(a.length),r[(j={n:[k[h],k[h+1]],f:[]}).n[0]].e.push(a.length),r[j.n[1]].e.push(a.length),a.push(j),++h}++h}var R=[];h=1;for(l=0;l<e;++l){for(A=1;A<e-l;++A){R.push(a.length),r[(j={n:[k[h],k[h+e-l]],f:[]}).n[0]].e.push(a.length),r[j.n[1]].e.push(a.length),a.push(j),++h}R.push(T(l)),h+=2}var C=[];h=1;for(l=0;l<e;++l){C.push(O(l));for(A=1;A<e-l;++A){var j;C.push(a.length),r[(j={n:[k[h],k[h+e-l+1]],f:[]}).n[0]].e.push(a.length),r[j.n[1]].e.push(a.length),a.push(j),++h}h+=2}h=0,f=0;for(l=0;l<e;++l){for(A=1;A<e-l+1;++A){r[(N={n:[k[h],k[h+1],k[h+e-l+1]],e:[E[f],R[f],C[f]]}).n[0]].f.push(d.length),r[N.n[1]].f.push(d.length),r[N.n[2]].f.push(d.length),a[N.e[0]].f.push(d.length),a[N.e[1]].f.push(d.length),a[N.e[2]].f.push(d.length),d.push(N),++h,++f}++h}h=1,f=0;for(l=1;l<e;++l){for(A=1;A<e-l+1;++A){var N;r[(N={n:[k[h],k[h+e-l+2],k[h+e-l+1]],e:[C[f+1],E[f+e-l+1],R[f]]}).n[0]].f.push(d.length),r[N.n[1]].f.push(d.length),r[N.n[2]].f.push(d.length),a[N.e[0]].f.push(d.length),a[N.e[1]].f.push(d.length),a[N.e[2]].f.push(d.length),d.push(N),++h,++f}h+=2,f+=1}}return{nodes:r,edges:a,faces:d}}},{key:"generateIcosahedron",value:function(){for(var e=(1+Math.sqrt(5))/2,t=1/Math.sqrt(e*e+1),r=e*t,n=[{p:new s.Vector3(0,+r,+t),e:[],f:[]},{p:new s.Vector3(0,+r,-t),e:[],f:[]},{p:new s.Vector3(0,-r,+t),e:[],f:[]},{p:new s.Vector3(0,-r,-t),e:[],f:[]},{p:new s.Vector3(+t,0,+r),e:[],f:[]},{p:new s.Vector3(-t,0,+r),e:[],f:[]},{p:new s.Vector3(+t,0,-r),e:[],f:[]},{p:new s.Vector3(-t,0,-r),e:[],f:[]},{p:new s.Vector3(+r,+t,0),e:[],f:[]},{p:new s.Vector3(+r,-t,0),e:[],f:[]},{p:new s.Vector3(-r,+t,0),e:[],f:[]},{p:new s.Vector3(-r,-t,0),e:[],f:[]}],a=[{n:[0,1],f:[]},{n:[0,4],f:[]},{n:[0,5],f:[]},{n:[0,8],f:[]},{n:[0,10],f:[]},{n:[1,6],f:[]},{n:[1,7],f:[]},{n:[1,8],f:[]},{n:[1,10],f:[]},{n:[2,3],f:[]},{n:[2,4],f:[]},{n:[2,5],f:[]},{n:[2,9],f:[]},{n:[2,11],f:[]},{n:[3,6],f:[]},{n:[3,7],f:[]},{n:[3,9],f:[]},{n:[3,11],f:[]},{n:[4,5],f:[]},{n:[4,8],f:[]},{n:[4,9],f:[]},{n:[5,10],f:[]},{n:[5,11],f:[]},{n:[6,7],f:[]},{n:[6,8],f:[]},{n:[6,9],f:[]},{n:[7,10],f:[]},{n:[7,11],f:[]},{n:[8,9],f:[]},{n:[10,11],f:[]}],i=[{n:[0,1,8],e:[0,7,3]},{n:[0,4,5],e:[1,18,2]},{n:[0,5,10],e:[2,21,4]},{n:[0,8,4],e:[3,19,1]},{n:[0,10,1],e:[4,8,0]},{n:[1,6,8],e:[5,24,7]},{n:[1,7,6],e:[6,23,5]},{n:[1,10,7],e:[8,26,6]},{n:[2,3,11],e:[9,17,13]},{n:[2,4,9],e:[10,20,12]},{n:[2,5,4],e:[11,18,10]},{n:[2,9,3],e:[12,16,9]},{n:[2,11,5],e:[13,22,11]},{n:[3,6,7],e:[14,23,15]},{n:[3,7,11],e:[15,27,17]},{n:[3,9,6],e:[16,25,14]},{n:[4,8,9],e:[19,28,20]},{n:[5,11,10],e:[22,29,21]},{n:[6,9,8],e:[25,28,24]},{n:[7,10,11],e:[26,29,27]}],o=0;o<a.length;++o)for(var u=0;u<a[o].n.length;++u)n[u].e.push(o);for(o=0;o<i.length;++o)for(u=0;u<i[o].n.length;++u)n[u].f.push(o);for(o=0;o<i.length;++o)for(u=0;u<i[o].e.length;++u)a[u].f.push(o);return{nodes:n,edges:a,faces:i}}},{key:"distortMesh",value:function(e,t,r,n){var a=this,i=4*Math.PI/e.faces.length,o=(Math.sqrt(4*i/Math.sqrt(3)),Math.sqrt(3),function(e,t,r,n){if(r.f.length>=7||n.f.length>=7||e.f.length<=5||t.f.length<=5)return!1;var a=e.p.distanceTo(t.p),i=a/r.p.distanceTo(n.p);if(i>=2||i<=.5)return!1;var o=t.p.clone().sub(e.p).divideScalar(a),s=r.p.clone().sub(e.p).normalize(),u=n.p.clone().sub(e.p).normalize();if(o.dot(s)<.2||o.dot(u)<.2)return!1;o.negate();var l=r.p.clone().sub(t.p).normalize(),c=n.p.clone().sub(t.p).normalize();return!(o.dot(l)<.2||o.dot(c)<.2)}),s=0;return n.executeSubaction(function(n){if(!(s>=t)){for(var i=0,u=r.integerExclusive(0,e.edges.length);!a.conditionalRotateEdge(e,u,o);){if(++i>=e.edges.length)return!1;u=(u+1)%e.edges.length}++s,n.loop(s/t)}}),!0}},{key:"relaxMesh",value:function(e,t,r){var n=this,a=4*Math.PI/e.faces.length,i=Math.sqrt(4*a/Math.sqrt(3)),o=i*Math.sqrt(3)/3*.9,u=new Array(e.nodes.length);r.executeSubaction(function(t){for(var r=0;r<e.nodes.length;++r)u[r]=new s.Vector3(0,0,0)},1);var l=0;r.executeSubaction(function(r){if(!(l>=e.faces.length)){var a=e.faces[l],i=e.nodes[a.n[0]],s=e.nodes[a.n[1]],c=e.nodes[a.n[2]],f=i.p,h=s.p,d=c.p,p=(h.distanceTo(f),d.distanceTo(h),f.distanceTo(d),n.calculateFaceCentroid(f,h,d).normalize()),v=p.clone().sub(f),y=p.clone().sub(h),b=p.clone().sub(d),m=v.length(),g=y.length(),_=b.length();v.multiplyScalar(t*(m-o)/m),y.multiplyScalar(t*(g-o)/g),b.multiplyScalar(t*(_-o)/_),u[a.n[0]].add(v),u[a.n[1]].add(y),u[a.n[2]].add(b),++l,r.loop(l/e.faces.length)}},e.faces.length);var c=new s.Vector3(0,0,0),f=new s.Plane;r.executeSubaction(function(t){for(var r=0;r<e.nodes.length;++r)f.setFromNormalAndCoplanarPoint(e.nodes[r].p,c),u[r]=e.nodes[r].p.clone().add(f.projectPoint(u[r],new s.Vector3)).normalize()},e.nodes.length/10);var h=new Array(e.nodes.length);for(l=0;l<e.nodes.length;++l)h[l]=0;l=0;r.executeSubaction(function(t){if(!(l>=e.edges.length)){var r=e.edges[l],n=e.nodes[r.n[0]].p,a=e.nodes[r.n[1]].p,i=u[r.n[0]],o=u[r.n[1]],s=a.clone().sub(n).normalize(),c=o.clone().sub(i).normalize(),f=.5*(1-s.dot(c));h[r.n[0]]=Math.max(h[r.n[0]],f),h[r.n[1]]=Math.max(h[r.n[1]],f),++l,t.loop(l/e.edges.length)}});var d=0;return r.executeSubaction(function(t){for(var r=0;r<e.nodes.length;++r){var n=e.nodes[r].p,a=n.clone();n.lerp(u[r],1-Math.sqrt(h[r])).normalize(),a.sub(n),d+=a.length()}},e.nodes.length/20),d}},{key:"conditionalRotateEdge",value:function(e,t,r){var n=e.edges[t],a=e.faces[n.f[0]],i=e.faces[n.f[1]],o=this.getFaceOppositeNodeIndex(a,n),s=this.getFaceOppositeNodeIndex(i,n),u=a.n[o],l=a.n[(o+1)%3],c=i.n[s],f=i.n[(s+1)%3],h=e.nodes[l],d=e.nodes[f],p=e.nodes[u],v=e.nodes[c],y=i.e[(s+2)%3],b=a.e[(o+2)%3],m=e.edges[y],g=e.edges[b];return!!r(h,d,p,v)&&(h.e.splice(h.e.indexOf(t),1),d.e.splice(d.e.indexOf(t),1),p.e.push(t),v.e.push(t),n.n[0]=u,n.n[1]=c,m.f.splice(m.f.indexOf(n.f[1]),1),g.f.splice(g.f.indexOf(n.f[0]),1),m.f.push(n.f[0]),g.f.push(n.f[1]),h.f.splice(h.f.indexOf(n.f[1]),1),d.f.splice(d.f.indexOf(n.f[0]),1),p.f.push(n.f[1]),v.f.push(n.f[0]),a.n[(o+2)%3]=c,i.n[(s+2)%3]=u,a.e[(o+1)%3]=y,i.e[(s+1)%3]=b,a.e[(o+2)%3]=t,i.e[(s+2)%3]=t,!0)}},{key:"getFaceOppositeNodeIndex",value:function(e,t){if(e.n[0]!==t.n[0]&&e.n[0]!==t.n[1])return 0;if(e.n[1]!==t.n[0]&&e.n[1]!==t.n[1])return 1;if(e.n[2]!==t.n[0]&&e.n[2]!==t.n[1])return 2;throw"Cannot find node of given face that is not also a node of given edge."}},{key:"calculateFaceCentroid",value:function(e,t,r){var n=t.clone().sub(e).divideScalar(2),a=e.clone().add(n);return r.clone().sub(a).multiplyScalar(1/3).add(a)}},{key:"findNextFaceIndex",value:function(e,t,r){e.nodes[t];var n=e.faces[r],a=n.n.indexOf(t),i=e.edges[n.e[(a+2)%3]];return this.getEdgeOppositeFaceIndex(i,r)}},{key:"getEdgeOppositeFaceIndex",value:function(e,t){if(e.f[0]===t)return e.f[1];if(e.f[1]===t)return e.f[0];throw"Given face is not part of given edge."}},{key:"generatePlanetTopology",value:function(e,t){var r=this,n=new Array(e.faces.length),a=new Array(e.edges.length),i=new Array(e.nodes.length);t.executeSubaction(function(t){for(var r=0;r<e.faces.length;++r){var a=e.faces[r];n[r]=new h.default(r,a.centroid.clone().multiplyScalar(1e3),a.e.length,a.e.length,a.n.length)}}),t.executeSubaction(function(t){for(var r=0;r<e.edges.length;++r){e.edges[r];a[r]=new d.default(r,2,4,2)}}),t.executeSubaction(function(t){for(var r=0;r<e.nodes.length;++r){var n=e.nodes[r];i[r]=new f.default(r,n.p.clone().multiplyScalar(1e3),n.f.length,n.e.length,n.e.length)}}),t.executeSubaction(function(t){for(var r=0;r<n.length;++r){for(var o=n[r],s=e.faces[r],u=0;u<s.e.length;++u)o.borders[u]=a[s.e[u]];for(u=0;u<s.n.length;++u)o.tiles[u]=i[s.n[u]]}}),t.executeSubaction(function(t){for(var r=0;r<a.length;++r){for(var o=a[r],u=e.edges[r],l=new s.Vector3(0,0,0),c=0,f=0;f<u.f.length;++f){var h=n[u.f[f]];l.add(h.position),o.corners[f]=h;for(var d=0;d<h.borders.length;++d)h.borders[d]!==o&&(o.borders[c++]=h.borders[d])}o.midpoint=l.multiplyScalar(1/o.corners.length);for(f=0;f<u.n.length;++f)o.tiles[f]=i[u.n[f]]}}),t.executeSubaction(function(e){for(var t=0;t<n.length;++t)for(var r=n[t],a=0;a<r.borders.length;++a)r.corners[a]=r.borders[a].oppositeCorner(r)}),t.executeSubaction(function(t){for(var o=0;o<i.length;++o){for(var u=i[o],l=e.nodes[o],f=0;f<l.f.length;++f)u.corners[f]=n[l.f[f]];for(f=0;f<l.e.length;++f){var h=a[l.e[f]];if(h.tiles[0]===u)for(var d=0;d<u.corners.length;++d){var p=u.corners[d],v=u.corners[(d+1)%u.corners.length];if(h.corners[1]===p&&h.corners[0]===v)h.corners[0]=p,h.corners[1]=v;else if(h.corners[0]!==p||h.corners[1]!==v)continue;u.borders[d]=h,u.tiles[d]=h.oppositeTile(u);break}else for(d=0;d<u.corners.length;++d){p=u.corners[d],v=u.corners[(d+1)%u.corners.length];if(h.corners[0]===p&&h.corners[1]===v)h.corners[1]=p,h.corners[0]=v;else if(h.corners[1]!==p||h.corners[0]!==v)continue;u.borders[d]=h,u.tiles[d]=h.oppositeTile(u);break}}u.averagePosition=new s.Vector3(0,0,0);for(f=0;f<u.corners.length;++f)u.averagePosition.add(u.corners[f].position);u.averagePosition.multiplyScalar(1/u.corners.length);var y=0;for(f=0;f<u.corners.length;++f)y=Math.max(y,u.corners[f].position.distanceTo(u.averagePosition));var b=0;for(f=0;f<u.borders.length;++f)b+=(0,c.calculateTriangleArea)(u.position,u.borders[f].corners[0].position,u.borders[f].corners[1].position);u.area=b,u.normal=u.position.clone().normalize(),r.maxDistanceToCorner=y,u.boundingSphere=new s.Sphere(u.averagePosition,y)}}),t.executeSubaction(function(e){for(var t=0;t<n.length;++t){var r=n[t];r.area=0;for(var a=0;a<r.tiles.length;++a)r.area+=r.tiles[a].area/r.tiles[a].corners.length}}),t.provideResult({corners:n,borders:a,tiles:i})}},{key:"generatePlanetPartition",value:function(e,t){var r=this.generateIcosahedron();t.executeSubaction(function(e){for(var t=0;t<r.faces.length;++t){var n=r.faces[t],a=r.nodes[n.n[0]].p.clone().multiplyScalar(1e3),i=r.nodes[n.n[1]].p.clone().multiplyScalar(1e3),o=r.nodes[n.n[2]].p.clone().multiplyScalar(1e3),u=a.clone().add(i).add(o).divideScalar(3),l=Math.max(u.distanceTo(a),u.distanceTo(o),u.distanceTo(o));n.boundingSphere=new s.Sphere(u,l),n.children=[]}});var n,a=[],i=0;t.executeSubaction(function(t){for(var n=0;n<e.length;++n){var o=e[n];i=Math.max(i,o.boundingSphere.center.length()+o.boundingSphere.radius);for(var s=!1,u=0;u<r.faces.length;++u){var l=r.faces[u];if(o.boundingSphere.center.distanceTo(l.boundingSphere.center)+o.boundingSphere.radius<l.boundingSphere.radius){l.children.push(o),s=!0;break}}s||a.push(o)}}),t.executeSubaction(function(e){n=new v.default(new s.Sphere(new s.Vector3(0,0,0),i),[],a);for(var t=0;t<r.faces.length;++t){var o=r.faces[t];n.partitions.push(new v.default(o.boundingSphere,[],o.children)),delete o.boundingSphere,delete o.children}}),t.provideResult(function(){return n})}},{key:"generatePlanetTerrain",value:function(e,t,r,n,a,i,o){var s=this;o.executeSubaction(function(n){s.generatePlanetTectonicPlates(e.topology,t,r,i,n)},3,"Generating Tectonic Plates").getResult(function(t){e.plates=t}).executeSubaction(function(t){s.generatePlanetElevation(e.topology,e.plates,t)},4,"Generating Elevation").executeSubaction(function(t){s.generatePlanetWeather(e.topology,e.partition,n,a,i,t)},16,"Generating Weather").executeSubaction(function(t){s.generatePlanetBiomes(e.topology.tiles,1e3,t)},1,"Generating Biomes")}},{key:"generatePlanetTectonicPlates",value:function(e,t,r,n,a){var i=[],o=[],u=[];a.executeSubaction(function(a){for(var l=0;i.length<t&&l<1e4;){for(var f=i.length,h=e.corners[n.integerExclusive(0,e.corners.length)],d=!1,v=0;v<h.tiles.length;++v)if(h.tiles[v].plate){d=!0,l+=1;break}if(!d){l=0;var y=n.unit()<r,b=new p.default(f,new s.Color(n.integer(0,16777215)),(0,c.randomUnitVector)(n),n.realInclusive(-Math.PI/30,Math.PI/30),n.realInclusive(-Math.PI/30,Math.PI/30),y?n.realInclusive(-.8,-.3):n.realInclusive(.1,.5),y,h);i.push(b);for(v=0;v<h.tiles.length;++v)h.tiles[v].plate=b,b.tiles.push(h.tiles[v]);for(v=0;v<h.tiles.length;++v)for(var m=h.tiles[v],g=0;g<m.tiles.length;++g){var _=m.tiles[g];_.plate||(o.push(_),u.push(b))}}}}),a.executeSubaction(function(e){for(;o.length>0;){var t=Math.floor(Math.pow(n.unit(),2)*o.length),r=o[t],a=u[t];if(o.splice(t,1),u.splice(t,1),!r.plate){r.plate=a,a.tiles.push(r);for(var i=0;i<r.tiles.length;++i)r.tiles[i].plate||(o.push(r.tiles[i]),u.push(a))}}}),a.executeSubaction(this.calculateCornerDistancesToPlateRoot.bind(null,i)),a.provideResult(i)}},{key:"calculateCornerDistancesToPlateRoot",value:function(e,t){for(var r=[],n=0;n<e.length;++n){var a=e[n].root;a.distanceToPlateRoot=0;for(var i=0;i<a.corners.length;++i)r.push({corner:a.corners[i],distanceToPlateRoot:a.borders[i].length()})}var o=function(e,t){return e.distanceToPlateRoot-t.distanceToPlateRoot};t.executeSubaction(function(e){if(0!==r.length){for(var t=t=r.length,n=0;n<t;++n){var a=r[n],i=a.corner,s=a.distanceToPlateRoot;if(!i.distanceToPlateRoot||i.distanceToPlateRoot>s){i.distanceToPlateRoot=s;for(var u=0;u<i.corners.length;++u)r.push({corner:i.corners[u],distanceToPlateRoot:s+i.borders[u].length()})}}r.splice(0,t),r.sort(o),e.loop()}})}},{key:"generatePlanetElevation",value:function(e,t,r){var n,a,i,o=this,s=function(e,t){return e.distanceToPlateBoundary-t.distanceToPlateBoundary};r.executeSubaction(function(t){o.identifyBoundaryBorders(e.borders,t)},1).executeSubaction(function(t){o.collectBoundaryCorners(e.corners,t)},1).getResult(function(e){n=e}).executeSubaction(function(e){o.calculatePlateBoundaryStress(n,e)},2).getResult(function(e){a=e}).executeSubaction(function(e){o.blurPlateBoundaryStress(n,3,.4,e)},2).executeSubaction(function(e){o.populateElevationBorderQueue(n,a,e)},2).getResult(function(e){i=e}).executeSubaction(function(e){o.processElevationBorderQueue(i,s,e)},10).executeSubaction(function(t){o.calculateTileAverageElevations(e.tiles,t)},2)}},{key:"identifyBoundaryBorders",value:function(e,t){for(var r=0;r<e.length;++r){var n=e[r];n.tiles[0].plate!==n.tiles[1].plate&&(n.betweenPlates=!0,n.corners[0].betweenPlates=!0,n.corners[1].betweenPlates=!0,n.tiles[0].plate.boundaryBorders.push(n),n.tiles[1].plate.boundaryBorders.push(n))}}},{key:"collectBoundaryCorners",value:function(e,t){for(var r=[],n=0;n<e.length;++n){var a=e[n];a.betweenPlates&&(r.push(a),a.tiles[0].plate.boundaryCorners.push(a),a.tiles[1].plate!==a.tiles[0].plate&&a.tiles[1].plate.boundaryCorners.push(a),a.tiles[2].plate!==a.tiles[0].plate&&a.tiles[2].plate!==a.tiles[1].plate&&a.tiles[2].plate.boundaryCorners.push(a))}t.provideResult(r)}},{key:"calculatePlateBoundaryStress",value:function(e,t){for(var r=new Array(e.length),n=0;n<e.length;++n){var a,i,o=e[n];o.distanceToPlateBoundary=0;for(var s=0;s<o.borders.length;++s){var u=o.borders[s];if(!u.betweenPlates){a=u,i=s;break}}if(a){r[n]=i;var l=o.borders[(i+1)%o.borders.length],c=o.borders[(i+2)%o.borders.length],f=l.oppositeCorner(o),h=c.oppositeCorner(o),d=a.tiles[0].plate,p=l.tiles[0].plate!==d?l.tiles[0].plate:l.tiles[1].plate,v=f.vectorTo(h),y=v.clone().cross(o.position),b=this.calculateStress(d.calculateMovement(o.position),p.calculateMovement(o.position),v,y);o.pressure=b.pressure,o.shear=b.shear}else{r[n]=null;d=o.tiles[0].plate,p=o.tiles[1].plate;var m=o.tiles[2].plate,g=o.corners[0].vectorTo(o),_=o.corners[1].vectorTo(o),w=o.corners[2].vectorTo(o),S=g.clone().cross(o.position),k=_.clone().cross(o.position),x=w.clone().cross(o.position),M=this.calculateStress(d.calculateMovement(o.position),p.calculateMovement(o.position),g,S),A=this.calculateStress(p.calculateMovement(o.position),m.calculateMovement(o.position),_,k),P=this.calculateStress(m.calculateMovement(o.position),d.calculateMovement(o.position),w,x);o.pressure=(M.pressure+A.pressure+P.pressure)/3,o.shear=(M.shear+A.shear+P.shear)/3}}t.provideResult(r)}},{key:"calculateStress",value:function(e,t,r,n){var a=e.clone().sub(t),i=a.clone().projectOnVector(n),o=i.length();i.dot(n)>0&&(o=-o);var s=a.clone().projectOnVector(r).length();return{pressure:2/(1+Math.exp(-o/30))-1,shear:2/(1+Math.exp(-s/30))-1}}},{key:"blurPlateBoundaryStress",value:function(e,t,r,n){for(var a=new Array(e.length),i=new Array(e.length),o=0;o<t;++o){for(var s=0;s<e.length;++s){for(var u=e[s],l=0,c=0,f=0,h=0;h<u.corners.length;++h){var d=u.corners[h];d.betweenPlates&&(l+=d.pressure,c+=d.shear,++f)}a[s]=u.pressure*r+l/f*(1-r),i[s]=u.shear*r+c/f*(1-r)}for(s=0;s<e.length;++s){(u=e[s]).betweenPlates&&(u.pressure=a[s],u.shear=i[s])}}}},{key:"populateElevationBorderQueue",value:function(e,t,r){for(var n=[],a=0;a<e.length;++a){var i=e[a],o=t[a];if(null!==o){var s,u=i.borders[o],l=i.borders[(o+1)%i.borders.length],c=u.tiles[0].plate,f=l.tiles[0].plate!==c?l.tiles[0].plate:l.tiles[1].plate;i.pressure>.3?(i.elevation=Math.max(c.elevation,f.elevation)+i.pressure,s=c.oceanic===f.oceanic?this.calculateCollidingElevation:c.oceanic?this.calculateSubductingElevation:this.calculateSuperductingElevation):i.pressure<-.3?(i.elevation=Math.max(c.elevation,f.elevation)-i.pressure/4,s=this.calculateDivergingElevation):i.shear>.3?(i.elevation=Math.max(c.elevation,f.elevation)+i.shear/8,s=this.calculateShearingElevation):(i.elevation=(c.elevation+f.elevation)/2,s=this.calculateDormantElevation);var h=u.oppositeCorner(i);h.betweenPlates||n.push({origin:{corner:i,pressure:i.pressure,shear:i.shear,plate:c,calculateElevation:s},border:u,corner:i,nextCorner:h,distanceToPlateBoundary:u.length()})}else{c=i.tiles[0].plate,f=i.tiles[1].plate;var d=i.tiles[2].plate;i.pressure>.3?i.elevation=Math.max(c.elevation,f.elevation,d.elevation)+i.pressure:i.pressure<-.3?i.elevation=Math.max(c.elevation,f.elevation,d.elevation)+i.pressure/4:i.shear>.3?i.elevation=Math.max(c.elevation,f.elevation,d.elevation)+i.shear/8:i.elevation=(c.elevation+f.elevation+d.elevation)/3}}r.provideResult(n)}},{key:"calculateCollidingElevation",value:function(e,t,r,n,a,i){var o=e/(e+t);return o<.5?(o/=.5,n+Math.pow(o-1,2)*(r-n)):n}},{key:"calculateSuperductingElevation",value:function(e,t,r,n,a,i){var o=e/(e+t);return o<.2?r+(o/=.2)*(n-r+a/2):o<.5?(o=(o-.2)/.3,n+Math.pow(o-1,2)*a/2):n}},{key:"calculateSubductingElevation",value:function(e,t,r,n,a,i){var o=e/(e+t);return n+Math.pow(o-1,2)*(r-n)}},{key:"calculateDivergingElevation",value:function(e,t,r,n,a,i){var o=e/(e+t);return o<.3?(o/=.3,n+Math.pow(o-1,2)*(r-n)):n}},{key:"calculateShearingElevation",value:function(e,t,r,n,a,i){var o=e/(e+t);return o<.2?(o/=.2,n+Math.pow(o-1,2)*(r-n)):n}},{key:"calculateDormantElevation",value:function(e,t,r,n,a,i){var o=e/(e+t),s=r-n;return o*o*s*(2*o-3)+r}},{key:"processElevationBorderQueue",value:function(e,t,r){if(0!==e.length){for(var n=n=e.length,a=0;a<n;++a){var i=e[a],o=i.nextCorner;if(!o.elevation){o.distanceToPlateBoundary=i.distanceToPlateBoundary,o.elevation=i.origin.calculateElevation(o.distanceToPlateBoundary,o.distanceToPlateRoot,i.origin.corner.elevation,i.origin.plate.elevation,i.origin.pressure,i.origin.shear);for(var s=0;s<o.borders.length;++s){var u=o.borders[s];if(!u.betweenPlates){var l=o.corners[s],c=o.distanceToPlateBoundary+u.length();(!l.distanceToPlateBoundary||l.distanceToPlateBoundary>c)&&e.push({origin:i.origin,border:u,corner:o,nextCorner:l,distanceToPlateBoundary:c})}}}}e.splice(0,n),e.sort(t),r.loop()}}},{key:"calculateTileAverageElevations",value:function(e,t){for(var r=0;r<e.length;++r){for(var n=e[r],a=0,i=0;i<n.corners.length;++i)a+=n.corners[i].elevation;n.elevation=a/n.corners.length}}},{key:"generatePlanetWeather",value:function(e,t,r,n,a,i){var o,s,u,l,c,f,h=this;i.executeSubaction(function(e){h.generateAirCurrentWhorls(1e3,a,e)},1,"Generating Air Currents").getResult(function(e){o=e}).executeSubaction(function(t){h.calculateAirCurrents(e.corners,o,1e3,t)},1,"Generating Air Currents").executeSubaction(function(t){h.initializeAirHeat(e.corners,r,t)},2,"Calculating Temperature").getResult(function(e){s=e.corners,u=e.airHeat,l=e.airHeat}).executeSubaction(function(e){var t=h.processAirHeat(s,e);(l-=t)>0&&t>=1e-4&&e.loop(1-l/u)},8,"Calculating Temperature").executeSubaction(function(t){h.calculateTemperature(e.corners,e.tiles,1e3,t)},1,"Calculating Temperature").executeSubaction(function(t){h.initializeAirMoisture(e.corners,n,t)},2,"Calculating Moisture").getResult(function(e){s=e.corners,c=e.airMoisture,f=e.airMoisture}).executeSubaction(function(e){var t=h.processAirMoisture(s,e);(f-=t)>0&&t>=1e-4&&e.loop(1-f/c)},32,"Calculating Moisture").executeSubaction(function(t){h.calculateMoisture(e.corners,e.tiles,t)},1,"Calculating Moisture")}},{key:"generateAirCurrentWhorls",value:function(e,t,r){var n=[],a=t.integer(0,1)?1:-1,i=t.integer(4,7),o=2*Math.PI*e,u=2*Math.PI,l=o/(2*(i-1));n.push({center:new s.Vector3(0,e,0).applyAxisAngle(new s.Vector3(1,0,0),t.realInclusive(0,u/(2*(i+4)))).applyAxisAngle(new s.Vector3(0,1,0),t.real(0,u)),strength:t.realInclusive(u/36,u/24)*a,radius:t.realInclusive(.8*l,1.2*l)});for(var c=1;c<i-1;++c){a=-a;for(var f=c/(i-1)*u/2,h=Math.ceil(Math.sin(f)*e*u/l),d=0;d<h;++d)n.push({center:new s.Vector3(0,e,0).applyAxisAngle(new s.Vector3(1,0,0),t.realInclusive(0,u/(2*(i+4)))).applyAxisAngle(new s.Vector3(0,1,0),t.real(0,u)).applyAxisAngle(new s.Vector3(1,0,0),f).applyAxisAngle(new s.Vector3(0,1,0),u*(d+c%2/2)/h),strength:t.realInclusive(u/48,u/32)*a,radius:t.realInclusive(.8*l,1.2*l)})}a=-a,n.push({center:new s.Vector3(0,e,0).applyAxisAngle(new s.Vector3(1,0,0),t.realInclusive(0,u/(2*(i+4)))).applyAxisAngle(new s.Vector3(0,1,0),t.real(0,u)).applyAxisAngle(new s.Vector3(1,0,0),u/2),strength:t.realInclusive(u/36,u/24)*a,radius:t.realInclusive(.8*l,1.2*l)}),r.provideResult(n)}},{key:"calculateAirCurrents",value:function(e,t,r,n){var a=0;n.executeSubaction(function(n){if(!(a>=e.length)){for(var i=e[a],o=new s.Vector3(0,0,0),u=0,l=0;l<t.length;++l){var c=t[l],f=c.center.angleTo(i.position)*r;if(f<c.radius){var h=f/c.radius,d=1-h,p=r*c.strength*d*h,v=c.center.clone().cross(i.position).setLength(p);o.add(v),u+=d}}o.divideScalar(u),i.airCurrent=o,i.airCurrentSpeed=o.length(),i.airCurrentOutflows=new Array(i.borders.length);var y=o.clone().normalize(),b=0;for(l=0;l<i.corners.length;++l){var m=i.vectorTo(i.corners[l]).normalize().dot(y);m>0?(i.airCurrentOutflows[l]=m,b+=m):i.airCurrentOutflows[l]=0}if(b>0)for(l=0;l<i.borders.length;++l)i.airCurrentOutflows[l]/=b;++a,n.loop(a/e.length)}})}},{key:"initializeAirHeat",value:function(e,t,r){for(var n=[],a=0,i=0;i<e.length;++i){var o=e[i];o.airHeat=o.area*t,o.newAirHeat=0,o.heat=0,o.heatAbsorption=.1*o.area/Math.max(.1,Math.min(o.airCurrentSpeed,1)),o.elevation<=0?o.maxHeat=o.area:(o.maxHeat=o.area,o.heatAbsorption*=2),n.push(o),a+=o.airHeat}r.provideResult({corners:n,airHeat:a})}},{key:"processAirHeat",value:function(e,t){for(var r=0,n=e.length,a=0;a<n;++a){if(0!==(c=e[a]).airHeat){var i=Math.max(0,Math.min(c.airHeat,c.heatAbsorption*(1-c.heat/c.maxHeat)));c.heat+=i,r+=i;var o=c.area*(c.heat/c.maxHeat)*.02;i=Math.min(c.airHeat,i+o);var s=c.airHeat-i;c.airHeat=0;for(var u=0;u<c.corners.length;++u){var l=c.airCurrentOutflows[u];l>0&&(c.corners[u].newAirHeat+=s*l,e.push(c.corners[u]))}}}e.splice(0,n);for(a=0;a<e.length;++a){var c;(c=e[a]).airHeat=c.newAirHeat}for(a=0;a<e.length;++a)e[a].newAirHeat=0;return r}},{key:"calculateTemperature",value:function(e,t,r,n){for(var a=0;a<e.length;++a){var i=e[a],o=Math.sqrt(1-Math.abs(i.position.y)/r),s=1-Math.pow(Math.max(0,Math.min(.8*i.elevation,1)),2),u=i.heat/i.area;i.temperature=5*(o*s*.7+.3*u)/3-2/3,delete i.airHeat,delete i.newAirHeat,delete i.heat,delete i.maxHeat,delete i.heatAbsorption}for(a=0;a<t.length;++a){var l=t[a];l.temperature=0;for(var c=0;c<l.corners.length;++c)l.temperature+=l.corners[c].temperature;l.temperature/=l.corners.length}}},{key:"initializeAirMoisture",value:function(e,t,r){for(var n=[],a=0,i=0;i<e.length;++i){var o=e[i];o.airMoisture=o.elevation>0?0:o.area*t*Math.max(0,Math.min(.5+.5*o.temperature,1)),o.newAirMoisture=0,o.precipitation=0,o.precipitationRate=.0075*o.area/Math.max(.1,Math.min(o.airCurrentSpeed,1)),o.precipitationRate*=1+.1*(1-Math.max(0,Math.max(o.temperature,1))),o.elevation>0?(o.precipitationRate*=1+.5*o.elevation,o.maxPrecipitation=o.area*(.25+.25*Math.max(0,Math.min(o.elevation,1)))):o.maxPrecipitation=.25*o.area,n.push(o),a+=o.airMoisture}r.provideResult({corners:n,airMoisture:a})}},{key:"processAirMoisture",value:function(e,t){for(var r=0,n=e.length,a=0;a<n;++a){if(0!==(c=e[a]).airMoisture){var i=Math.max(0,Math.min(c.airMoisture,c.precipitationRate*(1-c.precipitation/c.maxPrecipitation)));c.precipitation+=i,r+=i;var o=c.area*(c.precipitation/c.maxPrecipitation)*.02;i=Math.min(c.airMoisture,i+o);var s=c.airMoisture-i;c.airMoisture=0;for(var u=0;u<c.corners.length;++u){var l=c.airCurrentOutflows[u];l>0&&(c.corners[u].newAirMoisture+=s*l,e.push(c.corners[u]))}}}e.splice(0,n);for(a=0;a<e.length;++a){var c;(c=e[a]).airMoisture=c.newAirMoisture}for(a=0;a<e.length;++a)e[a].newAirMoisture=0;return r}},{key:"calculateMoisture",value:function(e,t,r){for(var n=0;n<e.length;++n){var a=e[n];a.moisture=a.precipitation/a.area/.5,delete a.airMoisture,delete a.newAirMoisture,delete a.precipitation,delete a.maxPrecipitation,delete a.precipitationRate}for(n=0;n<t.length;++n){var i=t[n];i.moisture=0;for(var o=0;o<i.corners.length;++o)i.moisture+=i.corners[o].moisture;i.moisture/=i.corners.length}}},{key:"generatePlanetBiomes",value:function(e,t,r){for(var n=0;n<e.length;++n){var a=e[n],i=Math.max(0,a.elevation),o=(Math.abs(a.position.y/t),a.temperature),s=a.moisture;a.biome=i<=0?o>0?"ocean":"oceanGlacier":i<.6?o>.75?s<.25?"desert":"rainForest":o>.5?s<.25?"rocky":s<.5?"plains":"swamp":o>0?s<.25?"plains":s<.5?"grassland":"deciduousForest":s<.25?"tundra":"landGlacier":i<.8?o>0?s<.25?"tundra":"coniferForest":"tundra":o>0||s<.25?"mountain":"snowyMountain"}}},{key:"generatePlanetRenderData",value:function(e,t,r){var n=this,a={};r.executeSubaction(function(r){n.buildSurfaceRenderObject(e.tiles,t,r)},8,"Building Surface Visuals").getResult(function(e){a.surface=e}).executeSubaction(function(t){n.buildPlateBoundariesRenderObject(e.borders,t)},1,"Building Plate Boundary Visuals").getResult(function(e){a.plateBoundaries=e}).executeSubaction(function(t){n.buildPlateMovementsRenderObject(e.tiles,t)},2,"Building Plate Movement Visuals").getResult(function(e){a.plateMovements=e}).executeSubaction(function(t){n.buildAirCurrentsRenderObject(e.corners,t)},2,"Building Air Current Visuals").getResult(function(e){a.airCurrents=e}),r.provideResult(a)}},{key:"buildSurfaceRenderObject",value:function(e,t,r){var n=this,a=new s.Geometry,i=[],o=[],u=[],l=[],c=[],f=0;r.executeSubaction(function(r){if(!(f>=e.length)){var h,d=e[f],p=new s.Color(t.unit(),t.unit(),t.unit());if(d.elevation<=0){var v=Math.min(-d.elevation,1);h="ocean"===d.biome?new s.Color(26367).lerp(new s.Color(17595),Math.min(-d.elevation,1)).lerp(p,.1):"oceanGlacier"===d.biome?new s.Color(14544639).lerp(p,.1):new s.Color(16711935)}else if(d.elevation<.6){v=d.elevation/.6;h="desert"===d.biome?new s.Color(14540151).lerp(new s.Color(12303189),v).lerp(p,.1):"rainForest"===d.biome?new s.Color(4513024).lerp(new s.Color(2267392),v).lerp(p,.2):"rocky"===d.biome?new s.Color(11180407).lerp(new s.Color(8943445),v).lerp(p,.15):"plains"===d.biome?new s.Color(10074948).lerp(new s.Color(6715170),v).lerp(p,.1):"grassland"===d.biome?new s.Color(7851076).lerp(new s.Color(4491298),v).lerp(p,.15):"swamp"===d.biome?new s.Color(7842372).lerp(new s.Color(4482594),v).lerp(p,.25):"deciduousForest"===d.biome?new s.Color(3385890).lerp(new s.Color(1140224),v).lerp(p,.1):"tundra"===d.biome?new s.Color(10066346).lerp(new s.Color(7829384),v).lerp(p,.15):"landGlacier"===d.biome?new s.Color(14544639).lerp(p,.1):new s.Color(16711935)}else if(d.elevation<.8){v=(d.elevation-.6)/.2;h="tundra"===d.biome?new s.Color(7829384).lerp(new s.Color(6710903),v).lerp(p,.1):"coniferForest"===d.biome?new s.Color(3377186).lerp(new s.Color(1140224),v).lerp(p,.1):"snow"===d.biome?new s.Color(15658734).lerp(new s.Color(14540253),v).lerp(p,.1):"mountain"===d.biome?new s.Color(5592388).lerp(new s.Color(4473907),v).lerp(p,.05):new s.Color(16711935)}else{v=Math.min((d.elevation-.8)/.5,1);h="mountain"===d.biome?new s.Color(4473907).lerp(new s.Color(3355426),v).lerp(p,.05):"snowyMountain"===d.biome?new s.Color(14540253).lerp(new s.Color(16777215),v).lerp(p,.1):new s.Color(16711935)}var y,b,m=d.plate.color.clone();y=d.elevation<=0?new s.Color(2245768).lerp(new s.Color(11197951),Math.max(0,Math.min((d.elevation+.75)/.75,1))):d.elevation<.75?new s.Color(10057557).lerp(new s.Color(5583633),Math.max(0,Math.min(d.elevation/.75,1))):new s.Color(5583633).lerp(new s.Color(2236962),Math.max(0,Math.min((d.elevation-.75)/.5,1))),b=d.temperature<=0?new s.Color(255).lerp(new s.Color(12312063),Math.max(0,Math.min((d.temperature+2/3)/(2/3),1))):new s.Color(16776960).lerp(new s.Color(16711680),Math.max(0,Math.min(d.temperature/1,1)));var g=new s.Color(16763904).lerp(new s.Color(26367),Math.max(0,Math.min(d.moisture,1))),_=a.vertices.length;a.vertices.push(d.averagePosition);for(var w=0;w<d.corners.length;++w){var S=d.corners[w].position;a.vertices.push(S),a.vertices.push(d.averagePosition.clone().sub(S).multiplyScalar(.05).add(S));var k=2*w,x=(w+1)%d.corners.length*2;n.buildTileWedge(a.faces,_,k,x,d.normal),n.buildTileWedgeColors(i,h,h.clone().multiplyScalar(.5)),n.buildTileWedgeColors(o,m,m.clone().multiplyScalar(.5)),n.buildTileWedgeColors(u,y,y.clone().multiplyScalar(.5)),n.buildTileWedgeColors(l,b,b.clone().multiplyScalar(.5)),n.buildTileWedgeColors(c,g,g.clone().multiplyScalar(.5));for(var M=a.faces.length-3;M<a.faces.length;++M)a.faces[M].vertexColors=i[M]}++f,r.loop(f/e.length)}}),a.dynamic=!0,a.boundingSphere=new s.Sphere(new s.Vector3(0,0,0),1e3);var h=new s.MeshLambertMaterial({color:new s.Color(16777215),vertexColors:s.VertexColors}),d=new s.Mesh(a,h),p=new s.Geometry;p.dynamic=!0;var v=new s.MeshBasicMaterial({vertexColors:s.VertexColors}),y=new s.Mesh(p,v);r.provideResult({geometry:a,terrainColors:i,plateColors:o,elevationColors:u,temperatureColors:l,moistureColors:c,playerColors:[],material:h,renderObject:d,mapGeometry:p,mapMaterial:v,mapRenderObject:y})}},{key:"buildPlateBoundariesRenderObject",value:function(e,t){var r=new s.Geometry,n=0;t.executeSubaction(function(t){if(!(n>=e.length)){var a=e[n];if(a.betweenPlates){var i=a.midpoint.clone().normalize(),o=i.clone().multiplyScalar(1),u=a.corners[0].position,l=a.corners[1].position,c=a.tiles[0].averagePosition,f=a.tiles[1].averagePosition,h=r.vertices.length;r.vertices.push(u.clone().add(o)),r.vertices.push(l.clone().add(o)),r.vertices.push(c.clone().sub(u).multiplyScalar(.2).add(u).add(o)),r.vertices.push(c.clone().sub(l).multiplyScalar(.2).add(l).add(o)),r.vertices.push(f.clone().sub(u).multiplyScalar(.2).add(u).add(o)),r.vertices.push(f.clone().sub(l).multiplyScalar(.2).add(l).add(o));var d=Math.max(-1,Math.min((a.corners[0].pressure+a.corners[1].pressure)/2,1)),p=Math.max(0,Math.min((a.corners[0].shear+a.corners[1].shear)/2,1)),v=d<=0?new s.Color(1+d,1,0):new s.Color(1,1-d,0),y=new s.Color(0,p/2,p);r.faces.push(new s.Face3(h+1,h+0,h+2,i,[v,v,y])),r.faces.push(new s.Face3(h+3,h+1,h+2,i,[v,y,y])),r.faces.push(new s.Face3(h+0,h+1,h+5,i,[v,v,y])),r.faces.push(new s.Face3(h+4,h+0,h+5,i,[v,y,y]))}++n,t.loop(n/e.length)}}),r.boundingSphere=new s.Sphere(new s.Vector3(0,0,0),1010);var a=new s.MeshBasicMaterial({vertexColors:s.VertexColors}),i=new s.Mesh(r,a),o=new s.Geometry;o.dynamic=!0;var u=new s.MeshBasicMaterial({vertexColors:s.VertexColors}),l=new s.Mesh(o,u);t.provideResult({geometry:r,material:a,renderObject:i,mapGeometry:o,mapMaterial:u,mapRenderObject:l})}},{key:"buildPlateMovementsRenderObject",value:function(e,t){var r=this,n=new s.Geometry,a=0;t.executeSubaction(function(t){if(!(a>=e.length)){var i=e[a],o=i.plate,u=o.calculateMovement(i.position),l=new s.Color(1-o.color.r,1-o.color.g,1-o.color.b);r.buildArrow(n,i.position.clone().multiplyScalar(1.002),u.clone().multiplyScalar(.5),i.position.clone().normalize(),Math.min(u.length(),4),l),i.plateMovement=u,++a,t.loop(a/e.length)}}),n.boundingSphere=new s.Sphere(new s.Vector3(0,0,0),1010);var i=new s.MeshBasicMaterial({vertexColors:s.VertexColors}),o=new s.Mesh(n,i),u=new s.Geometry;u.dynamic=!0;var l=new s.MeshBasicMaterial({vertexColors:s.VertexColors}),c=new s.Mesh(u,l);t.provideResult({geometry:n,material:i,renderObject:o,mapGeometry:u,mapMaterial:l,mapRenderObject:c})}},{key:"buildAirCurrentsRenderObject",value:function(e,t){var r=this,n=new s.Geometry,a=0;t.executeSubaction(function(t){if(!(a>=e.length)){var i=e[a];r.buildArrow(n,i.position.clone().multiplyScalar(1.002),i.airCurrent.clone().multiplyScalar(.5),i.position.clone().normalize(),Math.min(i.airCurrent.length(),4)),++a,t.loop(a/e.length)}}),n.boundingSphere=new s.Sphere(new s.Vector3(0,0,0),1010);var i=new s.MeshBasicMaterial({color:new s.Color(16777215)}),o=new s.Mesh(n,i),u=new s.Geometry;u.dynamic=!0;var l=new s.MeshBasicMaterial({color:new s.Color(16777215)}),c=new s.Mesh(u,l);t.provideResult({geometry:n,material:i,renderObject:o,mapGeometry:u,mapMaterial:l,mapRenderObject:c})}},{key:"buildArrow",value:function(e,t,r,n,a,i){if(0!==r.lengthSq()){var o=r.clone().cross(n).setLength(a/2),u=e.vertices.length;e.vertices.push(t.clone().add(o),t.clone().add(r),t.clone().sub(o)),e.faces.push(new s.Face3(u+2,u,u+1,n,[i,i,i]))}}},{key:"buildTileWedge",value:function(e,t,r,n,a){e.push(new s.Face3(t+n+2,t+r+2,t,a)),e.push(new s.Face3(t+n+1,t+r+1,t+n+2,a)),e.push(new s.Face3(t+n+2,t+r+1,t+r+2,a))}},{key:"buildTileWedgeColors",value:function(e,t,r){e.push([t,t,t]),e.push([r,r,t]),e.push([r,t,t])}}]),t}(y(r(100)).default);Object.defineProperty(b,"defaultProps",{enumerable:!0,writable:!0,value:{generationSettings:{subdivisions:10,distortionLevel:100,plateCount:7,oceanicRate:.7,heatLevel:1.01,moistureLevel:1.01,seed:"xyz",type:"earth"}}}),t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(13)),a=f(r(3)),i=f(r(11)),o=f(r(1)),s=f(r(0)),u=f(r(109)),l=f(r(18)),c=f(r(6));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),Object.defineProperty(this,"generator",{enumerable:!0,writable:!0,value:{subdivisions:5,distortionLevel:100,plateCount:7,oceanicRate:.7,heatLevel:1.01,moistureLevel:1.01}}),Object.defineProperty(this,"evolution",{enumerable:!0,writable:!0,value:!0}),Object.defineProperty(this,"planet",{enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"p3dg",{enumerable:!0,writable:!0,value:new u.default}),Object.assign(this,t)}return(0,s.default)(e,[{key:"generate",value:function(){var e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generatePlanetSurface",value:function(){var e=(0,i.default)(a.default.mark(function e(){var t,r,n,i,o,s,u=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.generator,r=t.subdivisions,n=t.distortionLevel,i=null,i=n<.25?this.adjustRange(n,0,.25,0,.04):n<.5?this.adjustRange(n,.25,.5,.04,.05):n<.75?this.adjustRange(n,.5,.75,.05,.075):this.adjustRange(n,.75,1,.075,.15),o=new l.default(function(e){}),s=new c.default(12345),e.abrupt("return",new Promise(function(e){var t=u.planet;o.executeSubaction(function(e){u.p3dg.generatePlanetMesh(r,i,s.random,e)},6,"Generating Mesh").getResult(function(e){t.mesh=e}).executeSubaction(function(e){u.p3dg.generatePlanetTopology(t.mesh,e)},1,"Generating Topology").getResult(function(e){t.topology=e}).executeSubaction(function(e){u.p3dg.generatePlanetPartition(t.topology.tiles,e)},1,"Generating Spatial Partitions").getResult(function(r){t.partition=r,e(t)}),o.execute()}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"generatePlanetBiomes",value:function(){var t=(0,i.default)(a.default.mark(function t(){var r,i,o,s,u,l,c,f,h;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.subtype,i=e.getTopology(r)){t.next=4;break}return t.abrupt("return");case 4:if(o=(0,n.default)({},this.generator,{p3dg:this.p3dg,evolution:this.evolution}),!Array.isArray(i.modyficators)){t.next=32;break}s=!0,u=!1,l=void 0,t.prev=9,c=i.modyficators[Symbol.iterator]();case 11:if(s=(f=c.next()).done){t.next=18;break}return h=f.value,t.next=15,h(this.planet,o);case 15:s=!0,t.next=11;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(9),u=!0,l=t.t0;case 24:t.prev=24,t.prev=25,!s&&c.return&&c.return();case 27:if(t.prev=27,!u){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:case"end":return t.stop()}},t,this,[[9,20,24,32],[25,,27,31]])}));return function(){return t.apply(this,arguments)}}()},{key:"adjustRange",value:function(e,t,r,n,a){return(e-t)/(r-t)*(a-n)+n}}],[{key:"getTopology",value:function(t){return e.PLANET_TOPOLOGIES.find(function(e){return e.subtype=t})}},{key:"TerrestialPlanet",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r){var n,i,o,s,u,f,h;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.p3dg,i=r.plateCount,o=r.oceanicRate,s=r.heatLevel,u=r.moistureLevel,f=new l.default(function(e){console.log("progress",e.getCurrentActionName(),(100*e.getProgress()).toFixed(2)+"%")}),h=new c.default(12345).random,e.abrupt("return",new Promise(function(e){f.executeSubaction(function(e){n.generatePlanetTectonicPlates(t.topology,i,o,h,e)},3,"Generating Tectonic Plates").getResult(function(e){t.plates=e}).executeSubaction(function(e){n.generatePlanetElevation(t.topology,t.plates,e)},4,"Generating Elevation").executeSubaction(function(e){n.generatePlanetWeather(t.topology,t.partition,s,u,h,e)},16,"Generating Weather").getResult(function(r){e(t)}),f.execute()}));case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"GasGiantPlanet",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r){var n,i,o,s,u,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.topology.tiles,i=r.planetRadius,o=void 0===i?1e3:i,s=0;s<n.length;s++)u=n[s],l=Math.abs(u.position.y/o),u.biome=l>.6?"ggs1":l>.2?"ggs2":"ggs3";case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"IceGiantPlanet",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r){var n,i,o,s,u,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.topology.tiles,i=r.planetRadius,o=void 0===i?1e3:i,s=0;s<n.length;s++)u=n[s],l=Math.abs(u.position.y/o),u.biome=l>.6?"igs1":l>.2?"igs2":"igs3";case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"LavaPlanet",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.topology.tiles,n=r.planetRadius,void 0===n?1e3:n;case 2:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"BarrenPlanet",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.topology.tiles,n=r.planetRadius,void 0===n?1e3:n;case 2:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"EarthPlanet",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var r,n,i,o,s,u,l,c,f,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.topology.tiles,n=d.planetRadius,i=void 0===n?1e3:n,o=d.evolution,s=void 0===o||o,u=0;u<r.length;u++)l=r[u],c=Math.max(0,l.elevation),Math.abs(l.position.y/i),f=l.temperature,h=l.moisture,l.biome=c<=0?f>0?"ocean":"oceanGlacier":c<.6?f>.75?h<.25||!s?"desert":"rainForest":f>.5?h<.25||!s?"rocky":h<.5?"plains":"swamp":f>0?s?h<.25?"plains":h<.5?"grassland":"deciduousForest":"rocky":h<.25&&s?"tundra":"landGlacier":c<.8?s?f>0?h<.25?"tundra":"coniferForest":"tundra":"rocky":f>0||h<.25?"mountain":"snowyMountain";case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Generate",value:function(){var t=(0,i.default)(a.default.mark(function t(r,n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:new e;case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()}]),e}();Object.defineProperty(h,"PLANET_TOPOLOGIES",{enumerable:!0,writable:!0,value:[{subtype:"earth",modyficators:[h.TerrestialPlanet,h.EarthPlanet]},{subtype:"lava",modyficators:[h.TerrestialPlanet,h.LavaPlanet]},{subtype:"barren",modyficators:[h.TerrestialPlanet,h.BarrenPlanet]},{subtype:"gas_giant",modyficators:[h.GasGiantPlanet]},{subtype:"ice_giant",modyficators:[h.IceGiantPlanet]}]}),t.default=h},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(13)),a=u(r(10)),i=u(r(111)),o=u(r(1)),s=u(r(0));u(r(6)),u(r(18));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.physics,n=(0,i.default)(t,["physics"]);(0,o.default)(this,e),Object.defineProperty(this,"type",{enumerable:!0,writable:!0,value:"REGION"}),Object.defineProperty(this,"subtype",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"tile",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"neighbors",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"planet",{enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"physics",{enumerable:!0,writable:!0,value:{biome:null,elevation:null,moisture:null,temperature:null}}),Object.assign(this,n),null!=r&&this.setPhysics(r)}return(0,s.default)(e,[{key:"setPhysics",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=Object.keys(this.physics)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;void 0!==e[o]&&(this.physics[o]=e[o])}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}},{key:"toObject",value:function(){return{type:this.type,subtype:this.subtype,tile:this.tile,neighbors:[].concat((0,a.default)(this.neighbors)),physics:(0,n.default)({},this.physics)}}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(13)),a=o(r(1)),i=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.props=(0,n.default)({},this.constructor.defaultProps,t),this.model={seed:null}}return(0,i.default)(e,[{key:"getSeed",value:function(){var e=this.props.seed||this.model.seed;return"number"==typeof e?e:"string"==typeof e?this.hashString(e):Date.now()}},{key:"hashString",value:function(e){var t=0,r=e.length;if(0===r)return t;for(var n=0;n<r;++n){t=(t<<5)-t+e.charCodeAt(1),t|=0}return t}}]),e}();Object.defineProperty(s,"defaultProps",{enumerable:!0,writable:!0,value:{seed:null}}),t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(3)),a=s(r(11)),i=s(r(1)),o=s(r(0));r(7),r(29),s(r(24));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e),Object.defineProperty(this,"children",{enumerable:!0,writable:!0,value:[]})}return(0,o.default)(e,[{key:"Children",value:function(e){return this.children=e,this}},{key:"CalculateOverall",value:function(){return this.mass=this.children.reduce(function(e,t){return e+t.mass},0),this}},{key:"children",get:function(){return this._children},set:function(e){this._children=e}}],[{key:"buildTree",value:function(t,r,n){if(n-r>1){var a=r+n>>1,i=e.buildTree(t,r,a),o=e.buildTree(t,a,n);return(new e).Children([i,o]).CalculateOverall()}return t[r]}},{key:"Generate",value:function(){var t=(0,a.default)(n.default.mark(function t(r,a){var i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.buildTree(r,0,r.length),t.abrupt("return",i);case 2:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStarColor=function(e){var t=function(e,t){for(var r=t[0],n=Math.abs(e-r),a=0;a<t.length;a++){var i=Math.abs(e-t[a]);i<n&&(n=i,r=t[a])}return r}(e,n.map(function(e){return e[1]})),r=n.findIndex(function(e){return e[1]==t});return n[r][0]};var n=[[i(155,188,255),4e4],[i(155,188,255),39500],[i(155,188,255),39e3],[i(155,188,255),38500],[i(156,188,255),38e3],[i(156,188,255),37500],[i(156,189,255),37e3],[i(156,189,255),36500],[i(156,189,255),36e3],[i(157,189,255),35500],[i(157,189,255),35e3],[i(157,189,255),34500],[i(157,189,255),34e3],[i(157,189,255),33500],[i(158,190,255),33e3],[i(158,190,255),32500],[i(158,190,255),32e3],[i(158,190,255),31500],[i(159,190,255),31e3],[i(159,190,255),30500],[i(159,191,255),3e4],[i(159,191,255),29500],[i(160,191,255),29e3],[i(160,191,255),28500],[i(160,191,255),28e3],[i(161,192,255),27500],[i(161,192,255),27e3],[i(161,192,255),26500],[i(162,192,255),26e3],[i(162,193,255),25500],[i(163,193,255),25e3],[i(163,193,255),24500],[i(163,194,255),24e3],[i(164,194,255),23500],[i(164,194,255),23e3],[i(165,195,255),22500],[i(166,195,255),22e3],[i(166,195,255),21500],[i(167,196,255),21e3],[i(168,196,255),20500],[i(168,197,255),2e4],[i(169,197,255),19500],[i(170,198,255),19e3],[i(171,198,255),18500],[i(172,199,255),18e3],[i(173,200,255),17500],[i(174,200,255),17e3],[i(175,201,255),16500],[i(176,202,255),16e3],[i(177,203,255),15500],[i(179,204,255),15e3],[i(180,205,255),14500],[i(182,206,255),14e3],[i(184,207,255),13500],[i(186,208,255),13e3],[i(188,210,255),12500],[i(191,211,255),12e3],[i(193,213,255),11500],[i(196,215,255),11e3],[i(200,217,255),10500],[i(204,219,255),1e4],[i(208,222,255),9500],[i(214,225,255),9e3],[i(220,229,255),8500],[i(227,233,255),8e3],[i(235,238,255),7500],[i(245,243,255),7e3],[i(255,249,253),6500],[i(255,243,239),6e3],[i(255,236,224),5500],[i(255,228,206),5e3],[i(255,219,186),4500],[i(255,209,163),4e3],[i(255,196,137),3500],[i(255,180,107),3e3],[i(255,161,72),2500],[i(255,137,18),2e3],[i(255,109,0),1500],[i(255,51,0),1e3]];function a(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function i(e,t,r){return"#"+a(e)+a(t)+a(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomInt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return Math.floor(Math.random()*t)+e}},function(e,t,r){var n=r(9);n(n.S,"Object",{create:r(57)})},function(e,t,r){r(117);var n=r(2).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){e.exports={default:r(118),__esModule:!0}},function(e,t,r){var n=r(15),a=r(8),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(22)(Function.call,r(71).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){var n=r(9);n(n.S,"Object",{setPrototypeOf:r(120).set})},function(e,t,r){r(121),e.exports=r(2).Object.setPrototypeOf},function(e,t,r){e.exports={default:r(122),__esModule:!0}},function(e,t,r){r(44)("observable")},function(e,t,r){r(44)("asyncIterator")},function(e,t,r){var n=r(20),a=r(72).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t,r){var n=r(25);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(34),a=r(47),i=r(30);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,s=r(e),u=i.f,l=0;s.length>l;)u.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,r){var n=r(33)("meta"),a=r(15),i=r(16),o=r(12).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(27)(function(){return u(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!i(e,n)&&c(e),e}}},function(e,t,r){"use strict";var n=r(5),a=r(16),i=r(14),o=r(9),s=r(84),u=r(129).KEY,l=r(27),c=r(54),f=r(32),h=r(33),d=r(4),p=r(45),v=r(44),y=r(128),b=r(127),m=r(8),g=r(15),_=r(20),w=r(58),S=r(26),k=r(57),x=r(126),M=r(71),A=r(12),P=r(34),T=M.f,O=A.f,E=x.f,R=n.Symbol,C=n.JSON,j=C&&C.stringify,N=d("_hidden"),I=d("toPrimitive"),L={}.propertyIsEnumerable,G=c("symbol-registry"),D=c("symbols"),B=c("op-symbols"),z=Object.prototype,U="function"==typeof R,V=n.QObject,F=!V||!V.prototype||!V.prototype.findChild,Y=i&&l(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=T(z,t);n&&delete z[t],O(e,t,r),n&&e!==z&&O(z,t,n)}:O,H=function(e){var t=D[e]=k(R.prototype);return t._k=e,t},K=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},W=function(e,t,r){return e===z&&W(B,t,r),m(e),t=w(t,!0),m(r),a(D,t)?(r.enumerable?(a(e,N)&&e[N][t]&&(e[N][t]=!1),r=k(r,{enumerable:S(0,!1)})):(a(e,N)||O(e,N,S(1,{})),e[N][t]=!0),Y(e,t,r)):O(e,t,r)},q=function(e,t){m(e);for(var r,n=y(t=_(t)),a=0,i=n.length;i>a;)W(e,r=n[a++],t[r]);return e},Z=function(e){var t=L.call(this,e=w(e,!0));return!(this===z&&a(D,e)&&!a(B,e))&&(!(t||!a(this,e)||!a(D,e)||a(this,N)&&this[N][e])||t)},X=function(e,t){if(e=_(e),t=w(t,!0),e!==z||!a(D,t)||a(B,t)){var r=T(e,t);return!r||!a(D,t)||a(e,N)&&e[N][t]||(r.enumerable=!0),r}},J=function(e){for(var t,r=E(_(e)),n=[],i=0;r.length>i;)a(D,t=r[i++])||t==N||t==u||n.push(t);return n},Q=function(e){for(var t,r=e===z,n=E(r?B:_(e)),i=[],o=0;n.length>o;)!a(D,t=n[o++])||r&&!a(z,t)||i.push(D[t]);return i};U||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call(B,r),a(this,N)&&a(this[N],e)&&(this[N][e]=!1),Y(this,e,S(1,r))};return i&&F&&Y(z,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),M.f=X,A.f=W,r(72).f=x.f=J,r(30).f=Z,r(47).f=Q,i&&!r(36)&&s(z,"propertyIsEnumerable",Z,!0),p.f=function(e){return H(d(e))}),o(o.G+o.W+o.F*!U,{Symbol:R});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)d($[ee++]);for(var te=P(d.store),re=0;te.length>re;)v(te[re++]);o(o.S+o.F*!U,"Symbol",{for:function(e){return a(G,e+="")?G[e]:G[e]=R(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in G)if(G[t]===e)return t},useSetter:function(){F=!0},useSimple:function(){F=!1}}),o(o.S+o.F*!U,"Object",{create:function(e,t){return void 0===t?k(e):q(k(e),t)},defineProperty:W,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),C&&o(o.S+o.F*(!U||l(function(){var e=R();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(g(t)||void 0!==e)&&!K(e))return b(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,j.apply(C,n)}}),R.prototype[I]||r(17)(R.prototype,I,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){r(130),r(77),r(125),r(124),e.exports=r(2).Symbol},function(e,t,r){e.exports={default:r(131),__esModule:!0}},function(e,t,r){r(28),r(31),e.exports=r(45).f("iterator")},function(e,t,r){e.exports={default:r(133),__esModule:!0}},function(e,t,r){var n=r(8),a=r(51);e.exports=r(2).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){r(31),r(28),e.exports=r(135)},function(e,t,r){e.exports={default:r(136),__esModule:!0}},function(e,t,r){var n=r(50),a=r(4)("iterator"),i=r(21);e.exports=r(2).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){r(31),r(28),e.exports=r(138)},function(e,t,r){e.exports={default:r(139),__esModule:!0}},function(e,t,r){"use strict";var n=r(34),a=r(47),i=r(30),o=r(52),s=r(82),u=Object.assign;e.exports=!u||r(27)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=o(e),u=arguments.length,l=1,c=a.f,f=i.f;u>l;)for(var h,d=s(arguments[l++]),p=c?n(d).concat(c(d)):n(d),v=p.length,y=0;v>y;)f.call(d,h=p[y++])&&(r[h]=d[h]);return r}:u},function(e,t,r){var n=r(9);n(n.S+n.F,"Object",{assign:r(141)})},function(e,t,r){r(142),e.exports=r(2).Object.assign},function(e,t,r){e.exports={default:r(143),__esModule:!0}},function(e,t,r){var n=r(9);n(n.S+n.F*!r(14),"Object",{defineProperty:r(12).f})},function(e,t,r){r(145);var n=r(2).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){e.exports={default:r(146),__esModule:!0}},function(e,t,r){"use strict";var n=r(9),a=r(49),i=r(74);n(n.S,"Promise",{try:function(e){var t=a.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";var n=r(9),a=r(2),i=r(5),o=r(76),s=r(73);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(5),a=r(2),i=r(12),o=r(14),s=r(4)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:n[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(17);e.exports=function(e,t,r){for(var a in t)r&&e[a]?e[a]=t[a]:n(e,a,t[a]);return e}},function(e,t,r){var n=r(5),a=r(75).set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(25)(o);e.exports=function(){var e,t,r,l=function(){var n,a;for(u&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(l)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();r=function(){c.then(l)}}else r=function(){a.call(n,l)};else{var f=!0,h=document.createTextNode("");new i(l).observe(h,{characterData:!0}),r=function(){h.data=f=!f}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(22),a=r(80),i=r(79),o=r(8),s=r(56),u=r(51),l={},c={};(t=e.exports=function(e,t,r,f,h){var d,p,v,y,b=h?function(){return e}:u(e),m=n(r,f,t?2:1),g=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(i(b)){for(d=s(e.length);d>g;g++)if((y=t?m(o(p=e[g])[0],p[1]):m(e[g]))===l||y===c)return y}else for(v=b.call(e);!(p=v.next()).done;)if((y=a(v,m,p.value,t))===l||y===c)return y}).BREAK=l,t.RETURN=c},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";var n,a,i,o,s=r(36),u=r(5),l=r(22),c=r(50),f=r(9),h=r(15),d=r(35),p=r(155),v=r(154),y=r(76),b=r(75).set,m=r(152)(),g=r(49),_=r(74),w=r(73),S=u.TypeError,k=u.process,x=u.Promise,M="process"==c(k),A=function(){},P=a=g.f,T=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[r(4)("species")]=function(e){e(A,A)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),O=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},E=function(e,t){if(!e._n){e._n=!0;var r=e._c;m(function(){for(var n=e._v,a=1==e._s,i=0,o=function(t){var r,i,o=a?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{o?(a||(2==e._h&&j(e),e._h=1),!0===o?r=n:(l&&l.enter(),r=o(n),l&&l.exit()),r===t.promise?u(S("Promise-chain cycle")):(i=O(r))?i.call(r,s,u):s(r)):u(n)}catch(e){u(e)}};r.length>i;)o(r[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){b.call(u,function(){var t,r,n,a=e._v,i=C(e);if(i&&(t=_(function(){M?k.emit("unhandledRejection",a,e):(r=u.onunhandledrejection)?r({promise:e,reason:a}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",a)}),e._h=M||C(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},C=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){b.call(u,function(){var t;M?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},I=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=O(e))?m(function(){var n={_w:r,_d:!1};try{t.call(e,l(I,n,1),l(N,n,1))}catch(e){N.call(n,e)}}):(r._v=e,r._s=1,E(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};T||(x=function(e){p(this,x,"Promise","_h"),d(e),n.call(this);try{e(l(I,this,1),l(N,this,1))}catch(e){N.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(151)(x.prototype,{then:function(e,t){var r=P(y(this,x));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=M?k.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&E(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=l(I,e,1),this.reject=l(N,e,1)},g.f=P=function(e){return e===x||e===o?new i(e):a(e)}),f(f.G+f.W+f.F*!T,{Promise:x}),r(32)(x,"Promise"),r(150)("Promise"),o=r(2).Promise,f(f.S+f.F*!T,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!T),"Promise",{resolve:function(e){return w(s&&this===o?x:this,e)}}),f(f.S+f.F*!(T&&r(78)(function(e){x.all(e).catch(A)})),"Promise",{all:function(e){var t=this,r=P(t),n=r.resolve,a=r.reject,i=_(function(){var r=[],i=0,o=1;v(e,!1,function(e){var s=i++,u=!1;r.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--o||n(r))},a)}),--o||n(r)});return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,a=_(function(){v(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return a.e&&n(a.v),r.promise}})},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,r){"use strict";var n=r(158),a=r(157),i=r(21),o=r(20);e.exports=r(86)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){r(77),r(28),r(31),r(156),r(149),r(148),e.exports=r(2).Promise},function(e,t,r){e.exports={default:r(160),__esModule:!0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=_;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},y={};y[o]=function(){return this};var b=Object.getPrototypeOf,m=b&&b(b(R([])));m&&m!==n&&a.call(m,o)&&(y=m);var g=x.prototype=S.prototype=Object.create(y);k.prototype=g.constructor=x,x.constructor=k,x[u]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(g),e},c.awrap=function(e){return{__await:e}},M(A.prototype),A.prototype[s]=function(){return this},c.AsyncIterator=A,c.async=function(e,t,r,n){var a=new A(_(e,t,r,n));return c.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},M(g),g[u]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=R,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function _(e,t,r,n){var a=t&&t.prototype instanceof S?t:S,i=Object.create(a.prototype),o=new E(n||[]);return i._invoke=function(e,t,r){var n=f;return function(a,i){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw i;return C()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=w(e,t,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function S(){}function k(){}function x(){}function M(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(e){var t;this._invoke=function(r,n){function i(){return new Promise(function(t,i){!function t(r,n,i,o){var s=w(e[r],e,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(l).then(function(e){u.value=e,i(u)},o)}o(s.arg)}(r,n,t,i)})}return t=t?t.then(i,i):i()}}function P(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,P(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=w(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,v;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,r){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(162),a)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t,r){"use strict";var n=r(12),a=r(26);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},function(e,t,r){"use strict";var n=r(22),a=r(9),i=r(52),o=r(80),s=r(79),u=r(56),l=r(164),c=r(51);a(a.S+a.F*!r(78)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,f,h=i(e),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,b=0,m=c(h);if(y&&(v=n(v,p>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(r=new d(t=u(h.length));t>b;b++)l(r,b,y?v(h[b],b):h[b]);else for(f=m.call(h),r=new d;!(a=f.next()).done;b++)l(r,b,y?o(f,v,[a.value,b],!0):a.value);return r.length=b,r}})},function(e,t,r){var n=r(16),a=r(52),i=r(55)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){var n=r(61),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){var n=r(20),a=r(56),i=r(167);e.exports=function(e){return function(t,r,o){var s,u=n(t),l=a(u.length),c=i(o,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(12),a=r(8),i=r(34);e.exports=r(14)?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},function(e,t,r){"use strict";var n=r(57),a=r(26),i=r(32),o={};r(17)(o,r(4)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(61),a=r(60);e.exports=function(e){return function(t,r){var i,o,s=String(a(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536}}},function(e,t,r){r(28),r(165),e.exports=r(2).Array.from},function(e,t,r){e.exports={default:r(172),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(10)),a=d(r(3)),i=d(r(11)),o=d(r(1)),s=d(r(0)),u=r(7),l=d(r(48)),c=d(r(6)),f=d(r(41)),h=(d(r(40)),d(r(39)),d(r(38)),d(r(37)),d(r(63)),d(r(62)));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),Object.defineProperty(this,"objects",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"buildData",{enumerable:!0,writable:!0,value:{shape:null,random:null}}),Object.defineProperty(this,"star_systems",{enumerable:!0,writable:!0,value:[]}),this.props=Object.assign({},e.defaultProps,t),this.seed=this.props.seed||Date.now(),this.setName(this.props.name),this.galaxies=this.props.galaxies,this.fillBuildData()}return(0,s.default)(e,[{key:"statistics",get:function(){return null==this._statistics&&this.fillStatistics(),this._statistics}}]),(0,s.default)(e,[{key:"build",value:function(){var e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setName",value:function(e){this.name=e,this.code="WORLD."+this.name.toUpperCase().replace(new RegExp(" ","g"),"")}},{key:"generateName",value:function(){var e=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="abc",this.name||(this.name=t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fillBuildData",value:function(){this.buildData.random=new c.default(this.seed)}},{key:"generateGalaxies",value:a.default.mark(function e(){var t,r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=1,r=Array.isArray(this.galaxies)?this.galaxies.length:0,n=r;case 4:if(!(n<t)){e.next=10;break}return e.next=7,new h.default;case 7:n++,e.next=4;break;case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error("* generateGalaxies>",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])})},{key:"GenerateUniqNames",value:function(e){return this.star_systems.forEach(function(t){return t.Name(f.default.Generate(e))}),this}},{key:"GenerateStars",value:function(e){var t=[].concat((0,n.default)(e.Generate(this._random)));return this.star_systems=t.map(function(e){return new l.default("123",e)}),this}}]),e}();Object.defineProperty(p,"defaultProps",{enumerable:!0,writable:!0,value:{seed:null,name:"no_name",classification:"grid",position:new u.Vector3}}),t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Random=t.Planet=t.Star=t.Spiral=t.Grid=t.System=t.Galaxy=t.World=void 0;var n=f(r(174)),a=f(r(62)),i=f(r(48)),o=f(r(40)),s=f(r(38)),u=f(r(24)),l=f(r(68)),c=f(r(6));function f(e){return e&&e.__esModule?e:{default:e}}t.World=n.default,t.Galaxy=a.default,t.System=i.default,t.Grid=o.default,t.Spiral=s.default,t.Star=u.default,t.Planet=l.default,t.Random=c.default},function(e,t,r){e.exports=r(175)}])});
//# sourceMappingURL=library.js.map